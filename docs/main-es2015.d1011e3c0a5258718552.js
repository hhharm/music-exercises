(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},BNHZ:function(t,e,n){!function(t,e,n,s){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(e),o=r(n),a=r(s),l=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},c=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},u=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},d=function(t,e,n){var s=n.target;return s+(e-s)*Math.exp((n.startTime-t)/n.timeConstant)},p=function(t){return"exponentialRampToValue"===t.type},f=function(t){return"linearRampToValue"===t.type},m=function(t){return p(t)||f(t)},g=function(t){return"setValue"===t.type},_=function(t){return"setValueCurve"===t.type},v=function t(e,n,s,r){var i=e[n];return void 0===i?r:m(i)||g(i)?i.value:_(i)?i.values[i.values.length-1]:d(s,t(e,n-1,i.startTime,r),i)},y=function(t,e,n,s,r){return void 0===n?[s.insertTime,r]:m(n)?[n.endTime,n.value]:g(n)?[n.startTime,n.value]:_(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,v(t,e-1,n.startTime,r)]},w=function(t){return"cancelAndHold"===t.type},b=function(t){return"cancelScheduledValues"===t.type},x=function(t){return w(t)||b(t)?t.cancelTime:p(t)||f(t)?t.endTime:t.startTime},T=function(t,e,n,s){var r=s.value;return n===r?r:0<n&&0<r||n<0&&r<0?n*Math.pow(r/n,(t-e)/(s.endTime-e)):0},C=function(t,e,n,s){return n+(t-e)/(s.endTime-e)*(s.value-n)},k=function(t){return"setTarget"===t.type};t.AutomationEventList=function(){function t(e){o.default(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return a.default(t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=x(t);if(w(t)||b(t)){var n=this._automationEvents.findIndex(function(n){return b(t)&&_(n)?n.startTime+n.duration>=e:x(n)>=e}),s=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),w(t)){var r=this._automationEvents[this._automationEvents.length-1];if(void 0!==s&&m(s)){if(k(r))throw new Error("The internal list is malformed.");var i=_(r)?r.startTime+r.duration:x(r),o=_(r)?r.values[r.values.length-1]:r.value,a=p(s)?T(e,i,o,s):C(e,i,o,s),d=p(s)?l(a,e,this._currenTime):c(a,e,this._currenTime);this._automationEvents.push(d)}void 0!==r&&k(r)&&this._automationEvents.push(u(this.getValue(e),e)),void 0!==r&&_(r)&&r.startTime+r.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),r.startTime,e-r.startTime))}}else{var g=this._automationEvents.findIndex(function(t){return x(t)>e}),v=-1===g?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[g-1];if(void 0!==v&&_(v)&&x(v)+v.duration>e)return!1;var y=p(t)?l(t.value,t.endTime,this._currenTime):f(t)?c(t.value,e,this._currenTime):t;if(-1===g)this._automationEvents.push(y);else{if(_(t)&&e+t.duration>x(this._automationEvents[g]))return!1;this._automationEvents.splice(g,0,y)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex(function(e){return x(e)>t});if(e>1){var n=this._automationEvents.slice(e-1),s=n[0];k(s)&&n.unshift(u(v(this._automationEvents,e-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents[this._automationEvents.length-1],n=this._automationEvents.findIndex(function(e){return x(e)>t}),s=this._automationEvents[n],r=x(e)<=t?e:this._automationEvents[n-1];if(void 0!==r&&k(r)&&(void 0===s||!m(s)||s.insertTime>t))return d(t,v(this._automationEvents,n-2,r.startTime,this._defaultValue),r);if(void 0!==r&&g(r)&&(void 0===s||!m(s)))return r.value;if(void 0!==r&&_(r)&&(void 0===s||!m(s)||r.startTime+r.duration>t))return t<r.startTime+r.duration?function(t,e){var n=e.values;return function(t,e){var n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]}(n,(t-e.startTime)/e.duration*(n.length-1))}(t,r):r.values[r.values.length-1];if(void 0!==r&&m(r)&&(void 0===s||!m(s)))return r.value;if(void 0!==s&&p(s)){var o=y(this._automationEvents,n-1,r,s,this._defaultValue),a=i.default(o,2);return T(t,a[0],a[1],s)}if(void 0!==s&&f(s)){var l=y(this._automationEvents,n-1,r,s,this._defaultValue),c=i.default(l,2);return C(t,c[0],c[1],s)}return this._defaultValue}}]),t}(),t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=u,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("J4zp"),n("lwsE"),n("W8MJ"))},J4zp:function(t,e,n){var s=n("wTVA"),r=n("m0LI"),i=n("ZhPi"),o=n("wkBT");t.exports=function(t,e){return s(t)||r(t,e)||i(t,e)||o()}},W8MJ:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}t.exports=function(t,e,s){return e&&n(t.prototype,e),s&&n(t,s),t}},WkPL:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}},ZhPi:function(t,e,n){var s=n("WkPL");t.exports=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}},"hN/g":function(t,e,n){"use strict";n.r(e),n("pDpN")},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},m0LI:function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],s=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(s=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);s=!0);}catch(l){r=!0,i=l}finally{try{s||null==a.return||a.return()}finally{if(r)throw i}}return n}}},pDpN:function(t,e){!function(t){const e=t.performance;function n(t){e&&e.mark&&e.mark(t)}function s(t,n){e&&e.measure&&e.measure(t,n)}n("Zone");const r=t.__Zone_symbol_prefix||"__zone_symbol__";function i(t){return r+t}const o=!0===t[i("forceDuplicateZoneCheck")];if(t.Zone){if(o||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}class a{constructor(t,e){this._parent=t,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new c(this,this._parent&&this._parent._zoneDelegate,e)}static assertZonePatched(){if(t.Promise!==O.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=a.current;for(;t.parent;)t=t.parent;return t}static get current(){return M.zone}static get currentTask(){return D}static __load_patch(e,r){if(O.hasOwnProperty(e)){if(o)throw Error("Already loaded patch: "+e)}else if(!t["__Zone_disable_"+e]){const i="Zone:"+e;n(i),O[e]=r(t,a,I),s(i,i)}}get parent(){return this._parent}get name(){return this._name}get(t){const e=this.getZoneWith(t);if(e)return e._properties[t]}getZoneWith(t){let e=this;for(;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const n=this._zoneDelegate.intercept(this,t,e),s=this;return function(){return s.runGuarded(n,this,arguments,e)}}run(t,e,n,s){M={parent:M,zone:this};try{return this._zoneDelegate.invoke(this,t,e,n,s)}finally{M=M.parent}}runGuarded(t,e=null,n,s){M={parent:M,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,n,s)}catch(r){if(this._zoneDelegate.handleError(this,r))throw r}}finally{M=M.parent}}runTask(t,e,n){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||y).name+"; Execution: "+this.name+")");if(t.state===w&&(t.type===A||t.type===S))return;const s=t.state!=T;s&&t._transitionTo(T,x),t.runCount++;const r=D;D=t,M={parent:M,zone:this};try{t.type==S&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,e,n)}catch(i){if(this._zoneDelegate.handleError(this,i))throw i}}finally{t.state!==w&&t.state!==k&&(t.type==A||t.data&&t.data.isPeriodic?s&&t._transitionTo(x,T):(t.runCount=0,this._updateTaskCount(t,-1),s&&t._transitionTo(w,T,w))),M=M.parent,D=r}}scheduleTask(t){if(t.zone&&t.zone!==this){let e=this;for(;e;){if(e===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);e=e.parent}}t._transitionTo(b,w);const e=[];t._zoneDelegates=e,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(n){throw t._transitionTo(k,b,w),this._zoneDelegate.handleError(this,n),n}return t._zoneDelegates===e&&this._updateTaskCount(t,1),t.state==b&&t._transitionTo(x,b),t}scheduleMicroTask(t,e,n,s){return this.scheduleTask(new u(E,t,e,n,s,void 0))}scheduleMacroTask(t,e,n,s,r){return this.scheduleTask(new u(S,t,e,n,s,r))}scheduleEventTask(t,e,n,s,r){return this.scheduleTask(new u(A,t,e,n,s,r))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||y).name+"; Execution: "+this.name+")");t._transitionTo(C,x,T);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(k,C),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(w,C),t.runCount=0,t}_updateTaskCount(t,e){const n=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(let s=0;s<n.length;s++)n[s]._updateTaskCount(t.type,e)}}a.__symbol__=i;const l={name:"",onHasTask:(t,e,n,s)=>t.hasTask(n,s),onScheduleTask:(t,e,n,s)=>t.scheduleTask(n,s),onInvokeTask:(t,e,n,s,r,i)=>t.invokeTask(n,s,r,i),onCancelTask:(t,e,n,s)=>t.cancelTask(n,s)};class c{constructor(t,e,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=e,this._forkZS=n&&(n&&n.onFork?n:e._forkZS),this._forkDlgt=n&&(n.onFork?e:e._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:e._forkCurrZone),this._interceptZS=n&&(n.onIntercept?n:e._interceptZS),this._interceptDlgt=n&&(n.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:e._interceptCurrZone),this._invokeZS=n&&(n.onInvoke?n:e._invokeZS),this._invokeDlgt=n&&(n.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:e._invokeCurrZone),this._handleErrorZS=n&&(n.onHandleError?n:e._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:e._handleErrorCurrZone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:e._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:e._scheduleTaskCurrZone),this._invokeTaskZS=n&&(n.onInvokeTask?n:e._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:e._invokeTaskCurrZone),this._cancelTaskZS=n&&(n.onCancelTask?n:e._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:e._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const s=n&&n.onHasTask;(s||e&&e._hasTaskZS)&&(this._hasTaskZS=s?n:l,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,n.onScheduleTask||(this._scheduleTaskZS=l,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=l,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=l,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this.zone))}fork(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new a(t,e)}intercept(t,e,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,n):e}invoke(t,e,n,s,r){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,n,s,r):e.apply(n,s)}handleError(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)}scheduleTask(t,e){let n=e;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e),n||(n=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=E)throw new Error("Task is missing scheduleFn.");_(e)}return n}invokeTask(t,e,n,s){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,n,s):e.callback.apply(n,s)}cancelTask(t,e){let n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");n=e.cancelFn(e)}return n}hasTask(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(n){this.handleError(t,n)}}_updateTaskCount(t,e){const n=this._taskCounts,s=n[t],r=n[t]=s+e;if(r<0)throw new Error("More tasks executed then were scheduled.");0!=s&&0!=r||this.hasTask(this.zone,{microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:t})}}class u{constructor(e,n,s,r,i,o){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=n,this.data=r,this.scheduleFn=i,this.cancelFn=o,!s)throw new Error("callback is not defined");this.callback=s;const a=this;this.invoke=e===A&&r&&r.useG?u.invokeTask:function(){return u.invokeTask.call(t,a,this,arguments)}}static invokeTask(t,e,n){t||(t=this),N++;try{return t.runCount++,t.zone.runTask(t,e,n)}finally{1==N&&v(),N--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(w,b)}_transitionTo(t,e,n){if(this._state!==e&&this._state!==n)throw new Error(`${this.type} '${this.source}': can not transition to '${t}', expecting state '${e}'${n?" or '"+n+"'":""}, was '${this._state}'.`);this._state=t,t==w&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const h=i("setTimeout"),d=i("Promise"),p=i("then");let f,m=[],g=!1;function _(e){if(0===N&&0===m.length)if(f||t[d]&&(f=t[d].resolve(0)),f){let t=f[p];t||(t=f.then),t.call(f,v)}else t[h](v,0);e&&m.push(e)}function v(){if(!g){for(g=!0;m.length;){const e=m;m=[];for(let n=0;n<e.length;n++){const s=e[n];try{s.zone.runTask(s,null,null)}catch(t){I.onUnhandledError(t)}}}I.microtaskDrainDone(),g=!1}}const y={name:"NO ZONE"},w="notScheduled",b="scheduling",x="scheduled",T="running",C="canceling",k="unknown",E="microTask",S="macroTask",A="eventTask",O={},I={symbol:i,currentZoneFrame:()=>M,onUnhandledError:R,microtaskDrainDone:R,scheduleMicroTask:_,showUncaughtError:()=>!a[i("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:R,patchMethod:()=>R,bindArguments:()=>[],patchThen:()=>R,patchMacroTask:()=>R,patchEventPrototype:()=>R,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>R,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>R,wrapWithCurrentZone:()=>R,filterProperties:()=>[],attachOriginToPatched:()=>R,_redefineProperty:()=>R,patchCallbacks:()=>R};let M={parent:null,zone:new a(null,null)},D=null,N=0;function R(){}s("Zone","Zone"),t.Zone=a}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const n=Object.getOwnPropertyDescriptor,s=Object.defineProperty,r=Object.getPrototypeOf,i=Object.create,o=Array.prototype.slice,a=Zone.__symbol__("addEventListener"),l=Zone.__symbol__("removeEventListener"),c=Zone.__symbol__("");function u(t,e){return Zone.current.wrap(t,e)}function h(t,e,n,s,r){return Zone.current.scheduleMacroTask(t,e,n,s,r)}const d=Zone.__symbol__,p="undefined"!=typeof window,f=p?window:void 0,m=p&&f||"object"==typeof self&&self||global,g=[null];function _(t,e){for(let n=t.length-1;n>=0;n--)"function"==typeof t[n]&&(t[n]=u(t[n],e+"_"+n));return t}function v(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const y="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,w=!("nw"in m)&&void 0!==m.process&&"[object process]"==={}.toString.call(m.process),b=!w&&!y&&!(!p||!f.HTMLElement),x=void 0!==m.process&&"[object process]"==={}.toString.call(m.process)&&!y&&!(!p||!f.HTMLElement),T={},C=function(t){if(!(t=t||m.event))return;let e=T[t.type];e||(e=T[t.type]=d("ON_PROPERTY"+t.type));const n=this||t.target||m,s=n[e];let r;if(b&&n===f&&"error"===t.type){const e=t;r=s&&s.call(this,e.message,e.filename,e.lineno,e.colno,e.error),!0===r&&t.preventDefault()}else r=s&&s.apply(this,arguments),null==r||r||t.preventDefault();return r};function k(t,e,r){let i=n(t,e);if(!i&&r&&n(r,e)&&(i={enumerable:!0,configurable:!0}),!i||!i.configurable)return;const o=d("on"+e+"patched");if(t.hasOwnProperty(o)&&t[o])return;delete i.writable,delete i.value;const a=i.get,l=i.set,c=e.substr(2);let u=T[c];u||(u=T[c]=d("ON_PROPERTY"+c)),i.set=function(e){let n=this;n||t!==m||(n=m),n&&(n[u]&&n.removeEventListener(c,C),l&&l.apply(n,g),"function"==typeof e?(n[u]=e,n.addEventListener(c,C,!1)):n[u]=null)},i.get=function(){let n=this;if(n||t!==m||(n=m),!n)return null;const s=n[u];if(s)return s;if(a){let t=a&&a.call(this);if(t)return i.set.call(this,t),"function"==typeof n.removeAttribute&&n.removeAttribute(e),t}return null},s(t,e,i),t[o]=!0}function E(t,e,n){if(e)for(let s=0;s<e.length;s++)k(t,"on"+e[s],n);else{const e=[];for(const n in t)"on"==n.substr(0,2)&&e.push(n);for(let s=0;s<e.length;s++)k(t,e[s],n)}}const S=d("originalInstance");function A(t){const e=m[t];if(!e)return;m[d(t)]=e,m[t]=function(){const n=_(arguments,t);switch(n.length){case 0:this[S]=new e;break;case 1:this[S]=new e(n[0]);break;case 2:this[S]=new e(n[0],n[1]);break;case 3:this[S]=new e(n[0],n[1],n[2]);break;case 4:this[S]=new e(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},M(m[t],e);const n=new e(function(){});let r;for(r in n)"XMLHttpRequest"===t&&"responseBlob"===r||function(e){"function"==typeof n[e]?m[t].prototype[e]=function(){return this[S][e].apply(this[S],arguments)}:s(m[t].prototype,e,{set:function(n){"function"==typeof n?(this[S][e]=u(n,t+"."+e),M(this[S][e],n)):this[S][e]=n},get:function(){return this[S][e]}})}(r);for(r in e)"prototype"!==r&&e.hasOwnProperty(r)&&(m[t][r]=e[r])}function O(t,e,s){let i=t;for(;i&&!i.hasOwnProperty(e);)i=r(i);!i&&t[e]&&(i=t);const o=d(e);let a=null;if(i&&!(a=i[o])&&(a=i[o]=i[e],v(i&&n(i,e)))){const t=s(a,o,e);i[e]=function(){return t(this,arguments)},M(i[e],a)}return a}function I(t,e,n){let s=null;function r(t){const e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},s.apply(e.target,e.args),t}s=O(t,e,t=>function(e,s){const i=n(e,s);return i.cbIdx>=0&&"function"==typeof s[i.cbIdx]?h(i.name,s[i.cbIdx],i,r):t.apply(e,s)})}function M(t,e){t[d("OriginalDelegate")]=e}let D=!1,N=!1;function R(){try{const t=f.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}function P(){if(D)return N;D=!0;try{const t=f.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(N=!0)}catch(t){}return N}Zone.__load_patch("ZoneAwarePromise",(t,e,n)=>{const s=Object.getOwnPropertyDescriptor,r=Object.defineProperty,i=n.symbol,o=[],a=!0===t[i("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],l=i("Promise"),c=i("then");n.onUnhandledError=t=>{if(n.showUncaughtError()){const e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},n.microtaskDrainDone=()=>{for(;o.length;){const e=o.shift();try{e.zone.runGuarded(()=>{if(e.throwOriginal)throw e.rejection;throw e})}catch(t){h(t)}}};const u=i("unhandledPromiseRejectionHandler");function h(t){n.onUnhandledError(t);try{const n=e[u];"function"==typeof n&&n.call(this,t)}catch(s){}}function d(t){return t&&t.then}function p(t){return t}function f(t){return S.reject(t)}const m=i("state"),g=i("value"),_=i("finally"),v=i("parentPromiseValue"),y=i("parentPromiseState");function w(t,e){return n=>{try{x(t,e,n)}catch(s){x(t,!1,s)}}}const b=i("currentTaskTrace");function x(t,s,i){const l=function(){let t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}}();if(t===i)throw new TypeError("Promise resolved with itself");if(null===t[m]){let h=null;try{"object"!=typeof i&&"function"!=typeof i||(h=i&&i.then)}catch(u){return l(()=>{x(t,!1,u)})(),t}if(!1!==s&&i instanceof S&&i.hasOwnProperty(m)&&i.hasOwnProperty(g)&&null!==i[m])C(i),x(t,i[m],i[g]);else if(!1!==s&&"function"==typeof h)try{h.call(i,l(w(t,s)),l(w(t,!1)))}catch(u){l(()=>{x(t,!1,u)})()}else{t[m]=s;const l=t[g];if(t[g]=i,t[_]===_&&!0===s&&(t[m]=t[y],t[g]=t[v]),!1===s&&i instanceof Error){const t=e.currentTask&&e.currentTask.data&&e.currentTask.data.__creationTrace__;t&&r(i,b,{configurable:!0,enumerable:!1,writable:!0,value:t})}for(let e=0;e<l.length;)k(t,l[e++],l[e++],l[e++],l[e++]);if(0==l.length&&0==s){t[m]=0;let s=i;try{throw new Error("Uncaught (in promise): "+((c=i)&&c.toString===Object.prototype.toString?(c.constructor&&c.constructor.name||"")+": "+JSON.stringify(c):c?c.toString():Object.prototype.toString.call(c))+(i&&i.stack?"\n"+i.stack:""))}catch(u){s=u}a&&(s.throwOriginal=!0),s.rejection=i,s.promise=t,s.zone=e.current,s.task=e.currentTask,o.push(s),n.scheduleMicroTask()}}}var c;return t}const T=i("rejectionHandledHandler");function C(t){if(0===t[m]){try{const n=e[T];n&&"function"==typeof n&&n.call(this,{rejection:t[g],promise:t})}catch(n){}t[m]=!1;for(let e=0;e<o.length;e++)t===o[e].promise&&o.splice(e,1)}}function k(t,e,n,s,r){C(t);const i=t[m],o=i?"function"==typeof s?s:p:"function"==typeof r?r:f;e.scheduleMicroTask("Promise.then",()=>{try{const s=t[g],r=!!n&&_===n[_];r&&(n[v]=s,n[y]=i);const a=e.run(o,void 0,r&&o!==f&&o!==p?[]:[s]);x(n,!0,a)}catch(s){x(n,!1,s)}},n)}const E=function(){};class S{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(t){return x(new this(null),!0,t)}static reject(t){return x(new this(null),!1,t)}static race(t){let e,n,s=new this((t,s)=>{e=t,n=s});function r(t){e(t)}function i(t){n(t)}for(let o of t)d(o)||(o=this.resolve(o)),o.then(r,i);return s}static all(t){return S.allWithCallback(t)}static allSettled(t){return(this&&this.prototype instanceof S?this:S).allWithCallback(t,{thenCallback:t=>({status:"fulfilled",value:t}),errorCallback:t=>({status:"rejected",reason:t})})}static allWithCallback(t,e){let n,s,r=new this((t,e)=>{n=t,s=e}),i=2,o=0;const a=[];for(let c of t){d(c)||(c=this.resolve(c));const t=o;try{c.then(s=>{a[t]=e?e.thenCallback(s):s,i--,0===i&&n(a)},r=>{e?(a[t]=e.errorCallback(r),i--,0===i&&n(a)):s(r)})}catch(l){s(l)}i++,o++}return i-=2,0===i&&n(a),r}constructor(t){const e=this;if(!(e instanceof S))throw new Error("Must be an instanceof Promise.");e[m]=null,e[g]=[];try{t&&t(w(e,!0),w(e,!1))}catch(n){x(e,!1,n)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return S}then(t,n){let s=this.constructor[Symbol.species];s&&"function"==typeof s||(s=this.constructor||S);const r=new s(E),i=e.current;return null==this[m]?this[g].push(i,r,t,n):k(this,i,r,t,n),r}catch(t){return this.then(null,t)}finally(t){let n=this.constructor[Symbol.species];n&&"function"==typeof n||(n=S);const s=new n(E);s[_]=_;const r=e.current;return null==this[m]?this[g].push(r,s,t,t):k(this,r,s,t,t),s}}S.resolve=S.resolve,S.reject=S.reject,S.race=S.race,S.all=S.all;const A=t[l]=t.Promise;t.Promise=S;const I=i("thenPatched");function M(t){const e=t.prototype,n=s(e,"then");if(n&&(!1===n.writable||!n.configurable))return;const r=e.then;e[c]=r,t.prototype.then=function(t,e){return new S((t,e)=>{r.call(this,t,e)}).then(t,e)},t[I]=!0}return n.patchThen=M,A&&(M(A),O(t,"fetch",t=>{return e=t,function(t,n){let s=e.apply(t,n);if(s instanceof S)return s;let r=s.constructor;return r[I]||M(r),s};var e})),Promise[e.__symbol__("uncaughtPromiseErrors")]=o,S}),Zone.__load_patch("toString",t=>{const e=Function.prototype.toString,n=d("OriginalDelegate"),s=d("Promise"),r=d("Error"),i=function(){if("function"==typeof this){const i=this[n];if(i)return"function"==typeof i?e.call(i):Object.prototype.toString.call(i);if(this===Promise){const n=t[s];if(n)return e.call(n)}if(this===Error){const n=t[r];if(n)return e.call(n)}}return e.call(this)};i[n]=e,Function.prototype.toString=i;const o=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":o.call(this)}});let V=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){V=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(ct){V=!1}const F={useG:!0},j={},L={},q=new RegExp("^"+c+"(\\w+)(true|false)$"),z=d("propagationStopped");function Z(t,e){const n=(e?e(t):t)+"false",s=(e?e(t):t)+"true",r=c+n,i=c+s;j[t]={},j[t].false=r,j[t].true=i}function H(t,e,n){const s=n&&n.add||"addEventListener",i=n&&n.rm||"removeEventListener",o=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",l=d(s),u="."+s+":",h=function(t,e,n){if(t.isRemoved)return;const s=t.callback;"object"==typeof s&&s.handleEvent&&(t.callback=t=>s.handleEvent(t),t.originalDelegate=s),t.invoke(t,e,[n]);const r=t.options;r&&"object"==typeof r&&r.once&&e[i].call(e,n.type,t.originalDelegate?t.originalDelegate:t.callback,r)},p=function(e){if(!(e=e||t.event))return;const n=this||e.target||t,s=n[j[e.type].false];if(s)if(1===s.length)h(s[0],n,e);else{const t=s.slice();for(let s=0;s<t.length&&(!e||!0!==e[z]);s++)h(t[s],n,e)}},f=function(e){if(!(e=e||t.event))return;const n=this||e.target||t,s=n[j[e.type].true];if(s)if(1===s.length)h(s[0],n,e);else{const t=s.slice();for(let s=0;s<t.length&&(!e||!0!==e[z]);s++)h(t[s],n,e)}};function m(e,n){if(!e)return!1;let h=!0;n&&void 0!==n.useG&&(h=n.useG);const m=n&&n.vh;let g=!0;n&&void 0!==n.chkDup&&(g=n.chkDup);let _=!1;n&&void 0!==n.rt&&(_=n.rt);let v=e;for(;v&&!v.hasOwnProperty(s);)v=r(v);if(!v&&e[s]&&(v=e),!v)return!1;if(v[l])return!1;const y=n&&n.eventNameToString,b={},x=v[l]=v[s],T=v[d(i)]=v[i],C=v[d(o)]=v[o],k=v[d(a)]=v[a];let E;function S(t,e){return!V&&"object"==typeof t&&t?!!t.capture:V&&e?"boolean"==typeof t?{capture:t,passive:!0}:t?"object"==typeof t&&!1!==t.passive?Object.assign(Object.assign({},t),{passive:!0}):t:{passive:!0}:t}n&&n.prepend&&(E=v[d(n.prepend)]=v[n.prepend]);const A=h?function(t){if(!b.isExisting)return x.call(b.target,b.eventName,b.capture?f:p,b.options)}:function(t){return x.call(b.target,b.eventName,t.invoke,b.options)},O=h?function(t){if(!t.isRemoved){const e=j[t.eventName];let n;e&&(n=e[t.capture?"true":"false"]);const s=n&&t.target[n];if(s)for(let r=0;r<s.length;r++)if(s[r]===t){s.splice(r,1),t.isRemoved=!0,0===s.length&&(t.allRemoved=!0,t.target[n]=null);break}}if(t.allRemoved)return T.call(t.target,t.eventName,t.capture?f:p,t.options)}:function(t){return T.call(t.target,t.eventName,t.invoke,t.options)},I=n&&n.diff?n.diff:function(t,e){const n=typeof e;return"function"===n&&t.callback===e||"object"===n&&t.originalDelegate===e},D=Zone[d("UNPATCHED_EVENTS")],N=t[d("PASSIVE_EVENTS")],R=function(e,s,r,i,o=!1,a=!1){return function(){const l=this||t;let c=arguments[0];n&&n.transferEventName&&(c=n.transferEventName(c));let u=arguments[1];if(!u)return e.apply(this,arguments);if(w&&"uncaughtException"===c)return e.apply(this,arguments);let d=!1;if("function"!=typeof u){if(!u.handleEvent)return e.apply(this,arguments);d=!0}if(m&&!m(e,u,l,arguments))return;const p=V&&!!N&&-1!==N.indexOf(c),f=S(arguments[2],p);if(D)for(let t=0;t<D.length;t++)if(c===D[t])return p?e.call(l,c,u,f):e.apply(this,arguments);const _=!!f&&("boolean"==typeof f||f.capture),v=!(!f||"object"!=typeof f)&&f.once,x=Zone.current;let T=j[c];T||(Z(c,y),T=j[c]);const C=T[_?"true":"false"];let k,E=l[C],A=!1;if(E){if(A=!0,g)for(let t=0;t<E.length;t++)if(I(E[t],u))return}else E=l[C]=[];const O=l.constructor.name,M=L[O];M&&(k=M[c]),k||(k=O+s+(y?y(c):c)),b.options=f,v&&(b.options.once=!1),b.target=l,b.capture=_,b.eventName=c,b.isExisting=A;const R=h?F:void 0;R&&(R.taskData=b);const P=x.scheduleEventTask(k,u,R,r,i);return b.target=null,R&&(R.taskData=null),v&&(f.once=!0),(V||"boolean"!=typeof P.options)&&(P.options=f),P.target=l,P.capture=_,P.eventName=c,d&&(P.originalDelegate=u),a?E.unshift(P):E.push(P),o?l:void 0}};return v[s]=R(x,u,A,O,_),E&&(v.prependListener=R(E,".prependListener:",function(t){return E.call(b.target,b.eventName,t.invoke,b.options)},O,_,!0)),v[i]=function(){const e=this||t;let s=arguments[0];n&&n.transferEventName&&(s=n.transferEventName(s));const r=arguments[2],i=!!r&&("boolean"==typeof r||r.capture),o=arguments[1];if(!o)return T.apply(this,arguments);if(m&&!m(T,o,e,arguments))return;const a=j[s];let l;a&&(l=a[i?"true":"false"]);const u=l&&e[l];if(u)for(let t=0;t<u.length;t++){const n=u[t];if(I(n,o))return u.splice(t,1),n.isRemoved=!0,0===u.length&&(n.allRemoved=!0,e[l]=null,"string"==typeof s)&&(e[c+"ON_PROPERTY"+s]=null),n.zone.cancelTask(n),_?e:void 0}return T.apply(this,arguments)},v[o]=function(){const e=this||t;let s=arguments[0];n&&n.transferEventName&&(s=n.transferEventName(s));const r=[],i=B(e,y?y(s):s);for(let t=0;t<i.length;t++){const e=i[t];r.push(e.originalDelegate?e.originalDelegate:e.callback)}return r},v[a]=function(){const e=this||t;let s=arguments[0];if(s){n&&n.transferEventName&&(s=n.transferEventName(s));const t=j[s];if(t){const n=e[t.false],r=e[t.true];if(n){const t=n.slice();for(let e=0;e<t.length;e++){const n=t[e];this[i].call(this,s,n.originalDelegate?n.originalDelegate:n.callback,n.options)}}if(r){const t=r.slice();for(let e=0;e<t.length;e++){const n=t[e];this[i].call(this,s,n.originalDelegate?n.originalDelegate:n.callback,n.options)}}}}else{const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=q.exec(t[e]);let s=n&&n[1];s&&"removeListener"!==s&&this[a].call(this,s)}this[a].call(this,"removeListener")}if(_)return this},M(v[s],x),M(v[i],T),k&&M(v[a],k),C&&M(v[o],C),!0}let g=[];for(let r=0;r<e.length;r++)g[r]=m(e[r],n);return g}function B(t,e){if(!e){const n=[];for(let s in t){const r=q.exec(s);let i=r&&r[1];if(i&&(!e||i===e)){const e=t[s];if(e)for(let t=0;t<e.length;t++)n.push(e[t])}}return n}let n=j[e];n||(Z(e),n=j[e]);const s=t[n.false],r=t[n.true];return s?r?s.concat(r):s.slice():r?r.slice():[]}function U(t,e){const n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",t=>function(e,n){e[z]=!0,t&&t.apply(e,n)})}function W(t,e,n,s,r){const i=Zone.__symbol__(s);if(e[i])return;const o=e[i]=e[s];e[s]=function(i,a,l){return a&&a.prototype&&r.forEach(function(e){const r=`${n}.${s}::`+e,i=a.prototype;if(i.hasOwnProperty(e)){const n=t.ObjectGetOwnPropertyDescriptor(i,e);n&&n.value?(n.value=t.wrapWithCurrentZone(n.value,r),t._redefineProperty(a.prototype,e,n)):i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],r))}else i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],r))}),o.call(e,i,a,l)},t.attachOriginToPatched(e[s],o)}const $=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],G=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],Y=["load"],Q=["blur","error","focus","load","resize","scroll","messageerror"],X=["bounce","finish","start"],J=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],K=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],tt=["close","error","open","message"],et=["error","message"],nt=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],$,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function st(t,e,n){if(!n||0===n.length)return e;const s=n.filter(e=>e.target===t);if(!s||0===s.length)return e;const r=s[0].ignoreProperties;return e.filter(t=>-1===r.indexOf(t))}function rt(t,e,n,s){t&&E(t,st(t,e,n),s)}function it(t,e){if(w&&!x)return;if(Zone[t.symbol("patchEvents")])return;const n="undefined"!=typeof WebSocket,s=e.__Zone_ignore_on_properties;if(b){const t=window,e=R()?[{target:t,ignoreProperties:["error"]}]:[];rt(t,nt.concat(["messageerror"]),s?s.concat(e):s,r(t)),rt(Document.prototype,nt,s),void 0!==t.SVGElement&&rt(t.SVGElement.prototype,nt,s),rt(Element.prototype,nt,s),rt(HTMLElement.prototype,nt,s),rt(HTMLMediaElement.prototype,G,s),rt(HTMLFrameSetElement.prototype,$.concat(Q),s),rt(HTMLBodyElement.prototype,$.concat(Q),s),rt(HTMLFrameElement.prototype,Y,s),rt(HTMLIFrameElement.prototype,Y,s);const n=t.HTMLMarqueeElement;n&&rt(n.prototype,X,s);const i=t.Worker;i&&rt(i.prototype,et,s)}const i=e.XMLHttpRequest;i&&rt(i.prototype,J,s);const o=e.XMLHttpRequestEventTarget;o&&rt(o&&o.prototype,J,s),"undefined"!=typeof IDBIndex&&(rt(IDBIndex.prototype,K,s),rt(IDBRequest.prototype,K,s),rt(IDBOpenDBRequest.prototype,K,s),rt(IDBDatabase.prototype,K,s),rt(IDBTransaction.prototype,K,s),rt(IDBCursor.prototype,K,s)),n&&rt(WebSocket.prototype,tt,s)}Zone.__load_patch("util",(t,e,r)=>{r.patchOnProperties=E,r.patchMethod=O,r.bindArguments=_,r.patchMacroTask=I;const a=e.__symbol__("BLACK_LISTED_EVENTS"),l=e.__symbol__("UNPATCHED_EVENTS");t[l]&&(t[a]=t[l]),t[a]&&(e[a]=e[l]=t[a]),r.patchEventPrototype=U,r.patchEventTarget=H,r.isIEOrEdge=P,r.ObjectDefineProperty=s,r.ObjectGetOwnPropertyDescriptor=n,r.ObjectCreate=i,r.ArraySlice=o,r.patchClass=A,r.wrapWithCurrentZone=u,r.filterProperties=st,r.attachOriginToPatched=M,r._redefineProperty=Object.defineProperty,r.patchCallbacks=W,r.getGlobalObjects=()=>({globalSources:L,zoneSymbolEventNames:j,eventNames:nt,isBrowser:b,isMix:x,isNode:w,TRUE_STR:"true",FALSE_STR:"false",ZONE_SYMBOL_PREFIX:c,ADD_EVENT_LISTENER_STR:"addEventListener",REMOVE_EVENT_LISTENER_STR:"removeEventListener"})});const ot=d("zoneTask");function at(t,e,n,s){let r=null,i=null;n+=s;const o={};function a(e){const n=e.data;return n.args[0]=function(){try{e.invoke.apply(this,arguments)}finally{e.data&&e.data.isPeriodic||("number"==typeof n.handleId?delete o[n.handleId]:n.handleId&&(n.handleId[ot]=null))}},n.handleId=r.apply(t,n.args),e}function l(e){return i.call(t,e.data.handleId)}r=O(t,e+=s,n=>function(r,i){if("function"==typeof i[0]){const t=h(e,i[0],{isPeriodic:"Interval"===s,delay:"Timeout"===s||"Interval"===s?i[1]||0:void 0,args:i},a,l);if(!t)return t;const n=t.data.handleId;return"number"==typeof n?o[n]=t:n&&(n[ot]=t),n&&n.ref&&n.unref&&"function"==typeof n.ref&&"function"==typeof n.unref&&(t.ref=n.ref.bind(n),t.unref=n.unref.bind(n)),"number"==typeof n||n?n:t}return n.apply(t,i)}),i=O(t,n,e=>function(n,s){const r=s[0];let i;"number"==typeof r?i=o[r]:(i=r&&r[ot],i||(i=r)),i&&"string"==typeof i.type?"notScheduled"!==i.state&&(i.cancelFn&&i.data.isPeriodic||0===i.runCount)&&("number"==typeof r?delete o[r]:r&&(r[ot]=null),i.zone.cancelTask(i)):e.apply(t,s)})}function lt(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:n,zoneSymbolEventNames:s,TRUE_STR:r,FALSE_STR:i,ZONE_SYMBOL_PREFIX:o}=e.getGlobalObjects();for(let l=0;l<n.length;l++){const t=n[l],e=o+(t+i),a=o+(t+r);s[t]={},s[t][i]=e,s[t][r]=a}const a=t.EventTarget;return a&&a.prototype?(e.patchEventTarget(t,[a&&a.prototype]),!0):void 0}Zone.__load_patch("legacy",t=>{const e=t[Zone.__symbol__("legacyPatch")];e&&e()}),Zone.__load_patch("timers",t=>{at(t,"set","clear","Timeout"),at(t,"set","clear","Interval"),at(t,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",t=>{at(t,"request","cancel","AnimationFrame"),at(t,"mozRequest","mozCancel","AnimationFrame"),at(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(t,e)=>{const n=["alert","prompt","confirm"];for(let s=0;s<n.length;s++)O(t,n[s],(n,s,r)=>function(s,i){return e.current.run(n,t,i,r)})}),Zone.__load_patch("EventTarget",(t,e,n)=>{!function(t,e){e.patchEventPrototype(t,e)}(t,n),lt(t,n);const s=t.XMLHttpRequestEventTarget;s&&s.prototype&&n.patchEventTarget(t,[s.prototype])}),Zone.__load_patch("MutationObserver",(t,e,n)=>{A("MutationObserver"),A("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(t,e,n)=>{A("IntersectionObserver")}),Zone.__load_patch("FileReader",(t,e,n)=>{A("FileReader")}),Zone.__load_patch("on_property",(t,e,n)=>{it(n,t)}),Zone.__load_patch("customElements",(t,e,n)=>{!function(t,e){const{isBrowser:n,isMix:s}=e.getGlobalObjects();(n||s)&&t.customElements&&"customElements"in t&&e.patchCallbacks(e,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,n)}),Zone.__load_patch("XHR",(t,e)=>{!function(t){const u=t.XMLHttpRequest;if(!u)return;const p=u.prototype;let f=p[a],m=p[l];if(!f){const e=t.XMLHttpRequestEventTarget;if(e){const t=e.prototype;f=t[a],m=t[l]}}function g(t){const s=t.data,o=s.target;o[i]=!1,o[c]=!1;const u=o[r];f||(f=o[a],m=o[l]),u&&m.call(o,"readystatechange",u);const h=o[r]=()=>{if(o.readyState===o.DONE)if(!s.aborted&&o[i]&&"scheduled"===t.state){const n=o[e.__symbol__("loadfalse")];if(0!==o.status&&n&&n.length>0){const r=t.invoke;t.invoke=function(){const n=o[e.__symbol__("loadfalse")];for(let e=0;e<n.length;e++)n[e]===t&&n.splice(e,1);s.aborted||"scheduled"!==t.state||r.call(t)},n.push(t)}else t.invoke()}else s.aborted||!1!==o[i]||(o[c]=!0)};return f.call(o,"readystatechange",h),o[n]||(o[n]=t),x.apply(o,s.args),o[i]=!0,t}function _(){}function v(t){const e=t.data;return e.aborted=!0,T.apply(e.target,e.args)}const y=O(p,"open",()=>function(t,e){return t[s]=0==e[2],t[o]=e[1],y.apply(t,e)}),w=d("fetchTaskAborting"),b=d("fetchTaskScheduling"),x=O(p,"send",()=>function(t,n){if(!0===e.current[b])return x.apply(t,n);if(t[s])return x.apply(t,n);{const e={target:t,url:t[o],isPeriodic:!1,args:n,aborted:!1},s=h("XMLHttpRequest.send",_,e,g,v);t&&!0===t[c]&&!e.aborted&&"scheduled"===s.state&&s.invoke()}}),T=O(p,"abort",()=>function(t,s){const r=t[n];if(r&&"string"==typeof r.type){if(null==r.cancelFn||r.data&&r.data.aborted)return;r.zone.cancelTask(r)}else if(!0===e.current[w])return T.apply(t,s)})}(t);const n=d("xhrTask"),s=d("xhrSync"),r=d("xhrListener"),i=d("xhrScheduled"),o=d("xhrURL"),c=d("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&function(t,e){const s=t.constructor.name;for(let r=0;r<e.length;r++){const i=e[r],o=t[i];if(o){if(!v(n(t,i)))continue;t[i]=(t=>{const e=function(){return t.apply(this,_(arguments,s+"."+i))};return M(e,t),e})(o)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(t,e)=>{function n(e){return function(n){B(t,e).forEach(s=>{const r=t.PromiseRejectionEvent;if(r){const t=new r(e,{promise:n.promise,reason:n.rejection});s.invoke(t)}})}}t.PromiseRejectionEvent&&(e[d("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[d("rejectionHandledHandler")]=n("rejectionhandled"))})},wTVA:function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},wkBT:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},zUnb:function(t,e,n){"use strict";function s(t){return"function"==typeof t}n.r(e),n("hN/g");let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(s(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(a){e=a instanceof u?d(a.errors):[a]}}if(l(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof u?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:s}=n;if(null===s)n._parentOrParents=this;else if(s instanceof t){if(s===this)return n;n._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return n;s.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const s=new f(t,e,n);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,r){let i;super(),this._parentSubscriber=t;let o=this;s(e)?i=e:e&&(i=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),s(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=i,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(s){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(o(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function _(t){return t}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(s?s.call(r,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:s}=t;if(e||s)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=y(e))((e,n)=>{let s;s=this.subscribe(e=>{try{t(e)}catch(r){n(r),s&&s.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?_:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=y(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function y(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class b extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class x extends f{constructor(t){super(t),this.destination=t}}let T=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new x(this)}lift(t){const e=new C(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,s=e.slice();for(let r=0;r<n;r++)s[r].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,s=e.slice();for(let r=0;r<n;r++)s[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let s=0;s<e;s++)n[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new b(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new C(t,e),t})();class C extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}class k{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new E(t,this.project,this.thisArg))}}class E extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const S=t=>e=>{for(let n=0,s=t.length;n<s&&!e.closed;n++)e.next(t[n]);e.complete()};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=A(),I=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function M(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const D=t=>{if(t&&"function"==typeof t[g])return s=t,t=>{const e=s[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(I(t))return S(t);if(M(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){let e;try{e=n.next()}catch(s){return t.error(s),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,s};function N(t,e){return new v(n=>{const s=new h;let r=0;return s.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||s.add(this.schedule())):n.complete()})),s})}class R extends f{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class P extends f{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function V(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(V((n,s)=>{return(r=t(n,s),i?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new v(n=>{const s=new h;return s.add(e.schedule(()=>{const r=t[g]();s.add(r.subscribe({next(t){s.add(e.schedule(()=>n.next(t)))},error(t){s.add(e.schedule(()=>n.error(t)))},complete(){s.add(e.schedule(()=>n.complete()))}}))})),s})}(t,e);if(M(t))return function(t,e){return new v(n=>{const s=new h;return s.add(e.schedule(()=>t.then(t=>{s.add(e.schedule(()=>{n.next(t),s.add(e.schedule(()=>n.complete()))}))},t=>{s.add(e.schedule(()=>n.error(t)))}))),s})}(t,e);if(I(t))return N(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const s=new h;let r;return s.add(()=>{r&&"function"==typeof r.return&&r.return()}),s.add(e.schedule(()=>{r=t[O](),s.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(s){return void n.error(s)}e?n.complete():(n.next(t),this.schedule())}))})),s})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(r,i):r instanceof v?r:new v(D(r))).pipe(function(t,e){return function(e){return e.lift(new k(t,undefined))}}((t,r)=>e(n,t,s,r)));var r,i},n)):("number"==typeof e&&(n=e),e=>e.lift(new F(t,n)))}class F{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new j(t,this.project,this.concurrent))}}class j extends P{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new R(this),n=this.destination;n.add(e);const s=function(t,e){if(!e.closed)return t instanceof v?t.subscribe(e):D(t)(e)}(t,e);s!==e&&n.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function L(){return function(t){return t.lift(new q(t))}}class q{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const s=new z(t,n),r=e.subscribe(s);return s.closed||(s.connection=n.connect()),r}}class z extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,s=t._connection;this.connection=null,!s||n&&s!==n||s.unsubscribe()}}class Z extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new B(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return L()(this)}}const H=(()=>{const t=Z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class B extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function U(){return new T}function W(t){for(let e in t)if(t[e]===W)return e;throw Error("Could not find renamed property on target object.")}function $(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map($).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const G=W({__forward_ref__:W});function Y(t){return t.__forward_ref__=Y,t.toString=function(){return $(this())},t}function Q(t){return"function"==typeof(e=t)&&e.hasOwnProperty(G)&&e.__forward_ref__===Y?t():t;var e}function X(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function J(t){return K(t,tt)||K(t,et)}function K(t,e){return t.hasOwnProperty(e)?t[e]:null}const tt=W({\u0275prov:W}),et=W({ngInjectableDef:W});var nt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),st=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const rt="undefined"!=typeof globalThis&&globalThis,it="undefined"!=typeof window&&window,ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,at="undefined"!=typeof global&&global,lt=rt||at||it||ot;Error;class ct{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}let ut=void 0;function ht(t,e,n){return(()=>{const s=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return s.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,s){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=s;)r.push(null);return(r[s]=r[s]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})()}class dt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=X({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}function pt(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?(e===t&&(e=t.slice(0,n)),pt(s,e)):e!==t&&e.push(s)}return e}function ft(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const gt={},_t=/\n/gm,vt=W({provide:String,useValue:W});let yt=void 0;function wt(t){const e=yt;return yt=t,e}function bt(t,e=nt.Default){return function(t,e=nt.Default){if(void 0===yt)throw new Error("inject() must be called from an injection context");return null===yt?function(t,e,n){const s=J(t);if(s&&"root"==s.providedIn)return void 0===s.value?s.value=s.factory():s.value;if(n&nt.Optional)return null;throw new Error(`Injector: NOT_FOUND [${$(t)}]`)}(t,0,e):yt.get(t,e&nt.Optional?null:void 0,e)}(Q(t),e)}function xt(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}function Tt(t,e,n,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=$(e);if(Array.isArray(e))r=e.map($).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let s=e[n];t.push(n+":"+("string"==typeof s?JSON.stringify(s):$(s)))}r=`{${t.join(", ")}}`}return`${n}${s?"("+s+")":""}[${r}]: ${t.replace(_t,"\n  ")}`}const Ct=xt(ht("Inject",t=>({token:t})),-1),kt=xt(ht("Optional"),8),Et=xt(ht("Self"),2),St=xt(ht("SkipSelf"),4);let At;function Ot(t){var e;return(null===(e=function(){if(void 0===At&&(At=null,lt.trustedTypes))try{At=lt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return At}())||void 0===e?void 0:e.createHTML(t))||t}class It{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Mt extends It{getTypeName(){return"HTML"}}class Dt extends It{getTypeName(){return"Style"}}class Nt extends It{getTypeName(){return"Script"}}class Rt extends It{getTypeName(){return"URL"}}class Pt extends It{getTypeName(){return"ResourceURL"}}function Vt(t){return t instanceof It?t.changingThisBreaksApplicationSecurity:t}function Ft(t,e){const n=jt(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function jt(t){return t instanceof It&&t.getTypeName()||null}class Lt{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ot(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class qt{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ot(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Ot(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const n=e.item(s).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const zt=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Zt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ht(t){return(t=String(t)).match(zt)||t.match(Zt)?t:"unsafe:"+t}function Bt(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ut(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Wt=Bt("area,br,col,hr,img,wbr"),$t=Bt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gt=Bt("rp,rt"),Yt=Ut(Gt,$t),Qt=Ut(Wt,Ut($t,Bt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ut(Gt,Bt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yt),Xt=Bt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jt=Bt("srcset"),Kt=Ut(Xt,Jt,Bt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),te=Bt("script,style,template");class ee{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Qt.hasOwnProperty(e))return this.sanitizedSomething=!0,!te.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Kt.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Xt[i]&&(o=Ht(o)),Jt[i]&&(s=o,o=(s=String(s)).split(",").map(t=>Ht(t.trim())).join(", ")),this.buf.push(" ",e,'="',re(o),'"')}var s;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Qt.hasOwnProperty(e)&&!Wt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(re(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ne=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,se=/([^\#-~ |!])/g;function re(t){return t.replace(/&/g,"&amp;").replace(ne,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(se,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ie;function oe(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ae=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function le(t){return t.ngDebugContext}function ce(t){return t.ngOriginalError}function ue(t,...e){t.error(...e)}class he{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),s=function(t){return t.ngErrorLogger||ue}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),n&&s(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?le(t)?le(t):this._findContext(ce(t)):null}_findOriginalError(t){let e=ce(t);for(;e&&ce(e);)e=ce(e);return e}}const de=/^>|^->|<!--|-->|--!>|<!-$/g,pe=/(<|>)/;function fe(t){return t.replace(de,t=>t.replace(pe,"\u200b$1\u200b"))}const me=/([A-Z])/g;function ge(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}const _e=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(lt))();var ve=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});const ye=new dt("INJECTOR",-1);class we{get(t,e=gt){if(e===gt){const e=new Error(`NullInjectorError: No provider for ${$(t)}!`);throw e.name="NullInjectorError",e}return e}}const be=new dt("Set Injector scope."),xe=function(t,e,n){return new Ae(t,e,n)};let Te=(()=>{class t{static create(t,e){return Array.isArray(t)?xe(t,e,""):xe(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=gt,t.NULL=new we,t.\u0275prov=X({token:t,providedIn:"any",factory:()=>bt(ye)}),t.__NG_ELEMENT_ID__=-1,t})();const Ce=function(t){return t},ke=[],Ee=Ce,Se=function(){return Array.prototype.slice.call(arguments)};class Ae{constructor(t,e=Te.NULL,n=null){this.parent=e,this.source=n;const s=this._records=new Map;s.set(Te,{token:Te,fn:Ce,deps:ke,value:this,useNew:!1}),s.set(ye,{token:ye,fn:Ce,deps:ke,value:this,useNew:!1}),this.scope=Me(s,t)}get(t,e,n=nt.Default){const s=this._records;let r=s.get(t);if(void 0===r){const e=J(t);if(e){const n=e&&e.providedIn;("any"===n||null!=n&&n===this.scope)&&s.set(t,r=Oe({provide:t,useFactory:e.factory,deps:ke}))}void 0===r&&s.set(t,null)}let i=wt(this);try{return De(t,r,s,this.parent,e,n)}catch(o){return function(t,e,n,s){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=Tt("\n"+t.message,r,"StaticInjectorError",s),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(o,t,0,this.source)}finally{wt(i)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push($(n))),`StaticInjector[${t.join(", ")}]`}}function Oe(t){const e=function(t){let e=ke;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let s=6,r=Q(n[t]);if(Array.isArray(r))for(let t=0,e=r;t<e.length;t++){const n=e[t];n instanceof kt||n==kt?s|=1:n instanceof St||n==St?s&=-3:n instanceof Et||n==Et?s&=-5:r=n instanceof Ct?n.token:Q(n)}e.push({token:r,options:s})}}else if(t.useExisting)e=[{token:Q(t.useExisting),options:6}];else if(!n&&!(vt in t))throw Ne("'deps' required",t);return e}(t);let n=Ce,s=ke,r=!1,i=Q(t.provide);if(vt in t)s=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=Q(t.useClass);else{if("function"!=typeof i)throw Ne("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=i}return{deps:e,fn:n,useNew:r,value:s}}function Ie(t){return Ne("Cannot mix multi providers and regular providers",t)}function Me(t,e){let n=null;if(e)if(e=Q(e),Array.isArray(e))for(let s=0;s<e.length;s++)n=Me(t,e[s])||n;else{if("function"==typeof e)throw Ne("Function/Class not supported",e);if(!e||"object"!=typeof e||!e.provide)throw Ne("Unexpected provider",e);{let s=Q(e.provide);const r=Oe(e);if(!0===e.multi){let n=t.get(s);if(n){if(n.fn!==Se)throw Ie(s)}else t.set(s,n={token:e.provide,deps:[],useNew:!1,fn:Se,value:ke});s=e,n.deps.push({token:s,options:6})}const i=t.get(s);if(i&&i.fn==Se)throw Ie(s);s===be&&(n=r.value),t.set(s,r)}}return n}function De(t,e,n,s,r,i){try{return function(t,e,n,s,r,i){let o;if(!e||i&nt.SkipSelf)o=i&nt.Self?Te.NULL.get(t,i&nt.Optional?void 0!==r?r:null:r):s.get(t,r,nt.Default);else{if(o=e.value,o==Ee)throw Error("\u0275Circular dependency");if(o===ke){e.value=Ee;let t=void 0,r=e.useNew,i=e.fn,a=e.deps,l=ke;if(a.length){l=[];for(let t=0;t<a.length;t++){const e=a[t],r=e.options,i=2&r?n.get(e.token):void 0;l.push(De(e.token,i,n,i||4&r?s:Te.NULL,1&r?null:Te.THROW_IF_NOT_FOUND,nt.Default))}}e.value=o=r?new i(...l):i.apply(t,l)}}return o}(t,e,n,s,r,i)}catch(o){throw o instanceof Error||(o=new Error(o)),(o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(t),e&&e.value==Ee&&(e.value=ke),o}}function Ne(t,e){return new Error(Tt(t,e,"StaticInjectorError"))}let Re=null;function Pe(){if(!Re){const t=lt.Symbol;if(t&&t.iterator)Re=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Re=n)}}}return Re}function Ve(t,e){const n=je(t),s=je(e);if(n&&s)return function(t,e,n){const s=t[Pe()](),r=e[Pe()]();for(;;){const t=s.next(),e=r.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Ve);{const r=t&&("object"==typeof t||"function"==typeof t),i=e&&("object"==typeof e||"function"==typeof e);return!(n||!r||s||!i)||Object.is(t,e)}}class Fe{constructor(t){this.wrapped=t}static wrap(t){return new Fe(t)}static unwrap(t){return Fe.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Fe}}function je(t){return!!Le(t)&&(Array.isArray(t)||!(t instanceof Map)&&Pe()in t)}function Le(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function qe(t){return!!t&&"function"==typeof t.then}const ze=void 0;var Ze=["en",[["a","p"],["AM","PM"],ze],[["AM","PM"],ze,ze],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ze,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ze,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ze,"{1} 'at' {0}",ze],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let He={};function Be(t){return t in He||(He[t]=lt.ng&&lt.ng.common&&lt.ng.common.locales&&lt.ng.common.locales[t]),He[t]}var Ue=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});class We{}function $e(t){const e=Error(`No component factory found for ${$(t)}. Did you add it to @NgModule.entryComponents?`);return e[Ge]=t,e}const Ge="ngComponent";class Ye{resolveComponentFactory(t){throw $e(t)}}let Qe=(()=>{class t{}return t.NULL=new Ye,t})();class Xe{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let s=0;s<t.length;s++){const e=t[s];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw $e(t);return new Je(e,this._ngModule)}}class Je extends We{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,s){return this.factory.create(t,e,n,s||this.ngModule)}}function Ke(...t){}const tn=Ke;let en=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=tn,t})();function nn(t){return t instanceof en?t.nativeElement:t}class sn{}let rn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>on(),t})();const on=Ke;let an=(()=>{class t{}return t.\u0275prov=X({token:t,providedIn:"root",factory:()=>null}),t})();class ln{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const cn=new ln("11.1.2");class un{constructor(){}supports(t){return je(t)}create(t){return new dn(t)}}const hn=(t,e)=>e;class dn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||hn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,s=0,r=null;for(;e||n;){const i=!n||e&&e.currentIndex<gn(n,s,r)?e:n,o=gn(i,s,r),a=i.currentIndex;if(i===n)s--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)s++;else{r||(r=[]);const t=o-s,e=a-s;if(t!=e){for(let n=0;n<t;n++){const s=n<r.length?r[n]:r[n]=0,i=s+n;e<=i&&i<t&&(r[n]=s+1)}r[i.previousIndex]=e-t}}o!==a&&t(i,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!je(t))throw new Error(`Error trying to diff '${$(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,s,r=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],s=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,s)?(i&&(r=this._verifyReinsertion(r,n,s,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,s,e),i=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Pe()]();let s;for(;!(s=n.next()).done;)e(s.value)}}(t,t=>{s=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,s)?(i&&(r=this._verifyReinsertion(r,t,s,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,s,e),i=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):t=this._addAfter(new pn(e,n),r,s),t}_verifyReinsertion(t,e,n,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new mn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class pn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class mn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new fn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gn(t,e,n){const s=t.previousIndex;if(null===s)return s;let r=0;return n&&s<n.length&&(r=n[s]),s+e+r}class _n{constructor(){}supports(t){return t instanceof Map||Le(t)}create(){return new vn}}class vn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Le(t)))throw new Error(`Error trying to diff '${$(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const s=n._prev,r=n._next;return s&&(s._next=r),r&&(r._prev=s),n._next=null,n._prev=null,n}const n=new yn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class yn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wn(){return new bn([new un])}let bn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||wn()),deps:[[t,new St,new kt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=X({token:t,providedIn:"root",factory:wn}),t})();function xn(){return new Tn([new _n])}let Tn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||xn()),deps:[[t,new St,new kt]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=X({token:t,providedIn:"root",factory:xn}),t})();const Cn=Ke;let kn=(()=>{class t{}return t.__NG_ELEMENT_ID__=Cn,t.__ChangeDetectorRef__=!0,t})();const En=[new _n],Sn=new bn([new un]),An=new Tn(En),On=Ke;let In=(()=>{class t{}return t.__NG_ELEMENT_ID__=On,t})();class Mn{}const Dn=Ke;let Nn=(()=>{class t{}return t.__NG_ELEMENT_ID__=Dn,t})();function Rn(t,e,n,s){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return s&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return Pn(n,e),n}(r,t)}function Pn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function Vn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}function Fn(t,e,n){const s=t.state,r=1792&s;return r===e?(t.state=-1793&s|n,t.initIndex=-1,!0):r===n}function jn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Ln(t,e){return t.nodes[e]}function qn(t,e){return t.nodes[e]}function zn(t,e){return t.nodes[e]}function Zn(t,e){return t.nodes[e]}function Hn(t,e){return t.nodes[e]}const Bn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Un=()=>{},Wn=new Map;function $n(t){let e=Wn.get(t);return e||(e=$(t)+"_"+Wn.size,Wn.set(t,e)),e}function Gn(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Yn=0;function Qn(t,e,n,s){return!(!(2&t.state)&&Object.is(t.oldValues[e.bindingIndex+n],s))}function Xn(t,e,n,s){return!!Qn(t,e,n,s)&&(t.oldValues[e.bindingIndex+n]=s,!0)}function Jn(t,e,n,s){const r=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ve(r,s)){const i=e.bindings[n].name;throw Rn(Bn.createDebugContext(t,e.nodeIndex),`${i}: ${r}`,`${i}: ${s}`,0!=(1&t.state))}}function Kn(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function ts(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function es(t,e,n,s){try{return Kn(33554432&t.def.nodes[e].flags?qn(t,e).componentView:t),Bn.handleEvent(t,e,n,s)}catch(r){t.root.errorHandler.handleError(r)}}function ns(t){return t.parent?qn(t.parent,t.parentNodeDef.nodeIndex):null}function ss(t){return t.parent?t.parentNodeDef.parent:null}function rs(t,e){switch(201347067&e.flags){case 1:return qn(t,e.nodeIndex).renderElement;case 2:return Ln(t,e.nodeIndex).renderText}}function is(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function os(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function as(t){return 1<<t%32}function ls(t){const e={};let n=0;const s={};return t&&t.forEach(([t,r])=>{"number"==typeof t?(e[t]=r,n|=as(t)):s[t]=r}),{matchedQueries:e,references:s,matchedQueryIds:n}}function cs(t,e){return t.map(t=>{let n,s;return Array.isArray(t)?[s,n]=t:(s=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,"__source",{value:e,configurable:!0}),{flags:s,token:n,tokenKey:$n(n)}})}function us(t,e,n){let s=n.renderParent;return s?0==(1&s.flags)||0==(33554432&s.flags)||s.element.componentRendererType&&(s.element.componentRendererType.encapsulation===st.ShadowDom||1===s.element.componentRendererType.encapsulation)?qn(t,n.renderParent.nodeIndex).renderElement:void 0:e}const hs=new WeakMap;function ds(t){let e=hs.get(t);return e||(e=t(()=>Un),e.factory=t,hs.set(t,e)),e}function ps(t,e,n,s,r){3===e&&(n=t.renderer.parentNode(rs(t,t.def.lastRenderRootNode))),fs(t,e,0,t.def.nodes.length-1,n,s,r)}function fs(t,e,n,s,r,i,o){for(let a=n;a<=s;a++){const n=t.def.nodes[a];11&n.flags&&gs(t,n,e,r,i,o),a+=n.childCount}}function ms(t,e,n,s,r,i){let o=t;for(;o&&!is(o);)o=o.parent;const a=o.parent,l=ss(o),c=l.nodeIndex+l.childCount;for(let u=l.nodeIndex+1;u<=c;u++){const t=a.def.nodes[u];t.ngContentIndex===e&&gs(a,t,n,s,r,i),u+=t.childCount}if(!a.parent){const o=t.root.projectableNodes[e];if(o)for(let e=0;e<o.length;e++)_s(t,o[e],n,s,r,i)}}function gs(t,e,n,s,r,i){if(8&e.flags)ms(t,e.ngContent.index,n,s,r,i);else{const o=rs(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&_s(t,o,n,s,r,i),32&e.bindingFlags&&_s(qn(t,e.nodeIndex).componentView,o,n,s,r,i)):_s(t,o,n,s,r,i),16777216&e.flags){const o=qn(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<o.length;t++)ps(o[t],n,s,r,i)}1&e.flags&&!e.element.name&&fs(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,s,r,i)}}function _s(t,e,n,s,r,i){const o=t.renderer;switch(n){case 1:o.appendChild(s,e);break;case 2:o.insertBefore(s,e,r);break;case 3:o.removeChild(s,e);break;case 0:i.push(e)}}const vs=/^:([^:]+):(.+)$/;function ys(t){if(":"===t[0]){const e=t.match(vs);return[e[1],e[2]]}return["",t]}function ws(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}const bs={},xs=$n(Te),Ts=$n(ye),Cs=$n(Mn);function ks(t,e,n,s){return n=Q(n),{index:-1,deps:cs(s,$(e)),flags:t,token:e,value:n}}function Es(t,e,n=Te.THROW_IF_NOT_FOUND){const s=wt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const r=e.tokenKey;switch(r){case xs:case Ts:case Cs:return t}const i=t._def.providersByKey[r];let o;if(i){let e=t._providers[i.index];return void 0===e&&(e=t._providers[i.index]=Ss(t,i)),e===bs?void 0:e}if((o=J(e.token))&&function(t,e){const n=e.providedIn;return null!=n&&("any"===n||n===t._def.scope||function(t,e){return t._def.modules.indexOf(e)>-1}(t,n))}(t,o)){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:o.factory,deps:[],index:n,token:e.token},t._providers[n]=bs,t._providers[n]=Ss(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{wt(s)}}function Ss(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const s=n.length;switch(s){case 0:return new e;case 1:return new e(Es(t,n[0]));case 2:return new e(Es(t,n[0]),Es(t,n[1]));case 3:return new e(Es(t,n[0]),Es(t,n[1]),Es(t,n[2]));default:const r=[];for(let e=0;e<s;e++)r[e]=Es(t,n[e]);return new e(...r)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const s=n.length;switch(s){case 0:return e();case 1:return e(Es(t,n[0]));case 2:return e(Es(t,n[0]),Es(t,n[1]));case 3:return e(Es(t,n[0]),Es(t,n[1]),Es(t,n[2]));default:const r=[];for(let e=0;e<s;e++)r[e]=Es(t,n[e]);return e(...r)}}(t,e.value,e.deps);break;case 2048:n=Es(t,e.deps[0]);break;case 256:n=e.value}return n===bs||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?bs:n}function As(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const s=n[e];return s.viewContainerParent=null,mt(n,e),Bn.dirtyParentQueries(s),Is(s),s}function Os(t,e,n){const s=e?rs(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(s),i=n.renderer.nextSibling(s);ps(n,2,r,i,void 0)}function Is(t){ps(t,3,null,null,void 0)}const Ms={};function Ds(t,e,n,s,r,i){return new Ns(t,e,n,s,r,i)}class Ns extends We{constructor(t,e,n,s,r,i){super(),this.selector=t,this.componentType=e,this._inputs=s,this._outputs=r,this.ngContentSelectors=i,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,s){if(!s)throw new Error("ngModule should be provided");const r=ds(this.viewDefFactory),i=r.nodes[0].element.componentProvider.nodeIndex,o=Bn.createRootView(t,e||[],n,r,s,Ms),a=zn(o,i).instance;return n&&o.renderer.setAttribute(qn(o,0).renderElement,"ng-version",cn.full),new Rs(o,new js(o),a)}}class Rs extends class{}{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new en(qn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Zs(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function Ps(t,e,n){return new Vs(t,e,n)}class Vs{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new en(this._data.renderElement)}get injector(){return new Zs(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=ss(t),t=t.parent;return t?new Zs(t,e):new Zs(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=As(this._data,t);Bn.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new js(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const s=t.createEmbeddedView(e||{});return this.insert(s,n),s}createComponent(t,e,n,s,r){const i=n||this.parentInjector;r||t instanceof Je||(r=i.get(Mn));const o=t.create(i,s,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,s){let r=e.viewContainer._embeddedViews;null==n&&(n=r.length),s.viewContainerParent=t,ft(r,n,s),function(t,e){const n=ns(e);if(!n||n===t||16&e.state)return;e.state|=16;let s=n.template._projectedViews;s||(s=n.template._projectedViews=[]),s.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,s),Bn.dirtyParentQueries(s),Os(e,n>0?r[n-1]:null,s)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const s=t.viewContainer._embeddedViews,r=s[e];mt(s,e),null==n&&(n=s.length),ft(s,n,r),Bn.dirtyParentQueries(r),Is(r),Os(t,n>0?s[n-1]:null,r)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=As(this._data,t);e&&Bn.destroyView(e)}detach(t){const e=As(this._data,t);return e?new js(e):null}}function Fs(t){return new js(t)}class js{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return ps(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Kn(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Bn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Bn.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Bn.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Is(this._view),Bn.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function Ls(t,e){return new qs(t,e)}class qs extends In{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new js(Bn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new en(qn(this._parentView,this._def.nodeIndex).renderElement)}}function zs(t,e){return new Zs(t,e)}class Zs{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Te.THROW_IF_NOT_FOUND){return Bn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:$n(t)},e)}}function Hs(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=qn(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return Ln(t,n.nodeIndex).renderText;if(20240&n.flags)return zn(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function Bs(t,e,n,s){return new Us(t,e,n,s)}class Us{constructor(t,e,n,s){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=s,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=function(t,e){const n=[];for(let s=0;s<t;s++)n.push(undefined);return n}(e.providers.length);for(let s=0;s<e.providers.length;s++){const r=e.providers[s];4096&r.flags||void 0===n[s]&&(n[s]=Ss(t,r))}}(this)}get(t,e=Te.THROW_IF_NOT_FOUND,n=nt.Default){let s=0;return n&nt.SkipSelf?s|=1:n&nt.Self&&(s|=4),Es(this,{token:t,tokenKey:$n(t),flags:s},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Qe)}destroy(){if(this._destroyed)throw new Error(`The ng module ${$(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,s=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const e=t._providers[r];if(e&&e!==bs){const t=e.ngOnDestroy;"function"!=typeof t||s.has(e)||(t.apply(e),s.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Ws=$n(rn),$s=$n(en),Gs=$n(Nn),Ys=$n(In),Qs=$n(kn),Xs=$n(Te),Js=$n(ye);function Ks(t,e,n,s,r,i,o,a){const l=[];if(o)for(let u in o){const[t,e]=o[u];l[t]={flags:8,name:u,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let u in a)c.push({type:1,propName:u,target:null,eventName:a[u]});return function(t,e,n,s,r,i,o,a,l){const{matchedQueries:c,references:u,matchedQueryIds:h}=ls(n);l||(l=[]),a||(a=[]),i=Q(i);const d=cs(o,$(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:u,ngContentIndex:-1,childCount:s,bindings:a,bindingFlags:ws(a),outputs:l,element:null,provider:{token:r,value:i,deps:d},text:null,query:null,ngContent:null}}(t,e|=16384,n,s,r,r,i,l,c)}function tr(t,e){return rr(t,e)}function er(t,e){let n=t;for(;n.parent&&!is(n);)n=n.parent;return ir(n.parent,ss(n),!0,e.provider.value,e.provider.deps)}function nr(t,e){const n=ir(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!(s=o)||"function"!=typeof s.subscribe)throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(sr(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}var s;return n}function sr(t,e,n){return s=>es(t,e,n,s)}function rr(t,e){const n=(8192&e.flags)>0,s=e.provider;switch(201347067&e.flags){case 512:return ir(t,e.parent,n,s.value,s.deps);case 1024:return function(t,e,n,s,r){const i=r.length;switch(i){case 0:return s();case 1:return s(ar(t,e,n,r[0]));case 2:return s(ar(t,e,n,r[0]),ar(t,e,n,r[1]));case 3:return s(ar(t,e,n,r[0]),ar(t,e,n,r[1]),ar(t,e,n,r[2]));default:const o=[];for(let s=0;s<i;s++)o.push(ar(t,e,n,r[s]));return s(...o)}}(t,e.parent,n,s.value,s.deps);case 2048:return ar(t,e.parent,n,s.deps[0]);case 256:return s.value}}function ir(t,e,n,s,r){const i=r.length;switch(i){case 0:return new s;case 1:return new s(ar(t,e,n,r[0]));case 2:return new s(ar(t,e,n,r[0]),ar(t,e,n,r[1]));case 3:return new s(ar(t,e,n,r[0]),ar(t,e,n,r[1]),ar(t,e,n,r[2]));default:const o=[];for(let s=0;s<i;s++)o.push(ar(t,e,n,r[s]));return new s(...o)}}const or={};function ar(t,e,n,s,r=Te.THROW_IF_NOT_FOUND){if(8&s.flags)return s.token;const i=t;2&s.flags&&(r=null);const o=s.tokenKey;o===Qs&&(n=!(!e||!e.element.componentView)),e&&1&s.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(o){case Ws:return lr(a,e,n).renderer;case $s:return new en(qn(a,e.nodeIndex).renderElement);case Gs:return qn(a,e.nodeIndex).viewContainer;case Ys:if(e.element.template)return qn(a,e.nodeIndex).template;break;case Qs:return Fs(lr(a,e,n));case Xs:case Js:return zs(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[o];if(t){let e=zn(a,t.nodeIndex);return e||(e={instance:rr(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=is(a),e=ss(a),a=a.parent,4&s.flags&&(a=null)}const l=i.root.injector.get(s.token,or);return l!==or||r===or?l:i.root.ngModule.injector.get(s.token,r)}function lr(t,e,n){let s;if(n)s=qn(t,e.nodeIndex).componentView;else for(s=t;s.parent&&!is(s);)s=s.parent;return s}function cr(t,e,n,s,r,i){if(32768&n.flags){const e=qn(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[s].name]=r,524288&n.flags){i=i||{};const e=Fe.unwrap(t.oldValues[n.bindingIndex+s]);i[n.bindings[s].nonMinifiedName]=new ct(e,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+s]=r,i}function ur(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let s=0;for(let r=0;r<n.length;r++){const i=n[r];let o=i.parent;for(!o&&i.flags&e&&dr(t,r,i.flags&e,s++),0==(i.childFlags&e)&&(r+=i.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(s=hr(t,o,e,s)),o=o.parent}}function hr(t,e,n,s){for(let r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){const e=t.def.nodes[r];e.flags&n&&dr(t,r,e.flags&n,s++),r+=e.childCount}return s}function dr(t,e,n,s){const r=zn(t,e);if(!r)return;const i=r.instance;i&&(Bn.setCurrentNode(t,e),1048576&n&&jn(t,512,s)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&jn(t,768,s)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}const pr=new dt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_e}),fr=class extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let s,r=t=>null,i=()=>null;t&&"object"==typeof t?(s=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(i=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(i=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(s,r,i);return t instanceof h&&t.add(o),o}};function mr(){return this._results[Pe()]()}class gr{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Pe(),n=gr.prototype;n[e]||(n[e]=mr)}get changes(){return this._changes||(this._changes=new fr)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=pt(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++){let r=t[s],i=e[s];if(n&&(r=n(r),i=n(i)),i!==r)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const _r=new dt("Application Initializer");class vr{constructor(t){this.appInits=t,this.resolve=Ke,this.reject=Ke,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();qe(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const yr=new dt("AppId");function wr(){return`${br()}${br()}${br()}`}function br(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xr=new dt("Platform Initializer"),Tr=new dt("Platform ID"),Cr=new dt("appBootstrapListener");class kr{log(t){console.log(t)}warn(t){console.warn(t)}}const Er=new dt("LocaleId"),Sr=new dt("DefaultCurrencyCode");function Ar(){throw new Error("Runtime compiler is not loaded")}const Or=Ar,Ir=Ar,Mr=Ar,Dr=Ar;class Nr{constructor(){this.compileModuleSync=Or,this.compileModuleAsync=Ir,this.compileModuleAndAllComponentsSync=Mr,this.compileModuleAndAllComponentsAsync=Dr}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Rr{}const Pr=(()=>Promise.resolve(0))();function Vr(t){"undefined"==typeof Zone?Pr.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fr(!1),this.onMicrotaskEmpty=new fr(!1),this.onStable=new fr(!1),this.onError=new fr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=lt.requestAnimationFrame,e=lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(lt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qr(t),Lr(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qr(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,r,i,o,a)=>{try{return zr(t),n.invokeTask(r,i,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&e(),Zr(t)}},onInvoke:(n,s,r,i,o,a,l)=>{try{return zr(t),n.invoke(r,i,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Zr(t)}},onHasTask:(e,n,s,r)=>{e.hasTask(s,r),n===s&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,qr(t),Lr(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,s,r)=>(e.handleError(s,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,s){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+s,t,jr,Ke,Ke);try{return r.runTask(i,e,n)}finally{r.cancelTask(i)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const jr={};function Lr(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qr(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zr(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zr(t){t._nesting--,Lr(t)}class Hr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fr,this.onMicrotaskEmpty=new fr,this.onStable=new fr,this.onError=new fr}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,s){return t.apply(e,n)}}class Br{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fr.assertNotInAngularZone(),Vr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vr(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let s=-1;e&&e>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==s),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class Ur{constructor(){this._applications=new Map,Gr.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Gr.findTestabilityInTree(this,t,e)}}class Wr{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let $r,Gr=new Wr,Yr=!1;function Qr(){return Yr=!0,!0}const Xr=new dt("AllowMultipleToken");class Jr{constructor(t,e){this.name=t,this.token=e}}function Kr(t,e,n=[]){const s="Platform: "+e,r=new dt(s);return(e=[])=>{let i=ti();if(!i||i.injector.get(Xr,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:be,useValue:"platform"});!function(t){if($r&&!$r.destroyed&&!$r.injector.get(Xr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$r=t.get(ei);const e=t.get(xr,null);e&&e.forEach(t=>t())}(Te.create({providers:t,name:s}))}return function(t){const e=ti();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function ti(){return $r&&!$r.destroyed?$r:null}class ei{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Hr:("zone.js"===t?void 0:t)||new Fr({enableLongStackTrace:Qr(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),s=[{provide:Fr,useValue:n}];return n.run(()=>{const e=Te.create({providers:s,parent:this.injector,name:t.moduleType.name}),r=t.create(e),i=r.injector.get(he,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{i.handleError(t)}});r.onDestroy(()=>{ri(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const s=n();return qe(s)?s.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):s}catch(s){throw e.runOutsideAngular(()=>t.handleError(s)),s}}(i,n,()=>{const t=r.injector.get(vr);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=ni({},e);return function(t,e,n){return t.get(Rr).createCompiler([e]).compileModuleAsync(n)}(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(si);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${$(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function ni(t,e){return Array.isArray(e)?e.reduce(ni,t):Object.assign(Object.assign({},t),e)}class si{constructor(t,e,n,s,r,i){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Fr.assertNotInAngularZone(),Vr(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Fr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,s=t[t.length-1];var r;return(r=s)&&"function"==typeof r.schedule?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof s&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:function(t=Number.POSITIVE_INFINITY){return V(_,t)}(e)(function(t,e){return e?N(t,e):new v(S(t))}(t,n))}(o,a.pipe(t=>{return L()((e=U,function(t){let n;n="function"==typeof e?e:function(){return e};const s=Object.create(t,H);return s.source=t,s.subjectFactory=n,s})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof We?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const s=n instanceof Je?void 0:this._injector.get(Mn),r=n.create(Te.NULL,[],e||n.selector,s),i=r.location.nativeElement,o=r.injector.get(Br,null),a=o&&r.injector.get(Ur);return o&&a&&a.registerApplication(i,o),r.onDestroy(()=>{this.detachView(r.hostView),ri(this.components,r),a&&a.unregisterApplication(i)}),this._loadComponent(r),Qr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ri(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Cr,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}function ri(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ii{constructor(t,e){this.name=t,this.callback=e}}class oi{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof ai&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ai extends oi{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return li(this,t,e),e}queryAllNodes(t){const e=[];return ci(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof ai)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}function li(t,e,n){t.childNodes.forEach(t=>{t instanceof ai&&(e(t)&&n.push(t),li(t,e,n))})}function ci(t,e,n){t instanceof ai&&t.childNodes.forEach(t=>{e(t)&&n.push(t),t instanceof ai&&ci(t,e,n)})}const ui=new Map;function hi(t){return ui.get(t)||null}const di=hi;function pi(t){ui.set(t.nativeNode,t)}const fi=Kr(null,"core",[{provide:Tr,useValue:"unknown"},{provide:ei,deps:[Te]},{provide:Ur,deps:[]},{provide:kr,deps:[]}]);function mi(){return Sn}function gi(){return An}function _i(t){return t||"en-US"}function vi(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class yi{constructor(t){}}function wi(t,e,n,s,r,i){t|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=ls(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:s,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?ds(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Un},provider:null,text:null,query:null,ngContent:null}}function bi(t,e,n,s,r,i,o=[],a,l,c,u,h){c||(c=Un);const{matchedQueries:d,references:p,matchedQueryIds:f}=ls(n);let m=null,g=null;i&&([m,g]=ys(i)),a=a||[];const _=[];for(let w=0;w<a.length;w++){const[t,e,n]=a[w],[s,r]=ys(e);let i=void 0,o=void 0;switch(15&t){case 4:o=n;break;case 1:case 8:i=n}_[w]={flags:t,ns:s,name:r,nonMinifiedName:r,securityContext:i,suffix:o}}l=l||[];const v=[];for(let w=0;w<l.length;w++){const[t,e]=l[w];v[w]={type:0,target:t,eventName:e,propName:null}}const y=(o=o||[]).map(([t,e])=>{const[n,s]=ys(t);return[n,s,e]});return h=function(t){if(t&&"$$undefined"===t.id){const e=null!=t.encapsulation&&t.encapsulation!==st.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Yn++:"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(h),u&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:s,childCount:r,bindings:_,bindingFlags:ws(_),outputs:v,element:{ns:m,name:g,attrs:y,template:null,componentProvider:null,componentView:u||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Un},provider:null,text:null,query:null,ngContent:null}}function xi(t,e,n){const s=n.element,r=t.root.selectorOrNode,i=t.renderer;let o;if(t.parent||!r){o=s.name?i.createElement(s.name,s.ns):i.createComment("");const r=us(t,e,n);r&&i.appendChild(r,o)}else o=i.selectRootElement(r,!!s.componentRendererType&&s.componentRendererType.encapsulation===st.ShadowDom);if(s.attrs)for(let a=0;a<s.attrs.length;a++){const[t,e,n]=s.attrs[a];i.setAttribute(o,e,n,t)}return o}function Ti(t,e,n,s){for(let o=0;o<n.outputs.length;o++){const a=n.outputs[o],l=Ci(t,n.nodeIndex,(i=a.eventName,(r=a.target)?`${r}:${i}`:i));let c=a.target,u=t;"component"===a.target&&(c=null,u=e);const h=u.renderer.listen(c||s,a.eventName,l);t.disposables[n.outputIndex+o]=h}var r,i}function Ci(t,e,n){return s=>es(t,e,n,s)}function ki(t,e,n,s){if(!Xn(t,e,n,s))return!1;const r=e.bindings[n],i=qn(t,e.nodeIndex),o=i.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,s,r,i){const o=e.securityContext;let a=o?t.root.sanitizer.sanitize(o,i):i;a=null!=a?a.toString():null;const l=t.renderer;null!=i?l.setAttribute(n,r,a,s):l.removeAttribute(n,r,s)}(t,r,o,r.ns,a,s);break;case 2:!function(t,e,n,s){const r=t.renderer;s?r.addClass(e,n):r.removeClass(e,n)}(t,o,a,s);break;case 4:!function(t,e,n,s,r){let i=t.root.sanitizer.sanitize(ae.STYLE,r);if(null!=i){i=i.toString();const t=e.suffix;null!=t&&(i+=t)}else i=null;const o=t.renderer;null!=i?o.setStyle(n,s,i):o.removeStyle(n,s)}(t,r,o,a,s);break;case 8:!function(t,e,n,s,r){const i=e.securityContext;let o=i?t.root.sanitizer.sanitize(i,r):r;t.renderer.setProperty(n,s,o)}(33554432&e.flags&&32&r.flags?i.componentView:t,r,o,a,s)}return!0}function Ei(t,e,n){let s=[];for(let r in n)s.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:as(e),bindings:s},ngContent:null}}function Si(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&os(t);){let n=t.parentNodeDef;t=t.parent;const s=n.nodeIndex+n.childCount;for(let r=0;r<=s;r++){const s=t.def.nodes[r];67108864&s.flags&&536870912&s.flags&&(s.query.filterId&e)===s.query.filterId&&Hn(t,r).setDirty(),!(1&s.flags&&r+s.childCount<n.nodeIndex)&&67108864&s.childFlags&&536870912&s.childFlags||(r+=s.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Hn(t,n).setDirty(),n+=e.childCount}}function Ai(t,e){const n=Hn(t,e.nodeIndex);if(!n.dirty)return;let s,r=void 0;if(67108864&e.flags){const n=e.parent.parent;r=Oi(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),s=zn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Oi(t,0,t.def.nodes.length-1,e.query,[]),s=t.component);n.reset(r,nn);const i=e.query.bindings;let o=!1;for(let a=0;a<i.length;a++){const t=i[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,o=!0}s[t.propName]=e}o&&n.notifyOnChanges()}function Oi(t,e,n,s,r){for(let i=e;i<=n;i++){const e=t.def.nodes[i],n=e.matchedQueries[s.id];if(null!=n&&r.push(Ii(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&s.filterId)===s.filterId){const n=qn(t,i);if((e.childMatchedQueries&s.filterId)===s.filterId&&(Oi(t,i+1,i+e.childCount,s,r),i+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const i=t[e],o=ns(i);o&&o===n&&Oi(i,0,i.def.nodes.length-1,s,r)}}const o=n.template._projectedViews;if(o)for(let t=0;t<o.length;t++){const e=o[t];Oi(e,0,e.def.nodes.length-1,s,r)}}(e.childMatchedQueries&s.filterId)!==s.filterId&&(i+=e.childCount)}return r}function Ii(t,e,n){if(null!=n)switch(n){case 1:return qn(t,e.nodeIndex).renderElement;case 0:return new en(qn(t,e.nodeIndex).renderElement);case 2:return qn(t,e.nodeIndex).template;case 3:return qn(t,e.nodeIndex).viewContainer;case 4:return zn(t,e.nodeIndex).instance}}function Mi(t,e,n){const s=us(t,e,n);s&&ms(t,n.ngContent.index,1,s,null,void 0)}function Di(t,e){const n=Object.keys(e),s=n.length,r=[];for(let i=0;i<s;i++)r.push(n[i]);return function(t,e,n){const s=[];for(let r=0;r<n.length;r++){const t=n[r];s.push({flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:s,bindingFlags:ws(s),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,r)}function Ni(t,e,n){const s=[];for(let r=1;r<n.length;r++)s[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:s,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Ri(t,e,n){let s;const r=t.renderer;s=r.createText(n.text.prefix);const i=us(t,e,n);return i&&r.appendChild(i,s),{renderText:s}}function Pi(t,e){return(null!=t?t.toString():"")+e.suffix}function Vi(t,e,n,s){let r=0,i=0,o=0,a=0,l=0,c=null,u=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=c,t.bindingIndex=r,t.outputIndex=i,t.renderParent=u,o|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=c?c.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(ji(c,t,e.length),r+=t.bindings.length,i+=t.outputs.length,!u&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?c.element.publicProviders[$n(t.provider.token)]=t:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[$n(t.provider.token)]=t),e&&(c.element.componentProvider=t)}if(c?(c.childFlags|=t.flags,c.directChildFlags|=t.flags,c.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(c.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)c=t,Fi(t)||(u=t);else for(;c&&f===c.nodeIndex+c.childCount;){const t=c.parent;t&&(t.childFlags|=c.childFlags,t.childMatchedQueries|=c.childMatchedQueries),c=t,u=c&&Fi(c)?c.renderParent:c}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Un,updateRenderer:s||Un,handleEvent:(t,n,s,r)=>e[n].element.handleEvent(t,s,r),bindingCount:r,outputCount:i,lastRenderRootNode:p}}function Fi(t){return 0!=(1&t.flags)&&null===t.element.name}function ji(t,e,n){const s=e.element&&e.element.template;if(s){if(!s.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(s.lastRenderRootNode&&16777216&s.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const s=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=s&&e.nodeIndex+e.childCount>s)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Li(t,e,n,s){const r=Zi(t.root,t.renderer,t,e,n);return Hi(r,t.component,s),Bi(r),r}function qi(t,e,n){const s=Zi(t,t.renderer,null,null,e);return Hi(s,n,n),Bi(s),s}function zi(t,e,n,s){const r=e.element.componentRendererType;let i;return i=r?t.root.rendererFactory.createRenderer(s,r):t.root.renderer,Zi(t.root,i,t,e.element.componentProvider,n)}function Zi(t,e,n,s,r){const i=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:s,context:null,component:null,nodes:i,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function Hi(t,e,n){t.component=e,t.context=n}function Bi(t){let e;is(t)&&(e=qn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,s=t.nodes;for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];let o;switch(Bn.setCurrentNode(t,r),201347067&i.flags){case 1:const n=xi(t,e,i);let a=void 0;if(33554432&i.flags){const e=ds(i.element.componentView);a=Bn.createComponentView(t,i,e,n)}Ti(t,a,i,n),o={renderElement:n,componentView:a,viewContainer:null,template:i.element.template?Ls(t,i):void 0},16777216&i.flags&&(o.viewContainer=Ps(t,i,o));break;case 2:o=Ri(t,e,i);break;case 512:case 1024:case 2048:case 256:o=s[r],o||4096&i.flags||(o={instance:tr(t,i)});break;case 16:o={instance:er(t,i)};break;case 16384:o=s[r],o||(o={instance:nr(t,i)}),32768&i.flags&&Hi(qn(t,i.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new gr(-2147483648==(-2147483648&i.flags));break;case 8:Mi(t,e,i),o=void 0}s[r]=o}Ki(t,Ji.CreateViewNodes),so(t,201326592,268435456,0)}function Ui(t){Gi(t),Bn.updateDirectives(t,1),to(t,Ji.CheckNoChanges),Bn.updateRenderer(t,1),Ki(t,Ji.CheckNoChanges),t.state&=-97}function Wi(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Fn(t,0,256),Gi(t),Bn.updateDirectives(t,0),to(t,Ji.CheckAndUpdate),so(t,67108864,536870912,0);let e=Fn(t,256,512);ur(t,2097152|(e?1048576:0)),Bn.updateRenderer(t,0),Ki(t,Ji.CheckAndUpdate),so(t,134217728,536870912,0),e=Fn(t,512,768),ur(t,8388608|(e?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Fn(t,768,1024)}function $i(t,e,n,s,r,i,o,a,l,c,u,h,d){return 0===n?function(t,e,n,s,r,i,o,a,l,c,u,h){switch(201347067&e.flags){case 1:return function(t,e,n,s,r,i,o,a,l,c,u,h){const d=e.bindings.length;let p=!1;return d>0&&ki(t,e,0,n)&&(p=!0),d>1&&ki(t,e,1,s)&&(p=!0),d>2&&ki(t,e,2,r)&&(p=!0),d>3&&ki(t,e,3,i)&&(p=!0),d>4&&ki(t,e,4,o)&&(p=!0),d>5&&ki(t,e,5,a)&&(p=!0),d>6&&ki(t,e,6,l)&&(p=!0),d>7&&ki(t,e,7,c)&&(p=!0),d>8&&ki(t,e,8,u)&&(p=!0),d>9&&ki(t,e,9,h)&&(p=!0),p}(t,e,n,s,r,i,o,a,l,c,u,h);case 2:return function(t,e,n,s,r,i,o,a,l,c,u,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&Xn(t,e,0,n)&&(d=!0),f>1&&Xn(t,e,1,s)&&(d=!0),f>2&&Xn(t,e,2,r)&&(d=!0),f>3&&Xn(t,e,3,i)&&(d=!0),f>4&&Xn(t,e,4,o)&&(d=!0),f>5&&Xn(t,e,5,a)&&(d=!0),f>6&&Xn(t,e,6,l)&&(d=!0),f>7&&Xn(t,e,7,c)&&(d=!0),f>8&&Xn(t,e,8,u)&&(d=!0),f>9&&Xn(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Pi(n,p[0])),f>1&&(d+=Pi(s,p[1])),f>2&&(d+=Pi(r,p[2])),f>3&&(d+=Pi(i,p[3])),f>4&&(d+=Pi(o,p[4])),f>5&&(d+=Pi(a,p[5])),f>6&&(d+=Pi(l,p[6])),f>7&&(d+=Pi(c,p[7])),f>8&&(d+=Pi(u,p[8])),f>9&&(d+=Pi(h,p[9]));const m=Ln(t,e.nodeIndex).renderText;t.renderer.setValue(m,d)}return d}(t,e,n,s,r,i,o,a,l,c,u,h);case 16384:return function(t,e,n,s,r,i,o,a,l,c,u,h){const d=zn(t,e.nodeIndex),p=d.instance;let f=!1,m=void 0;const g=e.bindings.length;return g>0&&Qn(t,e,0,n)&&(f=!0,m=cr(t,d,e,0,n,m)),g>1&&Qn(t,e,1,s)&&(f=!0,m=cr(t,d,e,1,s,m)),g>2&&Qn(t,e,2,r)&&(f=!0,m=cr(t,d,e,2,r,m)),g>3&&Qn(t,e,3,i)&&(f=!0,m=cr(t,d,e,3,i,m)),g>4&&Qn(t,e,4,o)&&(f=!0,m=cr(t,d,e,4,o,m)),g>5&&Qn(t,e,5,a)&&(f=!0,m=cr(t,d,e,5,a,m)),g>6&&Qn(t,e,6,l)&&(f=!0,m=cr(t,d,e,6,l,m)),g>7&&Qn(t,e,7,c)&&(f=!0,m=cr(t,d,e,7,c,m)),g>8&&Qn(t,e,8,u)&&(f=!0,m=cr(t,d,e,8,u,m)),g>9&&Qn(t,e,9,h)&&(f=!0,m=cr(t,d,e,9,h,m)),m&&p.ngOnChanges(m),65536&e.flags&&jn(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,s,r,i,o,a,l,c,u,h);case 32:case 64:case 128:return function(t,e,n,s,r,i,o,a,l,c,u,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&Xn(t,e,0,n)&&(p=!0),f>1&&Xn(t,e,1,s)&&(p=!0),f>2&&Xn(t,e,2,r)&&(p=!0),f>3&&Xn(t,e,3,i)&&(p=!0),f>4&&Xn(t,e,4,o)&&(p=!0),f>5&&Xn(t,e,5,a)&&(p=!0),f>6&&Xn(t,e,6,l)&&(p=!0),f>7&&Xn(t,e,7,c)&&(p=!0),f>8&&Xn(t,e,8,u)&&(p=!0),f>9&&Xn(t,e,9,h)&&(p=!0),p){const p=Zn(t,e.nodeIndex);let m;switch(201347067&e.flags){case 32:m=[],f>0&&m.push(n),f>1&&m.push(s),f>2&&m.push(r),f>3&&m.push(i),f>4&&m.push(o),f>5&&m.push(a),f>6&&m.push(l),f>7&&m.push(c),f>8&&m.push(u),f>9&&m.push(h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=s),f>2&&(m[d[2].name]=r),f>3&&(m[d[3].name]=i),f>4&&(m[d[4].name]=o),f>5&&(m[d[5].name]=a),f>6&&(m[d[6].name]=l),f>7&&(m[d[7].name]=c),f>8&&(m[d[8].name]=u),f>9&&(m[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:m=t.transform(n);break;case 2:m=t.transform(s);break;case 3:m=t.transform(s,r);break;case 4:m=t.transform(s,r,i);break;case 5:m=t.transform(s,r,i,o);break;case 6:m=t.transform(s,r,i,o,a);break;case 7:m=t.transform(s,r,i,o,a,l);break;case 8:m=t.transform(s,r,i,o,a,l,c);break;case 9:m=t.transform(s,r,i,o,a,l,c,u);break;case 10:m=t.transform(s,r,i,o,a,l,c,u,h)}}p.value=m}return p}(t,e,n,s,r,i,o,a,l,c,u,h);default:throw"unreachable"}}(t,e,s,r,i,o,a,l,c,u,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let s=!1;for(let r=0;r<n.length;r++)ki(t,e,r,n[r])&&(s=!0);return s}(t,e,n);case 2:return function(t,e,n){const s=e.bindings;let r=!1;for(let i=0;i<n.length;i++)Xn(t,e,i,n[i])&&(r=!0);if(r){let r="";for(let t=0;t<n.length;t++)r+=Pi(n[t],s[t]);r=e.text.prefix+r;const i=Ln(t,e.nodeIndex).renderText;t.renderer.setValue(i,r)}return r}(t,e,n);case 16384:return function(t,e,n){const s=zn(t,e.nodeIndex),r=s.instance;let i=!1,o=void 0;for(let a=0;a<n.length;a++)Qn(t,e,a,n[a])&&(i=!0,o=cr(t,s,e,a,n[a],o));return o&&r.ngOnChanges(o),65536&e.flags&&jn(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),i}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const s=e.bindings;let r=!1;for(let i=0;i<n.length;i++)Xn(t,e,i,n[i])&&(r=!0);if(r){const r=Zn(t,e.nodeIndex);let i;switch(201347067&e.flags){case 32:i=n;break;case 64:i={};for(let r=0;r<n.length;r++)i[s[r].name]=n[r];break;case 128:const t=n[0],e=n.slice(1);i=t.transform(...e)}r.value=i}return r}(t,e,n);default:throw"unreachable"}}(t,e,s)}function Gi(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const s=e.nodes[n];if(4&s.flags){const e=qn(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const s=e[n];s.state|=32,ts(s,t)}}else 0==(4&s.childFlags)&&(n+=s.childCount)}}function Yi(t,e,n,s,r,i,o,a,l,c,u,h,d){return 0===n?function(t,e,n,s,r,i,o,a,l,c,u,h){const d=e.bindings.length;d>0&&Jn(t,e,0,n),d>1&&Jn(t,e,1,s),d>2&&Jn(t,e,2,r),d>3&&Jn(t,e,3,i),d>4&&Jn(t,e,4,o),d>5&&Jn(t,e,5,a),d>6&&Jn(t,e,6,l),d>7&&Jn(t,e,7,c),d>8&&Jn(t,e,8,u),d>9&&Jn(t,e,9,h)}(t,e,s,r,i,o,a,l,c,u,h,d):function(t,e,n){for(let s=0;s<n.length;s++)Jn(t,e,s,n[s])}(t,e,s),!1}function Qi(t,e){if(Hn(t,e.nodeIndex).dirty)throw Rn(Bn.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function Xi(t){if(!(128&t.state)){if(to(t,Ji.Destroy),Ki(t,Ji.Destroy),ur(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=ns(t);if(e){const n=e.template._projectedViews;n&&(mt(n,n.indexOf(t)),Bn.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(qn(t,n).renderElement):2&e.flags?t.renderer.destroyNode(Ln(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Hn(t,n).destroy()}}(t),is(t)&&t.renderer.destroy(),t.state|=128}}var Ji=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function Ki(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let s=0;s<n.nodes.length;s++){const r=n.nodes[s];33554432&r.flags?eo(qn(t,s).componentView,e):0==(33554432&r.childFlags)&&(s+=r.childCount)}}function to(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let s=0;s<n.nodes.length;s++){const r=n.nodes[s];if(16777216&r.flags){const n=qn(t,s).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)eo(n[t],e)}else 0==(16777216&r.childFlags)&&(s+=r.childCount)}}function eo(t,e){const n=t.state;switch(e){case Ji.CheckNoChanges:0==(128&n)&&(12==(12&n)?Ui(t):64&n&&no(t,Ji.CheckNoChangesProjectedViews));break;case Ji.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Ui(t):64&n&&no(t,e));break;case Ji.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Wi(t):64&n&&no(t,Ji.CheckAndUpdateProjectedViews));break;case Ji.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Wi(t):64&n&&no(t,e));break;case Ji.Destroy:Xi(t);break;case Ji.CreateViewNodes:Bi(t)}}function no(t,e){to(t,e),Ki(t,e)}function so(t,e,n,s){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const r=t.def.nodes.length;for(let i=0;i<r;i++){const r=t.def.nodes[i];if(r.flags&e&&r.flags&n)switch(Bn.setCurrentNode(t,r.nodeIndex),s){case 0:Ai(t,r);break;case 1:Qi(t,r)}r.childFlags&e&&r.childFlags&n||(i+=r.childCount)}}let ro=!1;function io(t,e,n,s,r,i){const o=r.injector.get(sn);return qi(ao(t,r,o,e,n),s,i)}function oo(t,e,n,s,r,i){const o=r.injector.get(sn),a=ao(t,r,new qo(o),e,n),l=vo(s);return jo(Co.create,qi,null,[a,l,i])}function ao(t,e,n,s,r){const i=e.injector.get(an),o=e.injector.get(he),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:s,selectorOrNode:r,sanitizer:i,rendererFactory:n,renderer:a,errorHandler:o}}function lo(t,e,n,s){const r=vo(n);return jo(Co.create,Li,null,[t,e,r,s])}function co(t,e,n,s){return n=fo.get(e.element.componentProvider.provider.token)||vo(n),jo(Co.create,zi,null,[t,e,n,s])}function uo(t,e,n,s){return Bs(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===ho.size||(t.providers.forEach(t=>{const s=ho.get(t.token);3840&t.flags&&s&&(e=!0,n=n||s.deprecatedBehavior)}),t.modules.forEach(t=>{po.forEach((s,r)=>{J(r).providedIn===t&&(e=!0,n=n||s.deprecatedBehavior)})})),{hasOverrides:e,hasDeprecatedOverrides:n}}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const s=t.providers[e];n&&(s.flags|=4096);const r=ho.get(s.token);r&&(s.flags=-3841&s.flags|r.flags,s.deps=cs(r.deps),s.value=r.value)}if(po.size>0){let e=new Set(t.modules);po.forEach((s,r)=>{if(e.has(J(r).providedIn)){let e={token:r,flags:s.flags|(n?4096:0),deps:cs(s.deps),value:s.value,index:t.providers.length};t.providers.push(e),t.providersByKey[$n(r)]=e}})}}(t=t.factory(()=>Un)),t):t}(s))}const ho=new Map,po=new Map,fo=new Map;function mo(t){let e;ho.set(t.token,t),"function"==typeof t.token&&(e=J(t.token))&&"function"==typeof e.providedIn&&po.set(t.token,t)}function go(t,e){const n=ds(e.viewDefFactory),s=ds(n.nodes[0].element.componentView);fo.set(t,s)}function _o(){ho.clear(),po.clear(),fo.clear()}function vo(t){if(0===ho.size)return t;const e=function(t){const e=[];let n=null;for(let s=0;s<t.nodes.length;s++){const r=t.nodes[s];1&r.flags&&(n=r),n&&3840&r.flags&&ho.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Un);for(let s=0;s<e.length;s++)n(t,e[s]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=ho.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=cs(n.deps),t.value=n.value)}}}}function yo(t,e,n,s,r,i,o,a,l,c,u,h,d){const p=t.def.nodes[e];return $i(t,p,n,s,r,i,o,a,l,c,u,h,d),224&p.flags?Zn(t,e).value:void 0}function wo(t,e,n,s,r,i,o,a,l,c,u,h,d){const p=t.def.nodes[e];return Yi(t,p,n,s,r,i,o,a,l,c,u,h,d),224&p.flags?Zn(t,e).value:void 0}function bo(t){return jo(Co.detectChanges,Wi,null,[t])}function xo(t){return jo(Co.checkNoChanges,Ui,null,[t])}function To(t){return jo(Co.destroy,Xi,null,[t])}var Co=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});let ko,Eo,So;function Ao(t,e){Eo=t,So=e}function Oo(t,e,n,s){return Ao(t,e),jo(Co.handleEvent,t.def.handleEvent,null,[t,e,n,s])}function Io(t,e){if(128&t.state)throw Vn(Co[ko]);return Ao(t,Ro(t,0)),t.def.updateDirectives(function(t,n,s,...r){const i=t.def.nodes[n];return 0===e?Do(t,i,s,r):No(t,i,s,r),16384&i.flags&&Ao(t,Ro(t,n)),224&i.flags?Zn(t,i.nodeIndex).value:void 0},t)}function Mo(t,e){if(128&t.state)throw Vn(Co[ko]);return Ao(t,Po(t,0)),t.def.updateRenderer(function(t,n,s,...r){const i=t.def.nodes[n];return 0===e?Do(t,i,s,r):No(t,i,s,r),3&i.flags&&Ao(t,Po(t,n)),224&i.flags?Zn(t,i.nodeIndex).value:void 0},t)}function Do(t,e,n,s){if($i(t,e,n,...s)){const i=1===n?s[0]:s;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const s=e.bindings[t],o=i[t];8&s.flags&&(n[(r=s.nonMinifiedName,"ng-reflect-"+r.replace(/[$@]/g,"_").replace(me,(...t)=>"-"+t[1].toLowerCase()))]=ge(o))}const s=e.parent,o=qn(t,s.nodeIndex).renderElement;if(s.element.name)for(let e in n){const s=n[e];null!=s?t.renderer.setAttribute(o,e,s):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,fe("bindings="+JSON.stringify(n,null,2)))}}var r}function No(t,e,n,s){Yi(t,e,n,...s)}function Ro(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Po(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Vo{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,s=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&s;)n=ss(s),s=s.parent;this.elDef=n,this.elView=s}get elOrCompView(){return qn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return zs(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Fo(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Fo(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!is(t);)t=t.parent;return t.parent?qn(t.parent,ss(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?rs(this.view,this.nodeDef):rs(this.elView,this.elDef)}logError(t,...e){let n,s;2&this.nodeDef.flags?(n=this.view.def,s=this.nodeDef.nodeIndex):(n=this.elView.def,s=this.elDef.nodeIndex);const r=function(t,e){let n=-1;for(let s=0;s<=e;s++)3&t.nodes[s].flags&&n++;return n}(n,s);let i=-1;n.factory(()=>(i++,i===r?t.error.bind(t,...e):Un)),i<r&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Fo(t,e,n){for(let s in e.references)n[s]=Ii(t,e,e.references[s])}function jo(t,e,n,s){const r=ko,i=Eo,o=So;try{ko=t;const a=e.apply(n,s);return Eo=i,So=o,ko=r,a}catch(c){if(le(c)||!Eo)throw c;throw a=c,l=Lo(),a instanceof Error||(a=new Error(a.toString())),Pn(a,l),a}var a,l}function Lo(){return Eo?new Vo(Eo,So):null}class qo{constructor(t){this.delegate=t}createRenderer(t,e){return new zo(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class zo{constructor(t){this.delegate=t,this.debugContextFactory=Lo,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=di(t);!function(t){ui.delete(t.nativeNode)}(e),e instanceof oi&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),s=this.createDebugContext(n);if(s){const e=new ai(n,null,s);e.name=t,pi(e)}return n}createComment(t){const e=this.delegate.createComment(fe(t)),n=this.createDebugContext(e);return n&&pi(new oi(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&pi(new oi(e,null,n)),e}appendChild(t,e){const n=di(t),s=di(e);n&&s&&n instanceof ai&&n.addChild(s),this.delegate.appendChild(t,e)}insertBefore(t,e,n,s){const r=di(t),i=di(e),o=di(n);r&&i&&r instanceof ai&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n,s)}removeChild(t,e){const n=di(t),s=di(e);n&&s&&n instanceof ai&&n.removeChild(s),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),s=Lo();return s&&pi(new ai(n,null,s)),n}setAttribute(t,e,n,s){const r=di(t);r&&r instanceof ai&&(r.attributes[s?s+":"+e:e]=n),this.delegate.setAttribute(t,e,n,s)}removeAttribute(t,e,n){const s=di(t);s&&s instanceof ai&&(s.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=di(t);n&&n instanceof ai&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=di(t);n&&n instanceof ai&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,s){const r=di(t);r&&r instanceof ai&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,s)}removeStyle(t,e,n){const s=di(t);s&&s instanceof ai&&(s.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const s=di(t);s&&s instanceof ai&&(s.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const s=di(t);s&&s.listeners.push(new ii(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Zo(t,e,n){return new Ho(t,e,n)}class Ho extends class{}{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(ro)return;ro=!0;const t=Qr()?{setCurrentNode:Ao,createRootView:oo,createEmbeddedView:lo,createComponentView:co,createNgModuleRef:uo,overrideProvider:mo,overrideComponentView:go,clearOverrides:_o,checkAndUpdateView:bo,checkNoChangesView:xo,destroyView:To,createDebugContext:(t,e)=>new Vo(t,e),handleEvent:Oo,updateDirectives:Io,updateRenderer:Mo}:{setCurrentNode:()=>{},createRootView:io,createEmbeddedView:Li,createComponentView:zi,createNgModuleRef:Bs,overrideProvider:Un,overrideComponentView:Un,clearOverrides:Un,checkAndUpdateView:Wi,checkNoChangesView:Ui,destroyView:Xi,createDebugContext:(t,e)=>new Vo(t,e),handleEvent:(t,e,n,s)=>t.def.handleEvent(t,e,n,s),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?yo:wo,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?yo:wo,t)};Bn.setCurrentNode=t.setCurrentNode,Bn.createRootView=t.createRootView,Bn.createEmbeddedView=t.createEmbeddedView,Bn.createComponentView=t.createComponentView,Bn.createNgModuleRef=t.createNgModuleRef,Bn.overrideProvider=t.overrideProvider,Bn.overrideComponentView=t.overrideComponentView,Bn.clearOverrides=t.clearOverrides,Bn.checkAndUpdateView=t.checkAndUpdateView,Bn.checkNoChangesView=t.checkNoChangesView,Bn.destroyView=t.destroyView,Bn.resolveDep=ar,Bn.createDebugContext=t.createDebugContext,Bn.handleEvent=t.handleEvent,Bn.updateDirectives=t.updateDirectives,Bn.updateRenderer=t.updateRenderer,Bn.dirtyParentQueries=Si}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),s={};for(const r in t.providersByKey)s[r]=t.providersByKey[r];return{factory:t.factory,scope:t.scope,providers:e,modules:n,providersByKey:s}}(ds(this._ngModuleDefFactory));return Bn.createNgModuleRef(this.moduleType,t||Te.NULL,this._bootstrapComponents,e)}}class Bo{}var Uo=n("BNHZ");const Wo=new WeakSet,$o=new WeakMap,Go=new WeakMap,Yo=new WeakMap,Qo=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,Ko=new WeakMap,ta=new WeakMap,ea=new WeakMap,na={construct:()=>na},sa=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,ra=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(sa);for(;null!==r;){const t=r[1].slice(1,-1),i=r[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(i),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(sa)}return[n.join(";"),s]},ia=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},oa=t=>{if(!(t=>{try{new new Proxy(t,na)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},aa=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},la=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return t.delete(s),s},ca=(t,e,n,s)=>{const r=aa(t,e),i=la(r,t=>t[0]===n&&t[1]===s);return 0===r.size&&t.delete(e),i},ua=t=>aa(Jo,t),ha=t=>{if(Wo.has(t))throw new Error("The AudioNode is already stored.");Wo.add(t),ua(t).forEach(t=>t(!0))},da=t=>"port"in t,pa=t=>{if(!Wo.has(t))throw new Error("The AudioNode is not stored.");Wo.delete(t),ua(t).forEach(t=>t(!1))},fa=(t,e)=>{!da(t)&&e.every(t=>0===t.size)&&pa(t)},ma={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},ga=(t,e)=>t.context===e,_a=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},va=()=>new DOMException("","IndexSizeError"),ya=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(s){if(12===s.code)throw va();throw s}})},wa={numberOfChannels:1},ba=-34028234663852886e22,xa=-ba,Ta=t=>Wo.has(t),Ca={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ka=t=>aa($o,t),Ea=t=>aa(Yo,t),Sa=(t,e)=>{const{activeInputs:n}=ka(t);n.forEach(n=>n.forEach(([n])=>{e.includes(t)||Sa(n,[...e,t])}));const s=(t=>"playbackRate"in t)(t)?[t.playbackRate]:da(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const r of s){const t=Ea(r);void 0!==t&&t.activeInputs.forEach(([t])=>Sa(t,e))}Ta(t)&&pa(t)},Aa=t=>{Sa(t.destination,[])},Oa=t=>"context"in t,Ia=t=>Oa(t[0]),Ma=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Da=(t,e,[n,s],r)=>{Ma(t,[e,n,s],t=>t[0]===e&&t[1]===n,r)},Na=(t,[e,n,s],r)=>{const i=t.get(e);void 0===i?t.set(e,new Set([[n,s]])):Ma(i,[n,s],t=>t[0]===n,r)},Ra=t=>"inputs"in t,Pa=(t,e,n,s)=>{if(Ra(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},Va=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},Fa=(t,e)=>{if(!ua(t).delete(e))throw new Error("Missing the expected event listener.")},ja=(t,e,n)=>{const s=aa(t,e),r=la(s,t=>t[0]===n);return 0===s.size&&t.delete(e),r},La=(t,e,n,s)=>{Ra(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},qa=t=>aa(Go,t),za=t=>aa(Qo,t),Za=t=>Ko.has(t),Ha=t=>!Wo.has(t),Ba=t=>new Promise(e=>{const n=t.createScriptProcessor(256,1,1),s=t.createGain(),r=t.createBuffer(1,2,44100),i=r.getChannelData(0);i[0]=1,i[1]=1;const o=t.createBufferSource();o.buffer=r,o.loop=!0,o.connect(n).connect(t.destination),o.connect(s),o.disconnect(s),n.onaudioprocess=s=>{const r=s.inputBuffer.getChannelData(0);Array.prototype.some.call(r,t=>1===t)?e(!0):e(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(t.destination)},o.start()}),Ua=(t,e)=>{const n=new Map;for(const s of t)for(const t of s){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach((t,n)=>e(n,t))},Wa=t=>"context"in t,$a=(t,e,n,s,r)=>{const[i,o]=((t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=ka(e),o=Va(r[s],t,n);return null===o?[ca(i,t,n,s)[2],!1]:[o[2],!0]})(t,n,s,r);if(null!==i&&(Fa(t,i),!o||e||Za(t)||La(qa(t),qa(n),s,r)),Ta(n)){const{activeInputs:t}=ka(n);fa(n,t)}},Ga=(t,e,n,s)=>{const[r,i]=((t,e,n)=>{const{activeInputs:s,passiveInputs:r}=Ea(e),i=Va(s,t,n);return null===i?[ja(r,t,n)[1],!1]:[i[2],!0]})(t,n,s);null!==r&&(Fa(t,r),!i||e||Za(t)||qa(t).disconnect(za(n),s))};class Ya{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach((n,s)=>t.call(e,n,s,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Qa={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Xa(t,e,n,s,r){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(0===e[n].byteLength)e[n]=i.slice(r,r+128);else{const t=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Ja=(t,e,n,s,r)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],s,r):0!==e[n].byteLength&&t.getChannelData(s).set(e[n],r)},Ka=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const t=[],r="number"==typeof e?e:e[s];for(let e=0;e<r;e+=1)t.push(new Float32Array(128));n.push(t)}return n},tl={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},el={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},nl={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},sl={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},rl={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},il={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},ol=(t,e,n)=>{const s=e[n];if(void 0===s)throw t();return s},al={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},ll={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},cl=()=>new DOMException("","InvalidStateError"),ul=()=>new DOMException("","InvalidAccessError"),hl={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},dl=(t,e,n,s,r,i,o,a,l,c,u)=>{const h=c.length;let d=a;for(let p=0;p<h;p+=1){let a=n[0]*c[p];for(let e=1;e<r;e+=1){const s=d-e&l-1;a+=n[e]*i[s],a-=t[e]*o[s]}for(let t=r;t<s;t+=1)a+=n[t]*i[d-t&l-1];for(let n=r;n<e;n+=1)a-=t[n]*o[d-n&l-1];i[d]=c[p],o[d]=a,d=d+1&l-1,u[p]=a}return d},pl={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},fl=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return void 0!==n&&(n.catch(()=>{}),!0)}catch{}return!1},ml=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n]&&(t[n]=s)},gl=(t,e)=>{ml(t,e,"channelCount"),ml(t,e,"channelCountMode"),ml(t,e,"channelInterpretation")},_l=t=>"function"==typeof t.getFloatTimeDomainData,vl=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n].value&&(t[n].value=s)},yl=t=>{var e;t.start=(e=t.start,(n=0,s=0,r)=>{if("number"==typeof r&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})},wl=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},bl=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),xl=(t,e)=>{const n=t.createBiquadFilter();return gl(n,e),vl(n,e,"Q"),vl(n,e,"detune"),vl(n,e,"frequency"),vl(n,e,"gain"),ml(n,e,"type"),n},Tl=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return gl(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw cl()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw cl()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw cl()}})})(n),n},Cl=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),kl=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return gl(n,e),vl(n,e,"delayTime"),n},El=(t,e)=>{const n=t.createGain();return gl(n,e),vl(n,e,"gain"),n};function Sl(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Al(t,e){let n=[0,0];for(let i=t.length-1;i>=0;i-=1)n=[(s=n)[0]*(r=e)[0]-s[1]*r[1],s[0]*r[1]+s[1]*r[0]],n[0]+=t[i];var s,r;return n}const Ol=(t,e,n,s)=>t.createScriptProcessor(e,n,s),Il=()=>new DOMException("","NotSupportedError"),Ml={numberOfChannels:1},Dl={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Nl={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Rl={disableNormalization:!1},Pl={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Vl={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Fl=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},jl=(t,e,n,s)=>{let r=Object.getPrototypeOf(t);for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},Ll=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(9!==s.code)throw s;Ll(t,e,n+1e-7)}},ql=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},zl=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Zl=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},Hl=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=t.disconnect,()=>{r.call(t,n),t.removeEventListener("ended",s)});var r;t.addEventListener("ended",s),Cl(t,n),t.stop=(e=>{let s=!1;return(r=0)=>{if(s)try{e.call(t,r)}catch{n.gain.setValueAtTime(0,r)}else e.call(t,r),s=!0}})(t.stop)},Bl=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},Ul=(Wl=Ma,(t,e,[n,s,r],i)=>{Wl(t[s],[e,n,r],t=>t[0]===e&&t[1]===n,i)});var Wl;const $l=(t=>(e,n,[s,r,i],o)=>{const a=e.get(s);void 0===a?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],t=>t[0]===r&&t[1]===n,o)})(Ma),Gl=(t=>(e,n,s,r)=>t(e[r],t=>t[0]===n&&t[1]===s))(la),Yl=new WeakMap,Ql=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(Yl),Xl=(Jl=new Map,Kl=new WeakMap,(t,e)=>{const n=Kl.get(t);if(void 0!==n)return n;const s=Jl.get(t);if(void 0!==s)return s;try{const n=e();return n instanceof Promise?(Jl.set(t,n),n.catch(()=>!1).then(e=>(Jl.delete(t),Kl.set(t,e),e))):(Kl.set(t,n),n)}catch{return Kl.set(t,!1),!1}});var Jl,Kl;const tc="undefined"==typeof window?null:window,ec=(nc=Xl,sc=va,(t,e)=>{const n=t.createAnalyser();if(gl(n,e),!(e.maxDecibels>e.minDecibels))throw sc();return ml(n,e,"fftSize"),ml(n,e,"maxDecibels"),ml(n,e,"minDecibels"),ml(n,e,"smoothingTimeConstant"),nc(_l,()=>_l(n))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let t=0;t<s;t+=1)e[t]=.0078125*(n[t]-128);return e}})(n),n});var nc,sc;const rc=(ic=ka,t=>{const e=ic(t);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer});var ic;const oc=((t,e,n)=>async(s,r,i,o)=>{const a=t(s),l=[...o,s];await Promise.all(a.activeInputs.map((t,o)=>Array.from(t).filter(([t])=>!l.includes(t)).map(async([t,a])=>{const c=e(t),u=await c.render(t,r,l),h=s.context.destination;n(t)||s===h&&n(s)||u.connect(i,a,o)})).reduce((t,e)=>[...t,...e],[]))})(ka,rc,Za),ac=(lc=ec,cc=qa,uc=oc,()=>{const t=new WeakMap;return{render(e,n,s){const r=t.get(n);return void 0!==r?Promise.resolve(r):(async(e,n,s)=>{let r=cc(e);return ga(r,n)||(r=lc(n,{channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,fftSize:r.fftSize,maxDecibels:r.maxDecibels,minDecibels:r.minDecibels,smoothingTimeConstant:r.smoothingTimeConstant})),t.set(n,r),await uc(e,n,r,s),r})(e,n,s)}}});var lc,cc,uc;const hc=(dc=Xo,t=>{const e=dc.get(t);if(void 0===e)throw cl();return e});var dc;const pc=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(tc),fc=(mc=pc,t=>null!==mc&&t instanceof mc);var mc;const gc=new WeakMap,_c=(vc=Bl,class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,e,n){if(null!==e){let s=this._listeners.get(e);void 0===s&&(s=vc(this,e),"function"==typeof e&&this._listeners.set(e,s)),this._nativeEventTarget.addEventListener(t,s,n)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const s=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===s?null:s,n)}});var vc;const yc=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(tc),wc=(bc=yc,t=>null!==bc&&t instanceof bc);var bc;const xc=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(tc),Tc=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(tc),Cc=((t,e,n,s,r,i,o,a,l,c,u,h,d,p,f)=>class extends c{constructor(e,s,r,i){super(r),this._context=e,this._nativeAudioNode=r;const o=u(e);h(o)&&!0!==n(Ba,()=>Ba(o))&&(t=>{const e=new Map;var n,s;t.connect=(n=t.connect.bind(t),(t,s=0,r=0)=>{const i=Wa(t)?n(t,s,r):n(t,s),o=e.get(t);return void 0===o?e.set(t,[{input:r,output:s}]):o.every(t=>t.input!==r||t.output!==s)&&o.push({input:r,output:s}),i}),t.disconnect=(s=t.disconnect,(n,r,i)=>{if(s.apply(t),void 0===n)e.clear();else if("number"==typeof n)for(const[t,s]of e){const r=s.filter(t=>t.output!==n);0===r.length?e.delete(t):e.set(t,r)}else if(e.has(n))if(void 0===r)e.delete(n);else{const t=e.get(n);if(void 0!==t){const s=t.filter(t=>t.output!==r&&(t.input!==i||void 0===i));0===s.length?e.delete(n):e.set(n,s)}}for(const[s,o]of e)o.forEach(e=>{Wa(s)?t.connect(s,e.output,e.input):t.connect(s,e.output)})})})(r),Go.set(this,r),Jo.set(this,new Set),"closed"!==e.state&&s&&ha(this),t(this,i,r)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw r();const c=u(this._context),h=f(c);if(d(t)||p(t))throw i();if(Oa(t)){const r=qa(t);try{const e=Pa(this._nativeAudioNode,r,n,a),s=Ha(this);(h||s)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!s&&Ha(t)&&ha(t)}catch(g){if(12===g.code)throw i();throw g}if(e(this,t,n,a,h)){const e=l([this],t);Ua(e,s(h))}return t}const m=za(t);if("playbackRate"===m.name)throw o();try{this._nativeAudioNode.connect(m,n),(h||Ha(this))&&this._nativeAudioNode.disconnect(m,n)}catch(g){if(12===g.code)throw i();throw g}if(((t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Ea(e),{outputs:o}=ka(t),a=ua(t),l=o=>{const a=qa(t),l=za(e);if(o){const e=ja(i,t,n);Da(r,t,e,!1),s||Za(t)||a.connect(l,n)}else{const e=((t,e,n)=>la(t,t=>t[0]===e&&t[1]===n))(r,t,n);Na(i,e,!1),s||Za(t)||a.disconnect(l,n)}};return!!Ma(o,[e,n],t=>t[0]===e&&t[1]===n,!0)&&(a.add(l),Ta(t)?Da(r,t,[n,l],!0):Na(i,[t,n,l],!0),!0)})(this,t,n,h)){const e=l([this],t);Ua(e,s(h))}}disconnect(t,e,n){let s;const o=u(this._context),c=f(o);if(void 0===t)s=((t,e)=>{const n=ka(t),s=[];for(const r of n.outputs)Ia(r)?$a(t,e,...r):Ga(t,e,...r),s.push(r[0]);return n.outputs.clear(),s})(this,c);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw r();s=((t,e,n)=>{const s=ka(t),r=[];for(const i of s.outputs)i[1]===n&&(Ia(i)?$a(t,e,...i):Ga(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r})(this,c,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw r();if(Oa(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw r();if(s=((t,e,n,s,r)=>{const i=ka(t);return Array.from(i.outputs).filter(t=>!(t[0]!==n||void 0!==s&&t[1]!==s||void 0!==r&&t[2]!==r)).map(n=>(Ia(n)?$a(t,e,...n):Ga(t,e,...n),i.outputs.delete(n),n[0]))})(this,c,t,e,n),0===s.length)throw i()}for(const r of s){const t=l([this],r);Ua(t,a)}}})((kc=$o,(t,e,n)=>{const s=[];for(let r=0;r<n.numberOfInputs;r+=1)s.push(new Set);kc.set(t,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,s,r,i,o,a,l,c,u,h,d)=>{const p=new WeakMap;return(f,m,g,_,v)=>{const{activeInputs:y,passiveInputs:w}=i(m),{outputs:b}=i(f),x=a(f),T=i=>{const a=l(m),c=l(f);if(i){const e=ca(w,f,g,_);t(y,f,e,!1),v||h(f)||n(c,a,g,_),d(m)&&ha(m)}else{const t=s(y,f,g,_);e(w,_,t,!1),v||h(f)||r(c,a,g,_);const n=o(m);if(0===n)u(m)&&fa(m,y);else{const t=p.get(m);void 0!==t&&clearTimeout(t),p.set(m,setTimeout(()=>{u(m)&&fa(m,y)},1e3*n))}}};return!!c(b,[m,g,_],t=>t[0]===m&&t[1]===g&&t[2]===_,!0)&&(x.add(T),u(f)?t(y,f,[g,_,T],!0):e(w,_,[f,g,T],!0),!0)}})(Ul,$l,Pa,Gl,La,ka,Ql,ua,qa,Ma,Ta,Za,Ha),Xl,((t,e,n,s,r,i)=>o=>(a,l)=>{const c=t.get(a);if(void 0===c){if(!o&&i(a)){const t=s(a),{outputs:i}=n(a);for(const n of i)if(Ia(n)){const r=s(n[0]);e(t,r,n[1],n[2])}else{const e=r(n[0]);t.disconnect(e,n[1])}}t.set(a,l)}else t.set(a,c+l)})(Ko,La,ka,qa,za,Ta),va,ul,Il,((t,e,n,s,r,i,o,a)=>(l,c)=>{const u=e.get(l);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(u===c){if(e.delete(l),!d&&o(l)){const e=s(l),{outputs:i}=n(l);for(const n of i)if(Ia(n)){const r=s(n[0]);t(e,r,n[1],n[2])}else{const t=r(n[0]);e.connect(t,n[1])}}}else e.set(l,u-c)})(Pa,Ko,ka,qa,za,hc,Ta,fc),((t,e,n)=>function s(r,i){const o=Oa(i)?i:n(t,i);if((t=>"delayTime"in t)(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(t=>s([...r,o],t[0])).reduce((t,e)=>t.concat(e),[])})(gc,ka,aa),_c,hc,wc,xc,Tc,fc);var kc;const Ec=((t,e,n,s,r,i)=>class extends t{constructor(t,n){const o=r(t),a={...ma,...n},l=s(o,a);super(t,!1,l,i(o)?e():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(Cc,ac,va,ec,hc,fc),Sc=new WeakSet,Ac=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(tc),Oc=(Ic=new Uint32Array(1),t=>(Ic[0]=t,Ic[0]));var Ic;const Mc=((t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=s.length;for(let t=o<0?-o:0;t+o<l&&t<u;t+=1)s[t]=c[t+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=s.length;for(let t=o<0?-o:0;t+o<l&&t<u;t+=1)c[t+o]=s[t]}})(Oc,va),Dc=(t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)})(Oc),Nc=((t,e,n,s,r,i,o,a)=>{let l=null;return class c{constructor(c){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:d}={...wa,...c};null===l&&(l=new r(1,1,44100));const p=null!==s&&e(i,i)?new s({length:u,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,u,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(o(p),ya(p)):e(_a,()=>_a(p))||a(p),t.add(p),p}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===c.prototype||t.has(e)}}})(Sc,Xl,Il,Ac,pc,(Rc=Ac,()=>{if(null===Rc)return!1;try{new Rc({length:1,sampleRate:44100})}catch{return!1}return!0}),Mc,Dc);var Rc;const Pc=(Vc=El,(t,e)=>{const n=Vc(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(n).connect(t.destination);const s=()=>{e.removeEventListener("ended",s),e.disconnect(n),n.disconnect()};e.addEventListener("ended",s)});var Vc;const Fc=((t,e,n)=>async(s,r,i,o)=>{const a=e(s);await Promise.all(Array.from(a.activeInputs).map(async([e,s])=>{const a=t(e),l=await a.render(e,r,o);n(e)||l.connect(i,s)}))})(rc,Ea,Za),jc=(t=>(e,n,s,r)=>t(n,e,s,r))(Fc),Lc=((t,e,n,s,r,i,o,a,l,c,u)=>(l,h)=>{const d=l.createBufferSource();return gl(d,h),vl(d,h,"playbackRate"),ml(d,h,"buffer"),ml(d,h,"loop"),ml(d,h,"loopEnd"),ml(d,h,"loopStart"),e(n,()=>n(l))||(t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw cl();e.call(t,s,r,i),n=!0}})(t.start)})(d),e(s,()=>s(l))||(t=>{var e;t.start=(e=t.start,(n=0,s=0,r)=>{const i=t.buffer,o=null===i?s:Math.min(i.duration,s);null!==i&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})})(d),e(r,()=>r(l))||c(d,l),e(i,()=>i(l))||yl(d),e(o,()=>o(l))||u(d,l),e(a,()=>a(l))||wl(d),t(l,d),d})(Pc,Xl,t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},ql,zl,Zl,0,(qc=jl,(t,e)=>{const n=e.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=n),qc(t,"buffer",e=>()=>{const s=e.call(t);return s===n?null:s},e=>s=>e.call(t,null===s?n:s))}),Hl);var qc;const zc=((t,e)=>(n,s,r,i)=>(t(s).replay(r),e(s,n,r,i)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(Ea),Fc),Zc=((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,c,u){const h=i.get(c);return void 0!==h?Promise.resolve(h):(async(l,c,u)=>{let h=n(l);const d=ga(h,c);return d||(h=e(c,{buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value}),null!==o&&h.start(...o),null!==a&&h.stop(a)),i.set(c,h),d?await t(c,l.playbackRate,h.playbackRate,u):await s(c,l.playbackRate,h.playbackRate,u),await r(l,c,h,u),h})(l,c,u)}}})(jc,Lc,qa,zc,oc),Hc=((t,e,n,s,r,i,o,a,l,c,u,h,d)=>(s,p,f,m=null,g=null)=>{const _=new Uo.AutomationEventList(f.defaultValue),v=p?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:s}=n;e.exponentialRampToValueAtTime(s,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:s}=n;e.linearRampToValueAtTime(s,t)}else if("setTarget"===n.type){const{startTime:t,target:s,timeConstant:r}=n;e.setTargetAtTime(s,t,r)}else if("setValue"===n.type){const{startTime:t,value:s}=n;e.setValueAtTime(s,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:s,values:r}=n;e.setValueCurveAtTime(r,s,t)}}}}))(_):null,y={get defaultValue(){return f.defaultValue},get maxValue(){return null===m?f.maxValue:m},get minValue(){return null===g?f.minValue:g},get value(){return f.value},set value(t){f.value=t,y.setValueAtTime(t,s.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof f.cancelAndHoldAtTime)null===v&&_.flush(s.context.currentTime),_.add(r(t)),f.cancelAndHoldAtTime(t);else{const e=Array.from(_).pop();null===v&&_.flush(s.context.currentTime),_.add(r(t));const n=Array.from(_).pop();f.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?f.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?f.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?f.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&f.setValueCurveAtTime(n.values,n.startTime,n.duration))}return y},cancelScheduledValues:t=>(null===v&&_.flush(s.context.currentTime),_.add(i(t)),f.cancelScheduledValues(t),y),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===v&&_.flush(s.context.currentTime),_.add(o(t,e)),f.exponentialRampToValueAtTime(t,e),y},linearRampToValueAtTime:(t,e)=>(null===v&&_.flush(s.context.currentTime),_.add(a(t,e)),f.linearRampToValueAtTime(t,e),y),setTargetAtTime:(t,e,n)=>(null===v&&_.flush(s.context.currentTime),_.add(l(t,e,n)),f.setTargetAtTime(t,e,n),y),setValueAtTime:(t,e)=>(null===v&&_.flush(s.context.currentTime),_.add(c(t,e)),f.setValueAtTime(t,e),y),setValueCurveAtTime(t,e,n){const r=t instanceof Float32Array?t:new Float32Array(t);if(null!==h&&"webkitAudioContext"===h.name){const t=e+n,i=s.context.sampleRate,o=Math.ceil(e*i),a=Math.floor(t*i),l=a-o,c=new Float32Array(l);for(let s=0;s<l;s+=1){const t=(r.length-1)/n*((o+s)/i-e),a=Math.floor(t),l=Math.ceil(t);c[s]=a===l?r[a]:(1-(t-a))*r[a]+(1-(l-t))*r[l]}null===v&&_.flush(s.context.currentTime),_.add(u(c,e,n)),f.setValueCurveAtTime(c,e,n);const h=a/i;h<t&&d(y,c[c.length-1],h),d(y,r[r.length-1],t)}else null===v&&_.flush(s.context.currentTime),_.add(u(r,e,n)),f.setValueCurveAtTime(r,e,n);return y}};return n.set(y,f),e.set(y,s),t(y,v),y})((Bc=Yo,(t,e)=>{Bc.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),gc,Qo,0,Uo.createCancelAndHoldAutomationEvent,Uo.createCancelScheduledValuesAutomationEvent,Uo.createExponentialRampToValueAutomationEvent,Uo.createLinearRampToValueAutomationEvent,Uo.createSetTargetAutomationEvent,Uo.createSetValueAutomationEvent,Uo.createSetValueCurveAutomationEvent,yc,Ll);var Bc;const Uc=((t,e,n,s,r,i,o,a)=>class extends t{constructor(t,s){const a=i(t),l={...Ca,...s},c=r(a,l),u=o(a),h=u?e():null;super(t,!1,c,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=c,this._onended=null,this._playbackRate=n(this,u,c.playbackRate,xa,ba)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){ha(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),Ta(this)&&pa(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(Cc,Zc,Hc,cl,Lc,hc,fc,Bl),Wc=((t,e,n,s,r,i,o,a)=>class extends t{constructor(t,e){const n=i(t),s=o(n),l=r(n,e,s);super(t,!1,l,s?(t=>{let e=null;return{render:(n,s,r)=>(null===e&&(e=(async(e,n,s)=>{const r=n.destination;return await t(e,n,r,s),r})(n,s,r)),e)}})(a):null),this._isNodeOfNativeOfflineAudioContext=s,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Cc,0,va,cl,((t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&"explicit"!==i.channelCountMode&&(i.channelCountMode="explicit"),0===i.maxChannelCount&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",t=>()=>t.call(o),t=>e=>{t.call(o,e);try{i.channelCount=e}catch(n){if(e>i.maxChannelCount)throw n}}),e(o,"channelCountMode",t=>()=>t.call(o),t=>e=>{t.call(o,e),i.channelCountMode=e}),e(o,"channelInterpretation",t=>()=>t.call(o),t=>e=>{t.call(o,e),i.channelInterpretation=e}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o})(El,jl),hc,fc,oc),$c=((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a,l){const c=i.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,l)=>{let c=n(o);const u=ga(c,a);return u||(c=e(a,{Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type})),i.set(a,c),u?(await t(a,o.Q,c.Q,l),await t(a,o.detune,c.detune,l),await t(a,o.frequency,c.frequency,l),await t(a,o.gain,c.gain,l)):(await s(a,o.Q,c.Q,l),await s(a,o.detune,c.detune,l),await s(a,o.frequency,c.frequency,l),await s(a,o.gain,c.gain,l)),await r(o,a,c,l),c})(o,a,l)}}})(jc,xl,qa,zc,oc),Gc=(t=>(e,n)=>t.set(e,n))(Yl),Yc=(Qc=Cc,Xc=Hc,Jc=$c,Kc=ul,tu=xl,eu=hc,nu=fc,su=Gc,class extends Qc{constructor(t,e){const n=eu(t),s={...tl,...e},r=tu(n,s),i=nu(n);super(t,!1,r,i?Jc():null),this._Q=Xc(this,i,r.Q,xa,ba),this._detune=Xc(this,i,r.detune,1200*Math.log2(xa),-1200*Math.log2(xa)),this._frequency=Xc(this,i,r.frequency,t.sampleRate/2,0),this._gain=Xc(this,i,r.gain,40*Math.log10(xa),ba),this._nativeBiquadFilterNode=r,su(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(s){if(11===s.code)throw Kc();throw s}if(t.length!==e.length||e.length!==n.length)throw Kc()}});var Qc,Xc,Jc,Kc,tu,eu,nu,su;const ru=((t,e)=>(n,s,r)=>{const i=new Set;var o,a;return n.connect=(o=n.connect,(r,a=0,l=0)=>{const c=0===i.size;if(e(r))return o.call(n,r,a,l),t(i,[r,a,l],t=>t[0]===r&&t[1]===a&&t[2]===l,!0),c&&s(),r;o.call(n,r,a),t(i,[r,a],t=>t[0]===r&&t[1]===a,!0),c&&s()}),n.disconnect=(a=n.disconnect,(t,s,o)=>{const l=i.size>0;if(void 0===t)a.apply(n),i.clear();else if("number"==typeof t){a.call(n,t);for(const e of i)e[1]===t&&i.delete(e)}else{e(t)?a.call(n,t,s,o):a.call(n,t,s);for(const e of i)e[0]!==t||void 0!==s&&e[1]!==s||void 0!==o&&e[2]!==o||i.delete(e)}l&&0===i.size&&r()}),n})(Ma,xc);var iu,ou;const au=((t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,r),gl(r,s),r})(yc,(iu=cl,ou=ru,(t,e)=>{e.channelCount=1,e.channelCountMode="explicit",Object.defineProperty(e,"channelCount",{get:()=>1,set:()=>{throw iu()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:()=>{throw iu()}});const n=t.createBufferSource();ou(e,()=>{const t=e.numberOfInputs;for(let s=0;s<t;s+=1)n.connect(e,0,s)},()=>n.disconnect(e))})),lu=((t,e,n,s,r)=>class extends t{constructor(t,i){const o=s(t),a={...el,...i};super(t,!1,n(o,a),r(o)?e():null)}})(Cc,((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i,o){const a=s.get(i);return void 0!==a?Promise.resolve(a):(async(r,i,o)=>{let a=e(r);return ga(a,i)||(a=t(i,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs})),s.set(i,a),await n(r,i,a,o),a})(r,i,o)}}})(au,qa,oc),au,hc,fc),cu=((t,e,n,s,r,i)=>class extends t{constructor(t,i){const o=s(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...nl,...i});super(t,!1,n(o,a),r(o)?e():null)}})(Cc,((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i,o){const a=s.get(i);return void 0!==a?Promise.resolve(a):(async(r,i,o)=>{let a=e(r);return ga(a,i)||(a=t(i,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs})),s.set(i,a),await n(r,i,a,o),a})(r,i,o)}}})(Tl,qa,oc),Tl,hc,fc),uu=((t,e,n,s,r)=>(i,o)=>{if(void 0===i.createConstantSource)return n(i,o);const a=i.createConstantSource();return gl(a,o),vl(a,o,"offset"),e(s,()=>s(i))||yl(a),e(r,()=>r(i))||wl(a),t(i,a),a})(Pc,Xl,((t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(r,{...o,gain:i}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(t){l.onended=t},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2]),start(t=0){l.start.call(l,t)},stop(t=0){l.stop.call(l,t)}};return t(r,l),s(Cl(h,c),()=>l.connect(c),()=>l.disconnect(c))})(Pc,Lc,El,ru),ql,Zl),hu=((t,e,n,s,r,i,o)=>class extends t{constructor(t,o){const a=r(t),l={...sl,...o},c=s(a,l),u=i(a),h=u?n():null;super(t,!1,c,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=c,this._offset=e(this,u,c.offset,xa,ba),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){ha(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),Ta(this)&&pa(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(Cc,Hc,((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,c,u){const h=i.get(c);return void 0!==h?Promise.resolve(h):(async(l,c,u)=>{let h=n(l);const d=ga(h,c);return d||(h=e(c,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value}),null!==o&&h.start(o),null!==a&&h.stop(a)),i.set(c,h),d?await t(c,l.offset,h.offset,u):await s(c,l.offset,h.offset,u),await r(l,c,h,u),h})(l,c,u)}}})(jc,uu,qa,zc,oc),uu,hc,fc,Bl),du=((t,e)=>(n,s)=>{const r=n.createConvolver();if(gl(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),ml(r,s,"buffer"),s.channelCount>2)throw t();if(e(r,"channelCount",t=>()=>t.call(r),e=>n=>{if(n>2)throw t();return e.call(r,n)}),"max"===s.channelCountMode)throw t();return e(r,"channelCountMode",t=>()=>t.call(r),e=>n=>{if("max"===n)throw t();return e.call(r,n)}),r})(Il,jl),pu=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=s(t),l={...rl,...o},c=n(a,l);super(t,!1,c,r(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=c,null!==l.buffer&&i(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer?(this._nativeConvolverNode.buffer=this._nativeConvolverNode.context.createBuffer(1,1,44100),this._isBufferNullified=!0,i(this,0)):(this._isBufferNullified=!1,i(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration))}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(Cc,((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i,o){const a=s.get(i);return void 0!==a?Promise.resolve(a):(async(r,i,o)=>{let a=e(r);return ga(a,i)||(a=t(i,{buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize})),s.set(i,a),Ra(a)?await n(r,i,a.inputs[0],o):await n(r,i,a,o),a})(r,i,o)}}})(du,qa,oc),du,hc,fc,Gc),fu=((t,e,n,s,r,i,o)=>class extends t{constructor(t,a){const l=r(t),c={...il,...a},u=s(l,c),h=i(l);super(t,!1,u,h?n(c.maxDelayTime):null),this._delayTime=e(this,h,u.delayTime),o(this,c.maxDelayTime)}get delayTime(){return this._delayTime}})(Cc,Hc,((t,e,n,s,r)=>i=>{const o=new WeakMap;return{render(a,l,c){const u=o.get(l);return void 0!==u?Promise.resolve(u):(async(a,l,c)=>{let u=n(a);const h=ga(u,l);return h||(u=e(l,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i})),o.set(l,u),h?await t(l,a.delayTime,u.delayTime,c):await s(l,a.delayTime,u.delayTime,c),await r(a,l,u,c),u})(a,l,c)}}})(jc,kl,qa,zc,oc),kl,hc,fc,Gc),mu=(gu=Il,(t,e)=>{const n=t.createDynamicsCompressor();if(gl(n,e),e.channelCount>2)throw gu();if("max"===e.channelCountMode)throw gu();return vl(n,e,"attack"),vl(n,e,"knee"),vl(n,e,"ratio"),vl(n,e,"release"),vl(n,e,"threshold"),n});var gu;const _u=((t,e,n,s,r,i,o,a)=>class extends t{constructor(t,r){const l=i(t),c={...al,...r},u=s(l,c),h=o(l);super(t,!1,u,h?n():null),this._attack=e(this,h,u.attack),this._knee=e(this,h,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=e(this,h,u.ratio),this._release=e(this,h,u.release),this._threshold=e(this,h,u.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Cc,Hc,((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a,l){const c=i.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,l)=>{let c=n(o);const u=ga(c,a);return u||(c=e(a,{attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value})),i.set(a,c),u?(await t(a,o.attack,c.attack,l),await t(a,o.knee,c.knee,l),await t(a,o.ratio,c.ratio,l),await t(a,o.release,c.release,l),await t(a,o.threshold,c.threshold,l)):(await s(a,o.attack,c.attack,l),await s(a,o.knee,c.knee,l),await s(a,o.ratio,c.ratio,l),await s(a,o.release,c.release,l),await s(a,o.threshold,c.threshold,l)),await r(o,a,c,l),c})(o,a,l)}}})(jc,mu,qa,zc,oc),mu,Il,hc,fc,Gc),vu=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=r(t),l={...ll,...o},c=s(a,l),u=i(a);super(t,!1,c,u?n():null),this._gain=e(this,u,c.gain,xa,ba)}get gain(){return this._gain}})(Cc,Hc,((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a,l){const c=i.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,l)=>{let c=n(o);const u=ga(c,a);return u||(c=e(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value})),i.set(a,c),u?await t(a,o.gain,c.gain,l):await s(a,o.gain,c.gain,l),await r(o,a,c,l),c})(o,a,l)}}})(jc,El,qa,zc,oc),El,hc,fc),yu=((t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const h=bl(i,r.sampleRate),d=c instanceof Float64Array?c:new Float64Array(c),p=u instanceof Float64Array?u:new Float64Array(u),f=d.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw s();if(0===d[0])throw e();if(0===m||m>20)throw s();if(0===p[0])throw e();if(1!==d[0]){for(let t=0;t<m;t+=1)p[t]/=d[0];for(let t=1;t<f;t+=1)d[t]/=d[0]}const _=n(r,h,o,o);_.channelCount=o,_.channelCountMode=a,_.channelInterpretation=l;const v=[],y=[],w=[];for(let t=0;t<o;t+=1){v.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),y.push(t),w.push(e)}_.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,s=e.numberOfChannels;for(let r=0;r<s;r+=1){const t=e.getChannelData(r),s=n.getChannelData(r);v[r]=dl(d,f,p,m,g,y[r],w[r],v[r],32,t,s)}};const b=r.sampleRate/2;return Cl({get bufferSize(){return h},get channelCount(){return _.channelCount},set channelCount(t){_.channelCount=t},get channelCountMode(){return _.channelCountMode},set channelCountMode(t){_.channelCountMode=t},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(t){_.channelInterpretation=t},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},addEventListener:(...t)=>_.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>_.dispatchEvent(t[0]),getFrequencyResponse(e,n,s){if(e.length!==n.length||n.length!==s.length)throw t();const r=e.length;for(let t=0;t<r;t+=1){const r=-Math.PI*(e[t]/b),i=[Math.cos(r),Math.sin(r)],o=Sl(Al(p,i),Al(d,i));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s[t]=Math.atan2(o[1],o[0])}},removeEventListener:(...t)=>_.removeEventListener(t[0],t[1],t[2])},_)})(ul,cl,Ol,Il),wu=((t,e,n,s)=>r=>t(fl,()=>fl(r))?Promise.resolve(t(s,s)).then(t=>{if(!t){const t=n(r,512,0,1);r.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>r.currentTime,t.connect(r.destination)}return r.startRendering()}):new Promise(t=>{const n=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(r.destination),r.startRendering()}))(Xl,El,Ol,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(t=>{n.oncomplete=()=>{s.disconnect(),t(0!==n.currentTime)},n.startRendering()})})(El,pc)),bu=((t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let l=null;return{render(c,u,h){const d=a.get(u);return void 0!==d?Promise.resolve(d):(async(c,u,h)=>{let d=null,p=e(c);const f=ga(p,u);if(void 0===u.createIIRFilter?d=t(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(p=u.createIIRFilter(o,i)),a.set(u,null===d?p:d),null!==d){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(c.context.destination.channelCount,c.context.length,u.sampleRate);l=(async()=>(await s(c,t,t.destination,h),((t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,l=Math.min(o,a);if(1!==r[0]){for(let t=0;t<o;t+=1)i[t]/=r[0];for(let t=1;t<a;t+=1)r[t]/=r[0]}const c=new Float32Array(32),u=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let p=0;p<d;p+=1){const e=t.getChannelData(p),n=h.getChannelData(p);c.fill(0),u.fill(0),dl(r,o,i,a,l,c,u,0,32,e,n)}return h})(await r(t),u,i,o)))()}const t=await l;return d.buffer=t,d.start(0),d}return await s(c,u,p,h),p})(c,u,h)}}})(Lc,qa,pc,oc,wu);var xu;const Tu=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=s(t),l=r(a),c={...hl,...o},u=e(a,l?null:t.baseLatency,c);super(t,!1,u,l?n(c.feedback,c.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw ul();return e.call(t,n,s,r)})})(u),this._nativeIIRFilterNode=u,i(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(Cc,(xu=yu,(t,e,n)=>{if(void 0===t.createIIRFilter)return xu(t,e,n);const s=t.createIIRFilter(n.feedforward,n.feedback);return gl(s,n),s}),bu,hc,fc,Gc),Cu=((t,e,n,s,r)=>(i,o)=>{const a=o.listener,{forwardX:l,forwardY:c,forwardZ:u,positionX:h,positionY:d,positionZ:p,upX:f,upY:m,upZ:g}=void 0===a.forwardX?(()=>{const l=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),c=r(o),u=s(o,256,9,0),h=(e,s)=>{const r=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:s});return r.connect(l,0,e),r.start(),Object.defineProperty(r.offset,"defaultValue",{get:()=>s}),t({context:i},c,r.offset,xa,ba)};let d=[0,0,-1,0,1,0],p=[0,0,0];return u.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0],t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];e.some((t,e)=>t!==d[e])&&(a.setOrientation(...e),d=e);const n=[t.getChannelData(6)[0],t.getChannelData(7)[0],t.getChannelData(8)[0]];n.some((t,e)=>t!==p[e])&&(a.setPosition(...n),p=n)},l.connect(u),{forwardX:h(0,0),forwardY:h(1,0),forwardZ:h(2,-1),positionX:h(6,0),positionY:h(7,0),positionZ:h(8,0),upX:h(3,0),upY:h(4,1),upZ:h(5,0)}})():a;return{get forwardX(){return l},get forwardY(){return c},get forwardZ(){return u},get positionX(){return h},get positionY(){return d},get positionZ(){return p},get upX(){return f},get upY(){return m},get upZ(){return g}}})(Hc,au,uu,Ol,fc),ku=new WeakMap,Eu=((t,e,n,s,r,i)=>class extends n{constructor(n,i){super(n),this._nativeContext=n,Xo.set(this,n),s(n)&&r.set(n,new Set),this._destination=new t(this,i),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?i(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Wc,Cu,_c,fc,ku,Bl),Su=((t,e,n,s,r,i)=>(o,a)=>{const l=o.createOscillator();return gl(l,a),vl(l,a,"detune"),vl(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):ml(l,a,"type"),e(n,()=>n(o))||yl(l),e(s,()=>s(o))||i(l,o),e(r,()=>r(o))||wl(l),t(o,l),l})(Pc,Xl,ql,zl,Zl,Hl),Au=((t,e,n,s,r,i,o)=>class extends t{constructor(t,o){const a=r(t),l={...Dl,...o},c=n(a,l),u=i(a),h=u?s():null,d=t.sampleRate/2;super(t,!1,c,h),this._detune=e(this,u,c.detune,153600,-153600),this._frequency=e(this,u,c.frequency,d,-d),this._nativeOscillatorNode=c,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){ha(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),Ta(this)&&pa(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(Cc,Hc,Su,((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){l=t},render(c,u,h){const d=i.get(u);return void 0!==d?Promise.resolve(d):(async(c,u,h)=>{let d=n(c);const p=ga(d,u);return p||(d=e(u,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:null===o?void 0:o,type:d.type}),null!==a&&d.start(a),null!==l&&d.stop(l)),i.set(u,d),p?(await t(u,c.detune,d.detune,h),await t(u,c.frequency,d.frequency,h)):(await s(u,c.detune,d.detune,h),await s(u,c.frequency,d.frequency,h)),await r(c,u,d,h),d})(c,u,h)}}})(jc,Su,qa,zc,oc),hc,fc,Bl),Ou=(Iu=Lc,(t,e)=>{const n=Iu(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=t.createBuffer(1,2,44100);return n.buffer=s,n.loop=!0,n.connect(e),n.start(),()=>{n.stop(),n.disconnect(e)}});var Iu;const Mu=((t,e,n,s,r)=>(i,{curve:o,oversample:a,...l})=>{const c=i.createWaveShaper(),u=i.createWaveShaper();gl(c,l),gl(u,l);const h=n(i,{...l,gain:1}),d=n(i,{...l,gain:-1}),p=n(i,{...l,gain:1}),f=n(i,{...l,gain:-1});let m=null,g=!1,_=null;const v={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,c.channelCount=t,p.channelCount=t,u.channelCount=t,f.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,c.channelCountMode=t,p.channelCountMode=t,u.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,c.channelInterpretation=t,p.channelInterpretation=t,u.channelInterpretation=t,f.channelInterpretation=t},get context(){return c.context},get curve(){return _},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)c.curve=n,u.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),s=new Float32Array(t+2-t%2);e[0]=n[0],s[0]=-n[t-1];const r=Math.ceil((t+1)/2),i=(t+1)/2-1;for(let o=1;o<r;o+=1){const a=o/r*i,l=Math.floor(a),c=Math.ceil(a);e[o]=l===c?n[l]:(1-(a-l))*n[l]+(1-(c-a))*n[c],s[o]=l===c?-n[t-1-l]:-(1-(a-l))*n[t-1-l]-(1-(c-a))*n[t-1-c]}e[r]=t%2==1?n[r-1]:(n[r-2]+n[r-1])/2,c.curve=e,u.curve=s}_=n,g&&(s(_)&&null===m?m=t(i,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(t){c.oversample=t,u.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==o&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a),r(Cl(v,p),()=>{h.connect(c).connect(p),h.connect(d).connect(u).connect(f).connect(p),g=!0,s(_)&&(m=t(i,h))},()=>{h.disconnect(c),c.disconnect(p),h.disconnect(d),d.disconnect(u),u.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)})})(Ou,cl,El,Fl,ru),Du=((t,e,n,s,r,i,o)=>(a,l)=>{const c=a.createWaveShaper();if(null!==i&&"webkitAudioContext"===i.name&&void 0===a.createGain().gain.automationRate)return n(a,l);gl(c,l);const u=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==u&&u.length<2)throw e();ml(c,{curve:u},"curve"),ml(c,l,"oversample");let h=null,d=!1;return o(c,"curve",t=>()=>t.call(c),e=>n=>(e.call(c,n),d&&(s(n)&&null===h?h=t(a,c):s(n)||null===h||(h(),h=null)),n)),r(c,()=>{d=!0,s(c.curve)&&(h=t(a,c))},()=>{d=!1,null!==h&&(h(),h=null)})})(Ou,cl,Mu,Fl,ru,yc,jl),Nu=((t,e,n,s,r,i,o,a,l)=>(c,{coneInnerAngle:u,coneOuterAngle:h,coneOuterGain:d,distanceModel:p,maxDistance:f,orientationX:m,orientationY:g,orientationZ:_,panningModel:v,positionX:y,positionY:w,positionZ:b,refDistance:x,rolloffFactor:T,...C})=>{const k=c.createPanner();if(C.channelCount>2)throw o();if("max"===C.channelCountMode)throw o();gl(k,C);const E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},S=n(c,{...E,channelInterpretation:"speakers",numberOfInputs:6}),A=s(c,{...C,gain:1}),O=s(c,{...E,gain:1}),I=s(c,{...E,gain:0}),M=s(c,{...E,gain:0}),D=s(c,{...E,gain:0}),N=s(c,{...E,gain:0}),R=s(c,{...E,gain:0}),P=r(c,256,6,1),V=i(c,{...E,curve:new Float32Array([1,1]),oversample:"none"});let F=[m,g,_],j=[y,w,b];P.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0]];e.some((t,e)=>t!==F[e])&&(k.setOrientation(...e),F=e);const n=[t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];n.some((t,e)=>t!==j[e])&&(k.setPosition(...n),j=n)},Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0});const L={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(t){if(t>2)throw o();A.channelCount=t,k.channelCount=t},get channelCountMode(){return k.channelCountMode},set channelCountMode(t){if("max"===t)throw o();A.channelCountMode=t,k.channelCountMode=t},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(t){A.channelInterpretation=t,k.channelInterpretation=t},get coneInnerAngle(){return k.coneInnerAngle},set coneInnerAngle(t){k.coneInnerAngle=t},get coneOuterAngle(){return k.coneOuterAngle},set coneOuterAngle(t){k.coneOuterAngle=t},get coneOuterGain(){return k.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();k.coneOuterGain=t},get context(){return k.context},get distanceModel(){return k.distanceModel},set distanceModel(t){k.distanceModel=t},get inputs(){return[A]},get maxDistance(){return k.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;k.maxDistance=t},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get orientationX(){return O.gain},get orientationY(){return I.gain},get orientationZ(){return M.gain},get panningModel(){return k.panningModel},set panningModel(t){k.panningModel=t},get positionX(){return D.gain},get positionY(){return N.gain},get positionZ(){return R.gain},get refDistance(){return k.refDistance},set refDistance(t){if(t<0)throw new RangeError;k.refDistance=t},get rolloffFactor(){return k.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;k.rolloffFactor=t},addEventListener:(...t)=>A.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>A.dispatchEvent(t[0]),removeEventListener:(...t)=>A.removeEventListener(t[0],t[1],t[2])};return u!==L.coneInnerAngle&&(L.coneInnerAngle=u),h!==L.coneOuterAngle&&(L.coneOuterAngle=h),d!==L.coneOuterGain&&(L.coneOuterGain=d),p!==L.distanceModel&&(L.distanceModel=p),f!==L.maxDistance&&(L.maxDistance=f),m!==L.orientationX.value&&(L.orientationX.value=m),g!==L.orientationY.value&&(L.orientationY.value=g),_!==L.orientationZ.value&&(L.orientationZ.value=_),v!==L.panningModel&&(L.panningModel=v),y!==L.positionX.value&&(L.positionX.value=y),w!==L.positionY.value&&(L.positionY.value=w),b!==L.positionZ.value&&(L.positionZ.value=b),x!==L.refDistance&&(L.refDistance=x),T!==L.rolloffFactor&&(L.rolloffFactor=T),1===F[0]&&0===F[1]&&0===F[2]||k.setOrientation(...F),0===j[0]&&0===j[1]&&0===j[2]||k.setPosition(...j),l(Cl(L,k),()=>{A.connect(k),t(A,V,0,0),V.connect(O).connect(S,0,0),V.connect(I).connect(S,0,1),V.connect(M).connect(S,0,2),V.connect(D).connect(S,0,3),V.connect(N).connect(S,0,4),V.connect(R).connect(S,0,5),S.connect(P).connect(c.destination)},()=>{A.disconnect(k),a(A,V,0,0),V.disconnect(O),O.disconnect(S),V.disconnect(I),I.disconnect(S),V.disconnect(M),M.disconnect(S),V.disconnect(D),D.disconnect(S),V.disconnect(N),N.disconnect(S),V.disconnect(R),R.disconnect(S),S.disconnect(P),P.disconnect(c.destination)})})(Pa,cl,au,El,Ol,Du,Il,La,ru),Ru=(Pu=Nu,(t,e)=>{const n=t.createPanner();return void 0===n.orientationX?Pu(t,e):(gl(n,e),vl(n,e,"orientationX"),vl(n,e,"orientationY"),vl(n,e,"orientationZ"),vl(n,e,"positionX"),vl(n,e,"positionY"),vl(n,e,"positionZ"),ml(n,e,"coneInnerAngle"),ml(n,e,"coneOuterAngle"),ml(n,e,"coneOuterGain"),ml(n,e,"distanceModel"),ml(n,e,"maxDistance"),ml(n,e,"panningModel"),ml(n,e,"refDistance"),ml(n,e,"rolloffFactor"),n)});var Pu;const Vu=((t,e,n,s,r,i,o)=>class extends t{constructor(t,a){const l=r(t),c={...Nl,...a},u=n(l,c),h=i(l);super(t,!1,u,h?s():null),this._nativePannerNode=u,this._orientationX=e(this,h,u.orientationX,xa,ba),this._orientationY=e(this,h,u.orientationY,xa,ba),this._orientationZ=e(this,h,u.orientationZ,xa,ba),this._positionX=e(this,h,u.positionX,xa,ba),this._positionY=e(this,h,u.positionY,xa,ba),this._positionZ=e(this,h,u.positionZ,xa,ba),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(Cc,Hc,Ru,((t,e,n,s,r,i,o,a,l,c)=>()=>{const u=new WeakMap;let h=null;return{render(d,p,f){const m=u.get(p);return void 0!==m?Promise.resolve(m):(async(d,p,f)=>{let m=null,g=i(d);const _={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},v={..._,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},y=ga(g,p);if("bufferSize"in g)m=s(p,{..._,gain:1});else if(!y){const t={...v,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=r(p,t)}if(u.set(p,null===m?g:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,p.sampleRate),s=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});s.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map(async(e,s)=>{const r=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===s?1:0});return await a(t,e,r.offset,f),r}));for(let t=0;t<6;t+=1)e[t].connect(s,0,t),e[t].start(0);return c(t)})()}const t=await h,i=s(p,{..._,gain:1});await l(d,p,i,f);const u=[];for(let e=0;e<t.numberOfChannels;e+=1)u.push(t.getChannelData(e));let g=[u[0][0],u[1][0],u[2][0]],y=[u[3][0],u[4][0],u[5][0]],w=s(p,{..._,gain:1}),b=r(p,{...v,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]});i.connect(w).connect(b.inputs[0]),b.connect(m);for(let e=128;e<t.length;e+=128){const t=[u[0][e],u[1][e],u[2][e]],n=[u[3][e],u[4][e],u[5][e]];if(t.some((t,e)=>t!==g[e])||n.some((t,e)=>t!==y[e])){g=t,y=n;const o=e/p.sampleRate;w.gain.setValueAtTime(0,o),w=s(p,{..._,gain:0}),b=r(p,{...v,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),w.gain.setValueAtTime(1,o),i.connect(w).connect(b.inputs[0]),b.connect(m)}}return m}return y?(await t(p,d.orientationX,g.orientationX,f),await t(p,d.orientationY,g.orientationY,f),await t(p,d.orientationZ,g.orientationZ,f),await t(p,d.positionX,g.positionX,f),await t(p,d.positionY,g.positionY,f),await t(p,d.positionZ,g.positionZ,f)):(await a(p,d.orientationX,g.orientationX,f),await a(p,d.orientationY,g.orientationY,f),await a(p,d.orientationZ,g.orientationZ,f),await a(p,d.positionX,g.positionX,f),await a(p,d.positionY,g.positionY,f),await a(p,d.positionZ,g.positionZ,f)),Ra(g)?await l(d,p,g.inputs[0],f):await l(d,p,g,f),g})(d,p,f)}}})(jc,au,uu,El,Ru,qa,pc,zc,oc,wu),hc,fc,Gc),Fu=((t,e,n,s)=>class s{constructor(s,r){const i=e(s),o=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}})({...Rl,...r}),a=t(i,o);return n.add(a),a}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===s.prototype||n.has(t)}})((t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a})(va),hc,new WeakSet),ju=((t,e)=>(n,s)=>{const r=s.channelCountMode;if("clamped-max"===r)throw e();if(void 0===n.createStereoPanner)return t(n,s);const i=n.createStereoPanner();return gl(i,s),vl(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:t=>{if(t!==r)throw e()}}),i})(((t,e,n,s,r,i)=>{const o=new Float32Array([1,1]),a=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...l,oversample:"none"},u=(t,i,u,h,d)=>{if(1===i)return((t,e,r,i)=>{const u=new Float32Array(16385),h=new Float32Array(16385);for(let n=0;n<16385;n+=1){const t=n/16384*a;u[n]=Math.cos(t),h[n]=Math.sin(t)}const d=n(t,{...l,gain:0}),p=s(t,{...c,curve:u}),f=s(t,{...c,curve:o}),m=n(t,{...l,gain:0}),g=s(t,{...c,curve:h});return{connectGraph(){e.connect(d),e.connect(void 0===f.inputs?f:f.inputs[0]),e.connect(m),f.connect(r),r.connect(void 0===p.inputs?p:p.inputs[0]),r.connect(void 0===g.inputs?g:g.inputs[0]),p.connect(d.gain),g.connect(m.gain),d.connect(i,0,0),m.connect(i,0,1)},disconnectGraph(){e.disconnect(d),e.disconnect(void 0===f.inputs?f:f.inputs[0]),e.disconnect(m),f.disconnect(r),r.disconnect(void 0===p.inputs?p:p.inputs[0]),r.disconnect(void 0===g.inputs?g:g.inputs[0]),p.disconnect(d.gain),g.disconnect(m.gain),d.disconnect(i,0,0),m.disconnect(i,0,1)}}})(t,u,h,d);if(2===i)return((t,r,i,u)=>{const h=new Float32Array(16385),d=new Float32Array(16385),p=new Float32Array(16385),f=new Float32Array(16385),m=Math.floor(8192.5);for(let e=0;e<16385;e+=1)if(e>m){const t=(e-m)/(16384-m)*a;h[e]=Math.cos(t),d[e]=Math.sin(t),p[e]=0,f[e]=1}else{const t=e/(16384-m)*a;h[e]=1,d[e]=0,p[e]=Math.cos(t),f[e]=Math.sin(t)}const g=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),_=n(t,{...l,gain:0}),v=s(t,{...c,curve:h}),y=n(t,{...l,gain:0}),w=s(t,{...c,curve:d}),b=s(t,{...c,curve:o}),x=n(t,{...l,gain:0}),T=s(t,{...c,curve:p}),C=n(t,{...l,gain:0}),k=s(t,{...c,curve:f});return{connectGraph(){r.connect(g),r.connect(void 0===b.inputs?b:b.inputs[0]),g.connect(_,0),g.connect(y,0),g.connect(x,1),g.connect(C,1),b.connect(i),i.connect(void 0===v.inputs?v:v.inputs[0]),i.connect(void 0===w.inputs?w:w.inputs[0]),i.connect(void 0===T.inputs?T:T.inputs[0]),i.connect(void 0===k.inputs?k:k.inputs[0]),v.connect(_.gain),w.connect(y.gain),T.connect(x.gain),k.connect(C.gain),_.connect(u,0,0),x.connect(u,0,0),y.connect(u,0,1),C.connect(u,0,1)},disconnectGraph(){r.disconnect(g),r.disconnect(void 0===b.inputs?b:b.inputs[0]),g.disconnect(_,0),g.disconnect(y,0),g.disconnect(x,1),g.disconnect(C,1),b.disconnect(i),i.disconnect(void 0===v.inputs?v:v.inputs[0]),i.disconnect(void 0===w.inputs?w:w.inputs[0]),i.disconnect(void 0===T.inputs?T:T.inputs[0]),i.disconnect(void 0===k.inputs?k:k.inputs[0]),v.disconnect(_.gain),w.disconnect(y.gain),T.disconnect(x.gain),k.disconnect(C.gain),_.disconnect(u,0,0),x.disconnect(u,0,0),y.disconnect(u,0,1),C.disconnect(u,0,1)}}})(t,u,h,d);throw r()};return(e,{channelCount:s,channelCountMode:o,pan:a,...l})=>{if("max"===o)throw r();const c=t(e,{...l,channelCount:1,channelCountMode:o,numberOfInputs:2}),h=n(e,{...l,channelCount:s,channelCountMode:o,gain:1}),d=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:p,disconnectGraph:f}=u(e,s,h,d,c);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(t){h.channelCount!==t&&(g&&f(),({connectGraph:p,disconnectGraph:f}=u(e,t,h,d,c)),g&&p()),h.channelCount=t},get channelCountMode(){return h.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw r();h.channelCountMode=t},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t},get context(){return h.context},get inputs(){return[h]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get pan(){return d.gain},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};let g=!1;return i(Cl(m,c),()=>{p(),g=!0},()=>{f(),g=!1})}})(au,Tl,El,Du,Il,ru),Il),Lu=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=r(t),l={...Pl,...o},c=n(a,l),u=i(a);super(t,!1,c,u?s():null),this._pan=e(this,u,c.pan)}get pan(){return this._pan}})(Cc,Hc,ju,((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a,l){const c=i.get(a);return void 0!==c?Promise.resolve(c):(async(o,a,l)=>{let c=n(o);const u=ga(c,a);return u||(c=e(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value})),i.set(a,c),u?await t(a,o.pan,c.pan,l):await s(a,o.pan,c.pan,l),Ra(c)?await r(o,a,c.inputs[0],l):await r(o,a,c,l),c})(o,a,l)}}})(jc,ju,qa,zc,oc),hc,fc),qu=((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i,o){const a=s.get(i);return void 0!==a?Promise.resolve(a):(async(r,i,o)=>{let a=e(r);return ga(a,i)||(a=t(i,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample})),s.set(i,a),Ra(a)?await n(r,i,a.inputs[0],o):await n(r,i,a,o),a})(r,i,o)}}})(Du,qa,oc),zu=((t,e,n,s,r,i,o)=>class extends t{constructor(t,e){const a=r(t),l={...Vl,...e},c=n(a,l);super(t,!0,c,i(a)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=c,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(Cc,cl,Du,qu,hc,fc,Gc),Zu=(t=>null!==t&&t.isSecureContext)(tc),Hu=(t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return s()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(tc),Bu=new WeakMap,Uu=((t,e)=>n=>{let s=t.get(n);if(void 0!==s)return s;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,8e3),t.set(n,s),s})(Bu,pc),Wu=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(tc),$u=Zu?((t,e,n,s,r,i,o,a,l,c,u,h)=>(d,p,f={credentials:"omit"})=>{const m=i(d);if(void 0!==m.audioWorklet)return Promise.all([r(p),Promise.resolve(t(u,u))]).then(([[t,e],n])=>{const[s,r]=ra(t,e),i=n?r:r.replace(/\s+extends\s+AudioWorkletProcessor\s*{/," extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}){"),l=new Blob([`${s};(registerProcessor=>{${i}\n})((n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:"application/javascript; charset=utf-8"}),c=URL.createObjectURL(l);return m.audioWorklet.addModule(c,f).then(()=>{if(!a(m))return o(m).audioWorklet.addModule(c,f)}).finally(()=>URL.revokeObjectURL(c))});const g=c.get(d);if(void 0!==g&&g.has(p))return Promise.resolve();const _=l.get(d);if(void 0!==_){const t=_.get(p);if(void 0!==t)return t}const v=r(p).then(([t,e])=>{const[s,r]=ra(t,e);return n(`${s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${r}\n})})(window,'_AWGS')`)}).then(()=>{const t=h._AWGS.pop();if(void 0===t)throw new SyntaxError;s(m.currentTime,m.sampleRate,()=>t(class{},void 0,(t,n)=>{if(""===t.trim())throw e();const s=ta.get(m);if(void 0!==s){if(s.has(t))throw e();oa(n),ia(n.parameterDescriptors),s.set(t,n)}else oa(n),ia(n.parameterDescriptors),ta.set(m,new Map([[t,n]]))},m.sampleRate,void 0,void 0))});return void 0===_?l.set(d,new Map([[p,v]])):_.set(p,v),v.then(()=>{const t=c.get(d);void 0===t?c.set(d,new Set([p])):t.add(p)}).finally(()=>{const t=l.get(d);void 0!==t&&t.delete(p)}),v})(Xl,Il,(t=>e=>new Promise((n,s)=>{if(null===t)return void s(new SyntaxError);const r=t.document.head;if(null===r)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(e,n,r,i,o)=>n===a||n===t.location.href&&1===r&&1===i?(c(),s(o),!1):null!==l?l(e,n,r,i,o):void 0,i.onerror=()=>{c(),s(new SyntaxError)},i.onload=()=>{c(),n()},i.src=a,i.type="module",r.appendChild(i)}}))(tc),Hu,async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")},hc,Uu,fc,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,8e3),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const e=new t(s,"a",{numberOfOutputs:0}),n=s.createOscillator();e.port.onmessage=()=>i=!0,e.onprocessorerror=()=>o=!0,n.connect(e),await s.startRendering()}catch{}finally{URL.revokeObjectURL(r)}return i&&!o})(Wu,pc),tc):void 0,Gu=((t,e)=>n=>t(n)||e(n))(wc,fc),Yu=((t,e,n,s,r,i,o,a,l,c,u)=>(n,s)=>{const h=o(n)?n:i(n);if(r.has(s)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{r.add(s)}catch{}return e(l,()=>l(h))?h.decodeAudioData(s).then(n=>(e(a,()=>a(n))||u(n),t.add(n),n)):new Promise((e,n)=>{const r=()=>{try{(t=>{const{port1:e}=new MessageChannel;e.postMessage(t,[t])})(s)}catch{}},i=t=>{n(t),r()};try{h.decodeAudioData(s,n=>{"function"!=typeof n.copyFromChannel&&(c(n),ya(n)),t.add(n),r(),e(n)},t=>{i(null===t?new DOMException("","EncodingError"):t)})}catch(o){i(o)}})})(Sc,Xl,0,0,new WeakSet,hc,Gu,_a,fl,Mc,Dc),Qu=((t,e,n,s,r,i,o,a,l,c,u,h,d,p,f,m,g,_,v,y)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(t,e,s){return new n({length:e,numberOfChannels:t,sampleRate:s})}createBufferSource(){return new s(this)}createChannelMerger(t=6){return new i(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(t=1){return new u(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new p(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new _(this,{...n,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return c(this._nativeContext,t).then(t=>("function"==typeof e&&e(t),t)).catch(t=>{throw"function"==typeof n&&n(t),t})}})($u,Ec,Nc,Uc,Yc,lu,cu,hu,pu,Yu,fu,_u,vu,Tu,Eu,Au,Vu,Fu,Lu,zu),Xu=((t,e,n,s)=>class extends t{constructor(t,e){const r=n(t),i=((t,e)=>t.createMediaElementSource(e.mediaElement))(r,e);if(s(r))throw TypeError();super(t,!0,i,null),this._nativeMediaElementAudioSourceNode=i}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Cc,0,hc,fc),Ju=((t,e,n,s)=>class extends t{constructor(t,e){const r=n(t);if(s(r))throw new TypeError;const i=((t,e)=>{const n=t.createMediaStreamDestination();return gl(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(r,{...pl,...e});super(t,!1,i,null),this._nativeMediaStreamAudioDestinationNode=i}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Cc,0,hc,fc),Ku=((t,e,n,s)=>class extends t{constructor(t,e){const r=n(t),i=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((t,e)=>t.id<e.id?-1:t.id>e.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r})(r,e);if(s(r))throw new TypeError;super(t,!0,i,null),this._nativeMediaStreamAudioSourceNode=i}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Cc,0,hc,fc),th=((t,e,n)=>class extends t{constructor(t,s){const r=n(t);super(t,!0,e(r,s),null)}})(Cc,((t,e)=>(n,{mediaStreamTrack:s})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if("audio"!==s.kind)throw t();if(e(n))throw new TypeError;return i})(cl,fc),hc),eh=((t,e,n,s,r,i,o,a,l)=>class extends t{constructor(t={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");const e=new l(t);if(null===e)throw s();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:r}=t,{sampleRate:i}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===r?512/i:"interactive"===r||void 0===r?256/i:"playback"===r?1024/i:128*Math.max(2,Math.min(128,Math.round(r*i/128)))/i,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Aa(this)}))}createMediaElementSource(t){return new r(this,{mediaElement:t})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)}):this._nativeAudioContext.resume().catch(t=>{if(void 0===t||15===t.code)throw e();throw t})}suspend(){return this._nativeAudioContext.suspend().catch(t=>{if(void 0===t)throw e();throw t})}})(Qu,cl,Il,()=>new DOMException("","UnknownError"),Xu,Ju,Ku,th,yc),nh=(sh=ku,t=>{const e=sh.get(t);if(void 0===e)throw new Error("The context has no set of AudioWorkletNodes.");return e});var sh;const rh=(ih=nh,(t,e)=>{ih(t).add(e)});var ih;const oh=(t=>(e,n,s=0,r=0)=>{const i=e[s];if(void 0===i)throw t();return Wa(n)?i.connect(n,0,r):i.connect(n,0)})(va),ah=(t=>(e,n)=>{t(e).delete(n)})(nh),lh=(t=>(e,n,s,r=0)=>void 0===n?e.forEach(t=>t.disconnect()):"number"==typeof n?ol(t,e,n).disconnect():Wa(n)?void 0===s?e.forEach(t=>t.disconnect(n)):void 0===r?ol(t,e,s).disconnect(n,0):ol(t,e,s).disconnect(n,0,r):void 0===s?e.forEach(t=>t.disconnect(n)):ol(t,e,s).disconnect(n,0))(va),ch=new WeakMap,uh=((t,e)=>n=>e(t,n))(ch,aa),hh=((t,e,n,s,r,i,o,a,l,c,u,h,d)=>(p,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw l();const _=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(_.some(t=>t<1))throw l();if(_.length!==g.numberOfOutputs)throw e();if("explicit"!==g.channelCountMode)throw l();const v=g.channelCount*g.numberOfInputs,y=_.reduce((t,e)=>t+e,0),w=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(v+w>6||y>6)throw l();const b=new MessageChannel,x=[],T=[];for(let t=0;t<g.numberOfInputs;t+=1)x.push(o(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),T.push(r(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const C=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:s}of m.parameterDescriptors){const r=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[s]?g.parameterData[s]:void 0===t?0:t});Object.defineProperties(r.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?xa:e},minValue:{get:()=>void 0===n?ba:n}}),C.push(r)}const k=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+w)}),E=bl(f,p.sampleRate),S=a(p,E,v+w,Math.max(1,y)),A=r(p,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),O=[];for(let t=0;t<g.numberOfOutputs;t+=1)O.push(s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:_[t]}));for(let t=0;t<g.numberOfInputs;t+=1){x[t].connect(T[t]);for(let e=0;e<g.channelCount;e+=1)T[t].connect(k,e,t*g.channelCount+e)}const I=new Ya(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(({name:t},e)=>{const n=C[e];return n.connect(k,0,v+e),n.start(0),[t,n.offset]}));k.connect(S);let M=g.channelInterpretation,D=null;const N=0===g.numberOfOutputs?[S]:O,R={get bufferSize(){return E},get channelCount(){return g.channelCount},set channelCount(t){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return M},set channelInterpretation(t){for(const e of x)e.channelInterpretation=t;M=t},get context(){return S.context},get inputs(){return x},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return D},set onprocessorerror(t){"function"==typeof D&&R.removeEventListener("processorerror",D),D="function"==typeof t?t:null,"function"==typeof D&&R.addEventListener("processorerror",D)},get parameters(){return I},get port(){return b.port2},addEventListener:(...t)=>S.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,N),disconnect:c.bind(null,N),dispatchEvent:(...t)=>S.dispatchEvent(t[0]),removeEventListener:(...t)=>S.removeEventListener(t[0],t[1],t[2])},P=new Map;var V,F;b.port1.addEventListener=(V=b.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=P.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{u(p.currentTime,p.sampleRate,()=>e(t))},P.set(e,t[1]))}}return V.call(b.port1,t[0],t[1],t[2])}),b.port1.removeEventListener=(F=b.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=P.get(t[1]);void 0!==e&&(P.delete(t[1]),t[1]=e)}return F.call(b.port1,t[0],t[1],t[2])});let j=null;Object.defineProperty(b.port1,"onmessage",{get:()=>j,set:t=>{"function"==typeof j&&b.port1.removeEventListener("message",j),j="function"==typeof t?t:null,"function"==typeof j&&(b.port1.addEventListener("message",j),b.port1.start())}}),m.prototype.port=b.port1;let L=null;((t,e,n,s)=>{let r=ea.get(t);void 0===r&&(r=new WeakMap,ea.set(t,r));const i=(async(t,e)=>new t(await(t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:t})=>{s.close(),r.close(),e(t)},s.onmessageerror=({data:t})=>{s.close(),r.close(),n(t)},r.postMessage(t)}))(e)))(n,s);return r.set(e,i),i})(p,R,m,g).then(t=>L=t);const q=Ka(g.numberOfInputs,g.channelCount),z=Ka(g.numberOfOutputs,_),Z=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce((t,{name:e})=>({...t,[e]:new Float32Array(128)}),{});let H=!0;const B=()=>{g.numberOfOutputs>0&&S.disconnect(A);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=O[t];for(let s=0;s<_[t];s+=1)A.disconnect(n,e+s,s);e+=_[t]}},U=new Map;S.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==L){const s=h(R);for(let r=0;r<E;r+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let n=0;n<g.channelCount;n+=1)Xa(t,q[e],n,n,r);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(({name:e},n)=>{Xa(t,Z,e,v+n,r)});for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<_[t];e+=1)0===z[t][e].byteLength&&(z[t][e]=new Float32Array(128));try{const t=q.map((t,e)=>{if(s[e].size>0)return U.set(e,E/128),t;const n=U.get(e);return void 0===n?[]:(t.every(t=>t.every(t=>0===t))&&(1===n?U.delete(e):U.set(e,n-1)),t)}),n=u(p.currentTime+r/p.sampleRate,p.sampleRate,()=>L.process(t,z,Z));H=n;for(let s=0,i=0;s<g.numberOfOutputs;s+=1){for(let t=0;t<_[s];t+=1)Ja(e,z[s],t,i+t,r);i+=_[s]}}catch(n){H=!1,R.dispatchEvent(new ErrorEvent("processorerror",{colno:n.colno,filename:n.filename,lineno:n.lineno,message:n.message}))}if(!H){for(let t=0;t<g.numberOfInputs;t+=1){x[t].disconnect(T[t]);for(let e=0;e<g.channelCount;e+=1)T[r].disconnect(k,e,t*g.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=C[e];t.disconnect(k,0,v+e),t.stop()}}k.disconnect(S),S.onaudioprocess=null,W?B():Y();break}}}};let W=!1;const $=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),G=()=>S.connect($).connect(p.destination),Y=()=>{S.disconnect($),$.disconnect()};return G(),d(R,()=>{if(H){Y(),g.numberOfOutputs>0&&S.connect(A);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=O[t];for(let s=0;s<_[t];s+=1)A.connect(n,e+s,s);e+=_[t]}}W=!0},()=>{H&&(G(),B()),W=!1})})(oh,va,cl,au,Tl,uu,El,Ol,Il,lh,Hu,uh,ru),dh=((t,e,n,s,r)=>(i,o,a,l,c,u)=>{if(null!==a)try{const e=new a(i,l,u),s=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"==typeof o&&e.removeEventListener("processorerror",o),o="function"==typeof t?t:null,"function"==typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(d=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=s.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},s.set(e,t[1]))}}return d.call(e,"error",t[1],t[2]),d.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=s.get(t[1]);void 0!==e&&(s.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==u.numberOfOutputs){const t=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return e.connect(t).connect(i.destination),r(e,()=>t.disconnect(),()=>t.connect(i.destination))}return e}catch(p){if(11===p.code)throw s();throw p}var h,d;if(void 0===c)throw s();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(u),e(i,o,c,u)})(cl,hh,El,Il,ru),ph=((t,e,n,s,r,i,o,a,l,c,u,h,d,p,f,m)=>(g,_,v)=>{const y=new WeakMap;let w=null;return{render(b,x,T){a(x,b);const C=y.get(x);return void 0!==C?Promise.resolve(C):(async(a,b,x)=>{let T=u(a),C=null;const k=ga(T,b),E=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(null===h){const t=E.reduce((t,e)=>t+e,0),n=r(b,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),i=[];for(let e=0;e<a.numberOfOutputs;e+=1)i.push(s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[e]}));const c=o(b,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});c.connect=e.bind(null,i),c.disconnect=l.bind(null,i),C=[n,i,c]}else k||(T=new h(b,g));if(y.set(b,null===C?T:C[2]),null!==C){if(null===w){if(void 0===v)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,n=t+e,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),b.sampleRate),c=[],u=[];for(let t=0;t<_.numberOfInputs;t+=1)c.push(o(l,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),u.push(r(l,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map(async t=>{const e=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await p(l,t,e.offset,x),e})),g=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<_.numberOfInputs;t+=1){c[t].connect(u[t]);for(let e=0;e<_.channelCount;e+=1)u[t].connect(g,e,t*_.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(l.destination),await Promise.all(c.map(t=>f(a,l,t,x))),m(l)};w=(async(t,e,n,s,r,i,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,l=s.channelCount*s.numberOfInputs,c=r.reduce((t,e)=>t+e,0),u=0===c?null:n.createBuffer(c,a,n.sampleRate);if(void 0===i)throw new Error("Missing the processor constructor.");const h=ka(t),d=await((t,e)=>{const n=aa(ea,t),s=qa(e);return aa(n,s)})(n,t),p=Ka(s.numberOfInputs,s.channelCount),f=Ka(s.numberOfOutputs,r),m=Array.from(t.parameters.keys()).reduce((t,e)=>({...t,[e]:new Float32Array(128)}),{});for(let _=0;_<a;_+=128){if(s.numberOfInputs>0&&null!==e)for(let t=0;t<s.numberOfInputs;t+=1)for(let n=0;n<s.channelCount;n+=1)Xa(e,p[t],n,n,_);void 0!==i.parameterDescriptors&&null!==e&&i.parameterDescriptors.forEach(({name:t},n)=>{Xa(e,m,t,l+n,_)});for(let t=0;t<s.numberOfInputs;t+=1)for(let e=0;e<r[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=p.map((t,e)=>0===h.activeInputs[e].size?[]:t),e=o(_/n.sampleRate,n.sampleRate,()=>d.process(t,f,m));if(null!==u)for(let n=0,i=0;n<s.numberOfOutputs;n+=1){for(let t=0;t<r[n];t+=1)Ja(u,f[n],t,i+t,_);i+=r[n]}if(!e)break}catch(g){t.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return u})(a,0===n?null:await l(),b,_,E,v,c)}const t=await w,e=n(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,u,h]=C;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let n=0,s=0;n<a.numberOfOutputs;n+=1){const t=u[n];for(let e=0;e<E[n];e+=1)l.connect(t,s+e,e);s+=E[n]}return h}if(k)for(const[e,n]of a.parameters.entries())await t(b,n,T.parameters.get(e),x);else for(const[t,e]of a.parameters.entries())await p(b,e,T.parameters.get(t),x);return await f(a,b,T,x),T})(b,x,T)}}})(jc,oh,Lc,au,Tl,uu,El,ah,lh,Hu,qa,Wu,pc,zc,oc,wu),fh=(t=>e=>t.get(e))(Bu),mh=(t=>(e,n)=>{t.set(e,n)})(ch),gh=Zu?((t,e,n,s,r,i,o,a,l,c,u,h,d)=>class extends e{constructor(e,u,d){var p;const f=a(e),m=l(f),g=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}))({...Qa,...d}),_=ta.get(f),v=null==_?void 0:_.get(u),y=m||"closed"!==f.state?f:null!==(p=o(f))&&void 0!==p?p:f,w=r(y,m?null:e.baseLatency,c,u,v,g);super(e,!0,w,m?s(u,g,v):null);const b=[];w.parameters.forEach((t,e)=>{const s=n(this,m,t);b.push([e,s])}),this._nativeAudioWorkletNode=w,this._onprocessorerror=null,this._parameters=new Ya(b),m&&t(f,this);const{activeInputs:x}=i(this);h(w,x)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?d(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(rh,Cc,Hc,ph,dh,ka,fh,hc,fc,Wu,0,mh,Bl):void 0,_h=((t,e)=>(n,s,r)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){if("SyntaxError"===i.name)throw t();throw i}})(Il,pc),vh=((t,e,n,s,r,i,o,a)=>{const l=[];return(c,u)=>n(c).render(c,u,l).then(()=>Promise.all(Array.from(s(u)).map(t=>n(t).render(t,u,l)))).then(()=>r(u)).then(n=>("function"!=typeof n.copyFromChannel?(o(n),ya(n)):e(i,()=>i(n))||a(n),t.add(n),n))})(Sc,Xl,rc,nh,wu,_a,Mc,Dc),yh=((t,e,n,s,r)=>class extends t{constructor(t,n,r){let i;if("number"==typeof t&&void 0!==n&&void 0!==r)i={length:n,numberOfChannels:t,sampleRate:r};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");i=t}const{length:o,numberOfChannels:a,sampleRate:l}={...Ml,...i},c=s(a,o,l);e(fl,()=>fl(c))||c.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(c.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(c,a),this._length=o,this._nativeOfflineAudioContext=c,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Aa(this)}))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout(()=>this._waitForThePromiseToSettle(t))}})(Qu,Xl,cl,_h,vh),wh=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(Xo,wc),bh=(xh=Go,Th=xc,t=>xh.has(t)||Th(t));var xh,Th;const Ch=(kh=Qo,Eh=Tc,t=>kh.has(t)||Eh(t));var kh,Eh;const Sh=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(Xo,fc);function Ah(t,e){if(!t)throw new Error(e)}function Oh(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Ih(t){t.isOffline||"running"===t.state||Dh('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Mh=console;function Dh(...t){Mh.warn(...t)}function Nh(t){return void 0===t}function Rh(t){return!Nh(t)}function Ph(t){return"number"==typeof t}function Vh(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Fh(t){return Array.isArray(t)}function jh(t){return"string"==typeof t}function Lh(t){return jh(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const qh="object"==typeof self?self:null,zh=qh&&(qh.hasOwnProperty("AudioContext")||qh.hasOwnProperty("webkitAudioContext"));function Zh(t,e,n,s){var r,i=arguments.length,o=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(i<3?r(o):i>3?r(e,n,o):r(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function Hh(t,e,n,s){return new(n||(n=Promise))(function(r,i){function o(t){try{l(s.next(t))}catch(e){i(e)}}function a(t){try{l(s.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}l((s=s.apply(t,e||[])).next())})}class Bh{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Uh(t){return Ch(t)}function Wh(t){return bh(t)}function $h(t){return Sh(t)}function Gh(t){return wh(t)}function Yh(t){return t instanceof Nc}function Qh(t,e){return"value"===t||Uh(e)||Wh(e)||Yh(e)}function Xh(t,...e){if(!e.length)return t;const n=e.shift();if(Vh(t)&&Vh(n))for(const s in n)Qh(s,n[s])?t[s]=n[s]:Vh(n[s])?(t[s]||Object.assign(t,{[s]:{}}),Xh(t[s],n[s])):Object.assign(t,{[s]:n[s]});return Xh(t,...e)}function Jh(t,e,n=[],s){const r={},i=Array.from(e);if(Vh(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(e=>Reflect.has(t,e))||(Xh(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),1===i.length&&Vh(i[0]))Xh(r,i[0]);else for(let o=0;o<n.length;o++)Rh(i[o])&&(r[n[o]]=i[o]);return Xh(t,r)}function Kh(t,e){return Nh(t)?e:t}function td(t,e){return e.forEach(e=>{Reflect.has(t,e)&&delete t[e]}),t}class ed{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||qh&&this.toString()===qh.TONE_DEBUG_CLASS)&&function(...t){Mh.log(...t)}(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}function nd(t,e){return t>e+1e-6}function sd(t,e){return nd(t,e)||id(t,e)}function rd(t,e){return t+1e-6<e}function id(t,e){return Math.abs(t-e)<1e-6}ed.version="14.8.9";class od extends ed{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Jh(od.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Ah(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length)Ah(sd(t.time,this._timeline[this.length-1].time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t);else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}return this.length>this.memory&&this._timeline.splice(0,this.length-this.memory),this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(id(this._timeline[e].time,t)){for(let n=e;n>=0&&id(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&sd(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const s=this._timeline.length;let r=s;if(s>0&&this._timeline[s-1][e]<=t)return s-1;for(;n<r;){let s=Math.floor(n+(r-n)/2);const i=this._timeline[s],o=this._timeline[s+1];if(id(i[e],t)){for(let n=s;n<this._timeline.length&&id(this._timeline[n][e],t);n++)s=n;return s}if(rd(i[e],t)&&nd(o[e],t))return s;nd(i[e],t)?r=s:n=s+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let s=this._search(t),r=this._search(e);return-1!==s&&-1!==r?(this._timeline[s].time!==t&&(s+=1),this._timeline[r].time===e&&(r-=1),this._iterate(n,s,r)):-1===s&&this._iterate(n,0,r),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&id(this._timeline[n].time,t)){let s=n;for(let e=n;e>=0&&id(this._timeline[e].time,t);e--)s=e;this._iterate(t=>{e(t)},s,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const ad=[];function ld(t){ad.push(t)}const cd=[];function ud(t){cd.push(t)}class hd extends ed{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach(t=>{Nh(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)}),this}once(t,e){const n=(...s)=>{e(...s),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach(t=>{if(Nh(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(Nh(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}}),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,s=n.length;t<s;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach(e=>{const n=Object.getOwnPropertyDescriptor(hd.prototype,e);Object.defineProperty(t.prototype,e,n)})}dispose(){return super.dispose(),this._events=void 0,this}}class dd extends hd{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class pd extends dd{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new od,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=Jh(pd.getDefaults(),arguments,["context"]);this._context=t.context?t.context:function(t){return new eh(t)}({latencyHint:t.latencyHint}),this._ticker=new Bh(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,ad.forEach(e=>e(t)),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Ah(Gh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Ah(Gh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Ah(Gh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Ah(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Ah(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Ah(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Ah(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return Ah(Rh(gh),"This node only works in a secure context (https or localhost)"),new gh(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return Hh(this,void 0,void 0,function*(){Ah(Rh(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)})}workletsAreReady(){return Hh(this,void 0,void 0,function*(){const t=[];this._workletModules.forEach(e=>t.push(e)),yield Promise.all(t)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,jh(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Gh(this._context)?this._context.resume():Promise.resolve()}close(){return Hh(this,void 0,void 0,function*(){var t;Gh(this._context)&&(yield this._context.close()),this._initialized&&(t=this,cd.forEach(e=>e(t)))})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let r=0;r<n.length;r++)n[r]=t;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants.set(t,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(e=>{e.id===t&&this._timeouts.remove(e)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,s=()=>{const r=this.now();this._timeouts.add({callback:()=>{t(),s()},id:n,time:r+e})};return s(),n}}function fd(t,e){Fh(e)?e.forEach(e=>fd(t,e)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function md(t,e){Fh(e)?e.forEach(e=>md(t,e)):Object.defineProperty(t,e,{writable:!0})}const gd=()=>{};class _d extends ed{constructor(){super(),this.name="ToneAudioBuffer",this.onload=gd;const t=Jh(_d.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&Yh(t.url)||t.url instanceof _d?this.set(t.url):jh(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:gd,onload:gd,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:bd().sampleRate}set(t){return t instanceof _d?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Hh(this,void 0,void 0,function*(){const e=_d.load(t).then(t=>{this.set(t),this.onload(this)});_d.downloads.push(e);try{yield e}finally{const t=_d.downloads.indexOf(e);_d.downloads.splice(t,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Fh(t)&&t[0].length>0,n=e?t.length:1,s=e?t[0].length:t.length,r=bd(),i=r.createBuffer(n,s,r.sampleRate),o=e||1!==n?t:[t];for(let a=0;a<n;a++)i.copyToChannel(o[a],a);return this._buffer=i,this}toMono(t){if(Ph(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map(t=>t/e),this.fromArray(t)}return this}toArray(t){if(Ph(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),s=Math.floor(e*this.sampleRate);Ah(n<s,"The start time must be less than the end time");const r=s-n,i=bd().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)i.copyToChannel(this.getChannelData(o).subarray(n,s),o);return new _d(i)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new _d).fromArray(t)}static fromUrl(t){return Hh(this,void 0,void 0,function*(){const e=new _d;return yield e.load(t)})}static load(t){return Hh(this,void 0,void 0,function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let s=n[0];for(const t of n)if(_d.supportsType(t)){s=t;break}t=t.replace(e[0],s)}const n=""===_d.baseUrl||_d.baseUrl.endsWith("/")?_d.baseUrl:_d.baseUrl+"/",s=yield fetch(n+t);if(!s.ok)throw new Error("could not load url: "+t);const r=yield s.arrayBuffer();return yield bd().decodeAudioData(r)})}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Hh(this,void 0,void 0,function*(){for(yield Promise.resolve();_d.downloads.length;)yield _d.downloads[0]})}}_d.baseUrl="",_d.downloads=[];class vd extends pd{constructor(){var t,e,n;super({clockSource:"offline",context:$h(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new yh(t,e,n)),lookAhead:0,updateInterval:$h(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=$h(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Hh(this,void 0,void 0,function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise(t=>setTimeout(t,1)))}})}render(t=!0){return Hh(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new _d(e)})}close(){return Promise.resolve()}}const yd=new class extends dd{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return Hh(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let wd=yd;function bd(){return wd===yd&&zh&&(t=new pd,wd=Gh(t)?new pd(t):$h(t)?new vd(t):t),wd;var t}function xd(t){return Math.pow(2,t/12)}qh&&!qh.TONE_SILENCE_LOGGING&&console.log("%c * Tone.js v14.8.9 * ","background: #000; color: #fff");let Td=440;function Cd(t){return Math.round(kd(t))}function kd(t){return 69+12*Math.log2(t/Td)}class Ed extends ed{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),s="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/n)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let s=0;return t&&"0"!==t&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Ed&&this.fromType(this._val),Nh(this._val))return this._noArg();if(jh(this._val)&&Nh(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Vh(this._val)){let t=0;for(const e in this._val)if(Rh(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(Rh(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return jh(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Sd extends Ed{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Sd(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),s=this.valueOf();return s+(Math.round(s/n)*n-s)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let r=1;r<9;r++){const t=Math.pow(2,r);e.push(t+"n."),e.push(t+"n"),e.push(t+"t")}e.push("0");let n=e[0],s=new Sd(this.context,e[0]).toSeconds();return e.forEach(e=>{const r=new Sd(this.context,e).toSeconds();Math.abs(r-t)<Math.abs(s-t)&&(n=e,s=r)}),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let s=e%1*4;e=Math.floor(e)%this._getTimeSignature();const r=s.toString();return r.length>3&&(s=parseFloat(parseFloat(r).toFixed(3))),[n,e,s].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Cd(this.toFrequency())}_now(){return this.context.now()}}class Ad extends Sd{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Td}static set A4(t){!function(t){Td=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:Ad.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=Od[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:Ad.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let s=1;return t&&"0"!==t&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n)/4)),s}}})}transpose(t){return new Ad(this.context,this.valueOf()*xd(t))}harmonize(t){return t.map(t=>this.transpose(t))}toMidi(){return Cd(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Ad.A4);let n=Math.round(12*e)+57;const s=Math.floor(n/12);return s<0&&(n+=-12*s),Id[n%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return function(t){return Td*Math.pow(2,(t-69)/12)}(t)}static ftom(t){return Cd(t)}}const Od={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Id=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Md extends Sd{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Dd extends ed{constructor(){super();const t=Jh(Dd.getDefaults(),arguments,["context"]);this.context=this.defaultContext?this.defaultContext:t.context}static getDefaults(){return{context:bd()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Sd(this.context,t).toSeconds()}toFrequency(t){return new Ad(this.context,t).toFrequency()}toTicks(t){return new Md(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach(n=>{Nh(t[n])&&delete e[n]}),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach(e=>{if(Reflect.has(this,e)){const n=this[e];Rh(n)&&Rh(n.value)&&Rh(n.setValueAtTime)?t[e]=n.value:n instanceof Dd?t[e]=n._getPartialProperties(t[e]):Fh(n)||Ph(n)||jh(n)||"boolean"==typeof n?t[e]=n:delete t[e]}}),t}set(t){return Object.keys(t).forEach(e=>{Reflect.has(this,e)&&Rh(this[e])&&(this[e]&&Rh(this[e].value)&&Rh(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof Dd?this[e].set(t[e]):this[e]=t[e])}),this}}class Nd extends od{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return Oh(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let s=n;s<this._timeline.length;s++){const e=this._timeline[s];if(e.state===t)return e}}}class Rd extends Dd{constructor(){super(Jh(Rd.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Jh(Rd.getDefaults(),arguments,["param","units","convert"]);for(Ah(Rh(t.param)&&(Uh(t.param)||t.param instanceof Rd),"param must be an AudioParam");!Uh(t.param);)t.param=t.param._param;this._swappable=!!Rh(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new od(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Rh(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Dd.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Rh(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Rh(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return Rh(this.maxValue)&&Rh(this.minValue)&&Oh(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Math.pow(10,t/20):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?Math.log(t)/Math.LN10*20:t}setValueAtTime(t,e){const n=this.toSeconds(e),s=this._fromType(t);return Ah(isFinite(s)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),s=this._events.get(e);let r=this._initialValue;if(null===s)r=this._initialValue;else if("setTargetAtTime"!==s.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)r=s.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=s.value;if("setTargetAtTime"===s.type){const e=this._events.getBefore(s.time);t=null===e?this._initialValue:e.value}r="linearRampToValueAtTime"===n.type?this._linearInterpolate(s.time,t,n.time,n.value,e):this._exponentialInterpolate(s.time,t,n.time,n.value,e)}else r=s.value;else{const t=this._events.getBefore(s.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===s.type&&(r=this._exponentialApproach(s.time,n,s.value,s.constant,e))}return this._toType(r)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),s=this.toSeconds(e);return Ah(isFinite(n)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:s,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,s),this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=id(n,0)?this._minOutput:n,this._assertRange(n);const s=this.toSeconds(e);return Ah(isFinite(n)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,s),this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const s=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,s),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const s=this._fromType(t);Ah(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(e);return this._assertRange(s),Ah(isFinite(s)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:r,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",t,r,n),this._param.setTargetAtTime(s,r,n),this}setValueCurveAtTime(t,e,n,s=1){n=this.toSeconds(n),e=this.toSeconds(e);const r=this._fromType(t[0])*s;this.setValueAtTime(this._toType(r),e);const i=n/(t.length-1);for(let o=1;o<t.length;o++){const n=this._fromType(t[o])*s;this.linearRampToValueAtTime(this._toType(n),e+o*i)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Ah(isFinite(e),"Invalid argument to cancelScheduledValues: "+JSON.stringify(t)),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Ah(isFinite(e),"Invalid argument to cancelAndHoldAtTime: "+JSON.stringify(t)),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const s=this._events.get(e),r=this._events.getAfter(e);return s&&id(s.time,e)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),"linearRampToValueAtTime"===r.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===r.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const s=this._events.getAfter(n.time),r=s?s.time:e+2,i=(r-e)/10;for(let n=e;n<r;n+=i)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)}),this}setParam(t){Ah(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,s,r){return n+(e-n)*Math.exp(-(r-t)/s)}_linearInterpolate(t,e,n,s,r){return e+(r-t)/(n-t)*(s-e)}_exponentialInterpolate(t,e,n,s,r){return e*Math.pow(s/e,(r-t)/(n-t))}}class Pd extends Dd{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Rh(this.input)?Uh(this.input)||this.input instanceof Rd?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Rh(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Rh(t)&&(t instanceof Pd||Wh(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();Ah(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return Fd(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Dh("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return function(t,e,n=0,s=0){if(Rh(e))for(;e instanceof Pd;)e=e.input;for(;!Wh(t);)Rh(t.output)&&(t=t.output);Uh(e)?t.disconnect(e,n):Wh(e)?t.disconnect(e,n,s):t.disconnect()}(this,t,e,n),this}chain(...t){return Vd(this,...t),this}fan(...t){return t.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),Rh(this.input)&&(this.input instanceof Pd?this.input.dispose():Wh(this.input)&&this.input.disconnect()),Rh(this.output)&&(this.output instanceof Pd?this.output.dispose():Wh(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Vd(...t){const e=t.shift();t.reduce((t,e)=>(t instanceof Pd?t.connect(e):Wh(t)&&Fd(t,e),e),e)}function Fd(t,e,n=0,s=0){for(Ah(Rh(t),"Cannot connect from undefined node"),Ah(Rh(e),"Cannot connect to undefined node"),(e instanceof Pd||Wh(e))&&Ah(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Ah(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Pd||e instanceof Rd;)Rh(e.input)&&(e=e.input);for(;t instanceof Pd;)Rh(t.output)&&(t=t.output);Uh(e)?t.connect(e,n):t.connect(e,n,s)}class jd extends Pd{constructor(){super(Jh(jd.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Jh(jd.getDefaults(),arguments,["gain","units"]);this.gain=new Rd({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),fd(this,"gain")}static getDefaults(){return Object.assign(Pd.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ld extends Pd{constructor(t){super(t),this.onended=gd,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new jd({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(Pd.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:gd})}_startGain(t,e=1){Ah(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Ah(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==gd&&(this.onended(this),this.onended=gd,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ah(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class qd extends Ld{constructor(){super(Jh(qd.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=Jh(qd.getDefaults(),arguments,["offset"]);Fd(this._source,this._gainNode),this.offset=new Rd({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Ld.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class zd extends Pd{constructor(){super(Jh(zd.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=Jh(zd.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new qd({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Pd.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return Zd(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,s){return this._param.setValueCurveAtTime(t,e,n,s),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Zd(t,e,n,s){(e instanceof Rd||Uh(e)||e instanceof zd&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof zd&&(e.overridden=!0)),Fd(t,e,n,s)}class Hd extends Rd{constructor(){super(Jh(Hd.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new od(1/0),this._multiplier=1;const t=Jh(Hd.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Rd.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const s=this._fromType(t),r=this._events.get(e),i=Math.round(Math.max(1/n,1));for(let o=0;o<=i;o++){const t=n*o+e,i=this._exponentialApproach(r.time,r.value,s,n,t);this.linearRampToValueAtTime(this._toType(i),t)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const s=this._events.get(n),r=this._events.previousEvent(s),i=this._getTicksUntilEvent(r,n);return s.ticks=Math.max(i,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const s=this._events.get(n),r=this._events.previousEvent(s),i=this._getTicksUntilEvent(r,n);return s.ticks=Math.max(i,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),s=this._events.get(e),r=Math.round(Math.max(10*(e-s.time),1)),i=(e-s.time)/r;for(let o=0;o<=r;o++){const t=i*o+s.time,r=this._exponentialInterpolate(s.time,s.value,e,n,t);this.linearRampToValueAtTime(this._toType(r),t)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Nh(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let s=this._fromType(this.getValueAtTime(e));const r=this._events.get(e);return r&&r.time===e&&"setValueAtTime"===r.type&&(s=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+s)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(e);return this.getTimeOfTick(s+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const s=this._fromType(this.getValueAtTime(e.time)),r=(this._fromType(this.getValueAtTime(n.time))-s)/(n.time-e.time),i=Math.sqrt(Math.pow(s,2)-2*r*(e.ticks-t)),o=(-s+i)/r,a=(-s-i)/r;return(o>0?o:a)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),s=this.toSeconds(t),r=this.getTicksAtTime(n);return this.getTicksAtTime(n+s)-r}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Bd extends zd{constructor(){super(Jh(Bd.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=Jh(Bd.getDefaults(),arguments,["value"]);this.input=this._param=new Hd({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(zd.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Ud extends Dd{constructor(){super(Jh(Ud.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Nd,this._tickOffset=new od;const t=Jh(Ud.getDefaults(),arguments,["frequency"]);this.frequency=new Bd({context:this.context,units:t.units,value:t.frequency}),fd(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Dd.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),Rh(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);let r=n,i=0;return this._state.forEachBetween(n.time,e+this.sampleTime,t=>{let e=r.time;const n=this._tickOffset.get(t.time);n&&n.time>=r.time&&(i=n.ticks,e=n.time),"started"===r.state&&"started"!==t.state&&(i+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),r=t}),this._state.remove(s),i}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let s=e,r=0;return this._state.forEachBetween(e.time,t+this.sampleTime,t=>{let e=s.time;const n=this._tickOffset.get(t.time);n&&n.time>=s.time&&(r=n.seconds,e=n.time),"started"===s.state&&"started"!==t.state&&(r+=t.time-e),s=t}),this._state.remove(n),r}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),s=this._state.get(e),r=Math.max(n.time,s.time),i=this.frequency.getTicksAtTime(r)+t-n.ticks;return this.frequency.getTimeOfTick(i)}forEachTickBetween(t,e,n){let s=this._state.get(t);this._state.forEachBetween(t,e,e=>{s&&"started"===s.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(s.time,t),e.time-this.sampleTime,n),s=e});let r=null;if(s&&"started"===s.state){const o=Math.max(s.time,t),a=this.frequency.getTicksAtTime(o),l=a-this.frequency.getTicksAtTime(s.time);let c=Math.ceil(l)-l;c=id(c,1)?0:c;let u=this.frequency.getTimeOfTick(a+c);for(;u<e;){try{n(u,Math.round(this.getTicksAtTime(u)))}catch(i){r=i;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Wd extends Dd{constructor(){super(Jh(Wd.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=gd,this._lastUpdate=0,this._state=new Nd("stopped"),this._boundLoop=this._loop.bind(this);const t=Jh(Wd.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Ud({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,fd(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Dd.getDefaults(),{callback:gd,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Ih(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(s+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}}),this._tickSource.forEachTickBetween(t,e,(t,e)=>{this.callback(t,e)}))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}hd.mixin(Wd);class $d extends ed{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Jh($d.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(e=>{this._loadingCount++,this.add(e,t.urls[e],this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:gd,onload:gd,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Ah(this.has(t),"ToneAudioBuffers has no buffer named: "+t),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,e])=>e.loaded)}add(t,e,n=gd,s=gd){return jh(e)?this._buffers.set(t.toString(),new _d(this.baseUrl+e,n,s)):this._buffers.set(t.toString(),new _d(e,n,s)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Gd extends Md{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Yd extends Dd{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new od,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ld(t=>{t.draw=new Yd({context:t})}),ud(t=>{t.draw.dispose()});class Qd extends ed{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Ah(Rh(t.time),"Events must have a time property"),Ah(Rh(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new Xd(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,t=>this.remove(t)),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),s=t.right;s&&(t.right=s.left,s.left=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),s=t.left;s&&(t.left=s.right,s.right=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse(t=>e.push(t)),e.forEach(e=>{e.event&&t(e.event)})}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach(t=>{t.event&&e(t.event)})}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach(t=>{t.event&&e(t.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class Xd{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){this.height=null!==this.left&&null!==this.right?Math.max(this.left.height,this.right.height)+1:null!==this.right?this.right.height+1:null!==this.left?this.left.height+1:0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Jd extends Pd{constructor(){super(Jh(Jd.getDefaults(),arguments,["volume"])),this.name="Volume";const t=Jh(Jd.getDefaults(),arguments,["volume"]);this.input=this.output=new jd({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,fd(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(Pd.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Kd extends Pd{constructor(){super(Jh(Kd.getDefaults(),arguments)),this.name="Destination",this.input=new Jd({context:this.context}),this.output=new jd({context:this.context}),this.volume=this.input.volume;const t=Jh(Kd.getDefaults(),arguments);Vd(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Pd.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Vd(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ld(t=>{t.destination=new Kd({context:t})}),ud(t=>{t.destination.dispose()});class tp extends ed{constructor(t){super(),this.name="TimelineValue",this._timeline=new od({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class ep{constructor(t,e){this.id=ep._eventId++,this._remainderTime=0;const n=Object.assign(ep.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:gd,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ep._eventId=0;class np extends ep{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(np.getDefaults(),e);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ep.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return rd(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Gd(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){rd(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Gd(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);nd(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class sp extends Dd{constructor(){super(Jh(sp.getDefaults(),arguments)),this.name="Transport",this._loop=new tp(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new od,this._repeatedEvents=new Qd,this._syncedSignals=[],this._swingAmount=0;const t=Jh(sp.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new Wd({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),fd(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Dd.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=Math.sin(e%(2*this._swingTicks)/(2*this._swingTicks)*Math.PI)*this._swingAmount;t+=new Gd(this.context,2*this._swingTicks/3).toSeconds()*n}this._timeline.forEachAtTime(e,e=>e.invoke(t))}schedule(t,e){const n=new ep(this,{callback:t,time:new Md(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,s=1/0){const r=new np(this,{callback:t,duration:new Sd(this.context,s).toTicks(),interval:new Sd(this.context,e).toTicks(),time:new Md(this.context,n).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(t,e){const n=new ep(this,{callback:t,once:!0,time:new Md(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(e,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on("start",(t,e)=>{e=new Gd(this.context,e).toSeconds(),this.emit("start",t,e)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return Rh(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Fh(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Sd(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Sd(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Gd(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new Gd(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),s=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",s),this._clock.setTicksAtTime(t,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=this.getTicksAtTime(e);return this._clock.nextTickTime(t-n%t,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const s=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/s}else e=0}const n=new jd(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),md(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}hd.mixin(sp),ld(t=>{t.transport=new sp({context:t})}),ud(t=>{t.transport.dispose()});class rp extends Pd{constructor(t){super(t),this.input=void 0,this._state=new Nd("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=gd,this._syncedStop=gd,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Jd({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,fd(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(Pd.getDefaults(),{mute:!1,onstop:gd,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let s=Nh(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const t=this._state.get(s);t&&(t.offset=this.toSeconds(Kh(e,0)),t.duration=n?this.toSeconds(n):void 0);const r=this.context.transport.schedule(t=>{this._start(t,e,n)},s);this._scheduled.push(r),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else Ih(this.context),this._start(s,e,n);else Ah(nd(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,e,n);return this}stop(t){let e=Nh(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||Rh(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const s=e-this.toSeconds(n.time);let r;n.duration&&(r=this.toSeconds(n.duration)-s),this._start(t,this.toSeconds(n.offset)+s,r)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=gd,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ip extends Ld{constructor(){super(Jh(ip.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Jh(ip.getDefaults(),arguments,["url","onload"]);Fd(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Rd({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new _d(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ld.getDefaults(),{url:new _d,loop:!1,loopEnd:0,loopStart:0,onload:gd,onerror:gd,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,s=1){Ah(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(t);this._startGain(r,s),e=Kh(e,this.loop?this.loopStart:0);let i=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;sd(i,t)&&(i=(i-e)%n+e),id(i,this.buffer.duration)&&(i=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,rd(i,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,i)),Rh(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(r+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function op(t,e){return Hh(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new vd(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class ap extends Ld{constructor(){super(Jh(ap.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Jh(ap.getDefaults(),arguments,["frequency","type"]);Fd(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Rd({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Rd({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),fd(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ld.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class lp extends rp{constructor(){super(Jh(lp.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Jh(lp.getDefaults(),arguments,["frequency","type"]);this.frequency=new zd({context:this.context,units:"frequency",value:t.frequency}),fd(this,"frequency"),this.detune=new zd({context:this.context,units:"cents",value:t.detune}),fd(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(rp.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new ap({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return lp._periodicWaveCache.find(t=>{return t.phase===this._phase&&(e=t.partials).length===(n=this._partials).length&&e.every((t,e)=>n[e]===t);var e,n});{const t=lp._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(Rh(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),s=this.context.createPeriodicWave(e,n);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),lp._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),lp._periodicWaveCache.length>100&&lp._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.type=this.partialCount&&"custom"!==this._type&&"custom"!==t?t+this.partialCount:t}get partialCount(){return this._partialCount}set partialCount(t){Oh(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach((t,n)=>e[n]=t),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const s=new Float32Array(n),r=new Float32Array(n);let i=1;if("custom"===t){if(i=this._partials.length+1,this._partialCount=this._partials.length,n=i,0===this._partials.length)return[s,r]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(i=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],i=Math.max(i,2),n=i):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=i?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(s[o]=-a*Math.sin(e*o),r[o]=a*Math.cos(e*o)):(s[o]=0,r[o]=0)}return[s,r]}_inverseFFT(t,e,n){let s=0;const r=t.length;for(let i=0;i<r;i++)s+=t[i]*Math.cos(i*n)+e[i]*Math.sin(i*n);return s}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const s=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(t,e,i/32*s),n);return r=-this._inverseFFT(t,e,this._phase)/n,-1,Math.max(Math.min(r,1),-1);var r}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Hh(this,void 0,void 0,function*(){return op(this,t)})}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}lp._periodicWaveCache=[];class cp extends Pd{constructor(){super(Object.assign(Jh(cp.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return Zd(this,t,e,n),this}}class up extends cp{constructor(){super(Object.assign(Jh(up.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Jh(up.getDefaults(),arguments,["mapping","length"]);Fh(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):"function"==typeof t.mapping&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(zd.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let s=0,r=e;s<r;s++)n[s]=t(s/(r-1)*2-1,s);return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Ah(["none","2x","4x"].some(e=>e.includes(t)),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class hp extends cp{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new up({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class dp extends zd{constructor(){super(Object.assign(Jh(dp.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=Jh(dp.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new jd({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(zd.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class pp extends rp{constructor(){super(Jh(pp.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new hp({context:this.context}),this._modulationNode=new jd({context:this.context});const t=Jh(pp.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new lp({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new lp({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new dp({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),fd(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(lp.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Hh(this,void 0,void 0,function*(){return op(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class fp extends rp{constructor(){super(Jh(fp.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new jd({context:this.context,gain:0});const t=Jh(fp.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new lp({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new zd({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new lp({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new dp({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new dp({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),fd(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(lp.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Hh(this,void 0,void 0,function*(){return op(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class mp extends rp{constructor(){super(Jh(mp.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new jd({context:this.context,gain:0}),this._thresh=new up({context:this.context,mapping:t=>t<=0?-1:1});const t=Jh(mp.getDefaults(),arguments,["frequency","width"]);this.width=new zd({context:this.context,units:"audioRange",value:t.width}),this._triangle=new lp({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),fd(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(rp.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Hh(this,void 0,void 0,function*(){return op(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class gp extends rp{constructor(){super(Jh(gp.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=Jh(gp.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new zd({context:this.context,units:"frequency",value:t.frequency}),this.detune=new zd({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,fd(this,["frequency","detune"])}static getDefaults(){return Object.assign(lp.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(e=>e.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(e=>e.stop(t))}_restart(t){this._forEach(e=>e.restart(t))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach(e=>e.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach((t,s)=>t.detune.value=e+n*s)}}get count(){return this._oscillators.length}set count(t){if(Oh(t,1),this._oscillators.length!==t){this._forEach(t=>t.dispose()),this._oscillators=[];for(let e=0;e<t;e++){const n=new lp({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):gd});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((t,e)=>t.phase=this._phase+e/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(e=>e.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(e=>e.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(e=>e.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return Hh(this,void 0,void 0,function*(){return op(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class _p extends rp{constructor(){super(Jh(_p.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new dp({context:this.context,value:2});const t=Jh(_p.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new mp({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new lp({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),fd(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(rp.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Hh(this,void 0,void 0,function*(){return op(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const vp={am:pp,fat:gp,fm:fp,oscillator:lp,pulse:mp,pwm:_p};class yp extends rp{constructor(){super(Jh(yp.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=Jh(yp.getDefaults(),arguments,["frequency","type"]);this.frequency=new zd({context:this.context,units:"frequency",value:t.frequency}),this.detune=new zd({context:this.context,units:"cents",value:t.detune}),fd(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(lp.getDefaults(),fp.getDefaults(),pp.getDefaults(),gp.getDefaults(),mp.getDefaults(),_p.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=vp[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout(()=>t.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof vp[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Ph(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Ph(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&jh(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return Hh(this,void 0,void 0,function*(){return op(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function wp(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Oh(s,t,e),n.set(this,s)}})}}function bp(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Oh(this.toSeconds(s),t,e),n.set(this,s)}})}}class xp extends rp{constructor(){super(Jh(xp.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=Jh(xp.getDefaults(),arguments,["url","onload"]);this._buffer=new _d({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(rp.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:gd,onerror:gd,playbackRate:1,reverse:!1})}load(t){return Hh(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=gd){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=Kh(e,this._loop?this._loopStart:0);const s=this.toSeconds(e),r=n;n=Kh(n,Math.max(this._buffer.duration-s,0));let i=this.toSeconds(n);i/=this._playbackRate,t=this.toSeconds(t);const o=new ip({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+i),this._state.setStateAtTime("stopped",t+i,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Nh(r)?o.start(t,s):o.start(t,s,i-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(t=>t.stop(e))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Oh(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Oh(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(e=>{e.loop=t}),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach(t=>t.cancelStop())),this._activeSources.forEach(n=>{n.playbackRate.setValueAtTime(t,e)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Zh([bp(0)],xp.prototype,"fadeIn",void 0),Zh([bp(0)],xp.prototype,"fadeOut",void 0);class Tp extends Pd{constructor(){super(Jh(Tp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new zd({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=Jh(Tp.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(Pd.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(jh(t))return t;{let n;for(n in Cp)if(Cp[n][e]===t)return n;return t}}_setCurve(t,e,n){if(jh(n)&&Reflect.has(Cp,n)){const s=Cp[n];Vh(s)?"_decayCurve"!==t&&(this[t]=s[e]):this[t]=s}else{if(!Fh(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Ah(["linear","exponential"].some(e=>e===t),"Invalid envelope curve: "+t),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),r=this.getValueAtTime(t);if(r>0&&(n=(1-r)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let s=this._attackCurve;for(let t=1;t<s.length;t++)if(s[t-1]<=r&&r<=s[t]){s=this._attackCurve.slice(t),s[0]=r;break}this._sig.setValueCurveAtTime(s,t,n,e)}if(s&&this.sustain<1){const r=e*this.sustain,i=t+n;this.log("decay",i),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(r,s+i):this._sig.exponentialApproachValueAtTime(r,i,s)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Ah(Fh(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return Zd(this,t,e,n),this}asArray(t=1024){return Hh(this,void 0,void 0,function*(){const e=t/this.context.sampleRate,n=new vd(1,e,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=s+this.toSeconds(this.release),i=.1*r,o=r+i,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(e*(s+i)/o,0),(yield n.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Zh([bp(0)],Tp.prototype,"attack",void 0),Zh([bp(0)],Tp.prototype,"decay",void 0),Zh([wp(0,1)],Tp.prototype,"sustain",void 0),Zh([bp(0)],Tp.prototype,"release",void 0);const Cp=(()=>{let t,e;const n=[];for(t=0;t<128;t++)n[t]=Math.sin(t/127*(Math.PI/2));const s=[];for(t=0;t<127;t++){e=t/127;const n=Math.sin(e*(2*Math.PI)*6.4-Math.PI/2)+1;s[t]=n/10+.83*e}s[127]=1;const r=[];for(t=0;t<128;t++)r[t]=Math.ceil(t/127*5)/5;const i=[];for(t=0;t<128;t++)e=t/127,i[t]=.5*(1-Math.cos(Math.PI*e));const o=[];for(t=0;t<128;t++){e=t/127;const n=4*Math.pow(e,3)+.2,s=Math.cos(n*Math.PI*2*e);o[t]=Math.abs(s*(1-e))}function a(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:a(o),Out:o},cosine:{In:n,Out:(l=n,l.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:s,Out:a(s)},sine:{In:i,Out:a(i)},step:{In:r,Out:a(r)}};var l})();class kp extends Pd{constructor(){super(Jh(kp.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=Jh(kp.getDefaults(),arguments);this._volume=this.output=new Jd({context:this.context,volume:t.volume}),this.volume=this._volume.volume,fd(this,"volume")}static getDefaults(){return Object.assign(Pd.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const s=this.context.transport.schedule(s=>{t[e]=s,n.apply(this,t)},t[e]);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,s){const r=this.toSeconds(n),i=this.toSeconds(e);return this.triggerAttack(t,r,s),this.triggerRelease(r+i),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ep extends kp{constructor(){super(Jh(Ep.getDefaults(),arguments));const t=Jh(Ep.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(kp.getDefaults(),{detune:0,onsilence:gd,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const s=this.toSeconds(e);return this._triggerEnvelopeAttack(s,n),this.setNote(t,s),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),s=t instanceof Ad?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,t,n)}else this.frequency.setValueAtTime(s,n);return this}}Zh([bp(0)],Ep.prototype,"portamento",void 0);class Sp extends Tp{constructor(){super(Jh(Sp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new jd({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ap extends Ep{constructor(){super(Jh(Ap.getDefaults(),arguments)),this.name="Synth";const t=Jh(Ap.getDefaults(),arguments);this.oscillator=new yp(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Sp(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),fd(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ep.getDefaults(),{envelope:Object.assign(td(Tp.getDefaults(),Object.keys(Pd.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(td(yp.getDefaults(),[...Object.keys(rp.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Op extends Ap{constructor(){super(Jh(Op.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=Jh(Op.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,fd(this,["oscillator","envelope"])}static getDefaults(){return Xh(Ep.getDefaults(),Ap.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),s=this.toFrequency(t instanceof Ad?t.toFrequency():t);return this.oscillator.frequency.setValueAtTime(s*this.octaves,n),this.oscillator.frequency.exponentialRampToValueAtTime(s,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Zh([wp(0)],Op.prototype,"octaves",void 0),Zh([bp(0)],Op.prototype,"pitchDecay",void 0);const Ip=new Set;function Mp(t){Ip.add(t)}function Dp(t,e){Ip.add(`registerProcessor("${t}", ${e})`)}Mp('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),Mp("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),Mp("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n"),Dp("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Np extends kp{constructor(){super(Jh(Np.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=Jh(Np.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach(n=>{const s=parseInt(n,10);if(Ah(Lh(n)||Ph(s)&&isFinite(s),"url key is neither a note or midi pitch: "+n),Lh(n)){const s=new Ad(this.context,n).toMidi();e[s]=t.urls[n]}else Ph(s)&&isFinite(s)&&(e[s]=t.urls[s])}),this._buffers=new $d({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(kp.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:gd,onerror:gd,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error("No available buffers for note: "+t)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach(t=>{const s=kd(new Ad(this.context,t).toFrequency()),r=Math.round(s),i=s-r,o=this._findClosest(r),a=this._buffers.get(r-o),l=xd(o+i),c=new ip({url:a,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:l}).connect(this.output);c.start(e,0,a.duration/l,n),Fh(this._activeSources.get(r))||this._activeSources.set(r,[]),this._activeSources.get(r).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(r)){const t=this._activeSources.get(r),e=t.indexOf(c);-1!==e&&t.splice(e,1)}}}),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach(t=>{const n=new Ad(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach(t=>{t.stop(e)}),this._activeSources.set(n,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(t=>{for(;t.length;)t.shift().stop(e)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,s=1){const r=this.toSeconds(n);return this.triggerAttack(t,r,s),Fh(e)?(Ah(Fh(t),"notes must be an array when duration is array"),t.forEach((t,n)=>{const s=e[Math.min(n,e.length-1)];this.triggerRelease(t,r+this.toSeconds(s))})):this.triggerRelease(t,r+this.toSeconds(e)),this}add(t,e,n){if(Ah(Lh(t)||isFinite(t),"note must be a pitch or midi: "+t),Lh(t)){const s=new Ad(this.context,t).toMidi();this._buffers.add(s,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}Zh([bp(0)],Np.prototype,"attack",void 0),Zh([bp(0)],Np.prototype,"release",void 0);class Rp extends Pd{constructor(){super(Object.assign(Jh(Rp.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=Jh(Rp.getDefaults(),arguments,["pan"]);this.pan=new Rd({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",fd(this,"pan")}static getDefaults(){return Object.assign(Pd.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}Dp("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Pp extends Pd{constructor(){super(Jh(Pp.getDefaults(),arguments,["solo"])),this.name="Solo";const t=Jh(Pp.getDefaults(),arguments,["solo"]);this.input=this.output=new jd({context:this.context}),Pp._allSolos.has(this.context)||Pp._allSolos.set(this.context,new Set),Pp._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(Pd.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Pp._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){Pp._soloed.has(this.context)||Pp._soloed.set(this.context,new Set),Pp._soloed.get(this.context).add(this)}_removeSolo(){Pp._soloed.has(this.context)&&Pp._soloed.get(this.context).delete(this)}_isSoloed(){return Pp._soloed.has(this.context)&&Pp._soloed.get(this.context).has(this)}_noSolos(){return!Pp._soloed.has(this.context)||Pp._soloed.has(this.context)&&0===Pp._soloed.get(this.context).size}_updateSolo(){this.input.gain.value=this._isSoloed()||this._noSolos()?1:0}dispose(){return super.dispose(),Pp._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Pp._allSolos=new Map,Pp._soloed=new Map;class Vp extends Pd{constructor(){super(Jh(Vp.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=Jh(Vp.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Rp({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Jd({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,fd(this,["pan","volume"])}static getDefaults(){return Object.assign(Pd.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Fp extends Pd{constructor(){super(Jh(Fp.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=Jh(Fp.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Pp({solo:t.solo,context:this.context}),this._panVol=this.output=new Vp({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),fd(this,["pan","volume"])}static getDefaults(){return Object.assign(Pd.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return Fp.buses.has(t)||Fp.buses.set(t,new jd({context:this.context})),Fp.buses.get(t)}send(t,e=0){const n=this._getBus(t),s=new jd({context:this.context,units:"decibels",gain:e});return this.connect(s),s.connect(n),s}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Fp.buses=new Map;class jp extends Pd{constructor(){super(...arguments),this.name="Listener",this.positionX=new Rd({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Rd({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Rd({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Rd({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Rd({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Rd({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Rd({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Rd({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Rd({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Pd.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ld(t=>{t.listener=new jp({context:t})}),ud(t=>{t.listener.dispose()}),bd(),bd(),bd(),bd(),bd(),bd();const Lp={upDown:{name:"\u0412\u0432\u0435\u0440\u0445 \u0438\u043b\u0438 \u0432\u043d\u0438\u0437?",type:"upDown"},note:{name:"\u041a\u0430\u043a\u0430\u044f \u043d\u043e\u0442\u0430?",type:"whichNote"}},qp=new Map([[!0,"\u0432\u0432\u0435\u0440\u0445"],[!1,"\u0432\u043d\u0438\u0437"]]);var zp=function(t){return t[t.C=0]="C",t[t["C#"]=1]="C#",t[t.D=2]="D",t[t["D#"]=3]="D#",t[t.E=4]="E",t[t.F=5]="F",t[t["F#"]=6]="F#",t[t.G=7]="G",t[t["G#"]=8]="G#",t[t.A=9]="A",t[t["A#"]=10]="A#",t[t.B=11]="B",t}({});const Zp=[0,1,2,3,4,5,6,7,8,9,10,11],Hp=t=>{let e=Math.floor(11*Math.random());return e=t===e?(e+1)%11:e,{note:""+zp[e]+4,high:4,tone:e,duration:"8n"}};class Bp{constructor(t){this.cdr=t,this.exercises=Lp,this.answer="",this.isCorrect=!1,this.counter={correct:0,total:0},this.answeredAtLeastOnce=!1,this.allNotes=Zp,this.exerciseKeys=[],this.started=!1}get classApp(){return!0}ngOnInit(){this.synth=(new Ap).toDestination(),this.exerciseKeys=Object.keys(Lp)}ngAfterViewInit(){}init(){this.started||(wd.resume(),this.chooseExercise(Lp.note),this.started=!0,this.cdr.markForCheck())}getNoteName(t){return zp[t]}checkCorrectUpDown(t){const e=qp.get(this.correctAnswer);this.isCorrect=this.correctAnswer===t,this.answer=this.isCorrect?"\u0412\u0435\u0440\u043d\u043e!":"\u041d\u0435\u0432\u0435\u0440\u043d\u043e.",this.answer+=` \u041c\u0435\u043b\u043e\u0434\u0438\u044f \u0438\u0434\u0451\u0442 ${e}. \u042d\u0442\u043e \u0431\u044b\u043b\u0438 \u043d\u043e\u0442\u044b ${this.toPlay.map(({note:t})=>t).join(", ")}`,this.updateCounter(),this.cdr.markForCheck()}checkCorrectWhichNote(t){this.isCorrect=this.correctAnswer===t,this.answer=this.isCorrect?"\u0412\u0435\u0440\u043d\u043e!":"\u041d\u0435\u0432\u0435\u0440\u043d\u043e.",this.answer+="\u042d\u0442\u043e \u0431\u044b\u043b\u0430 \u043d\u043e\u0442\u0430 "+zp[this.toPlay[0].tone],this.updateCounter(),this.cdr.markForCheck()}chooseExercise(t){switch(t.type){case"upDown":this.exercise=this.exerciseUpDown,this.upDownExercise();break;case"whichNote":this.exercise=this.whichNote,this.whichNoteExercise()}this.cdr.markForCheck()}updateCounter(){this.answeredAtLeastOnce||(this.counter.correct+=this.isCorrect?1:0,this.counter.total++,this.answeredAtLeastOnce=!0)}upDownExercise(){this.answer="";const t=Hp();var e,n;this.toPlay=[t,Hp(t.tone)],this.correctAnswer=(e=this.toPlay[1]).high>(n=this.toPlay[0]).high||e.high===n.high&&e.tone>n.tone,this.repeat(),this.answeredAtLeastOnce=!1,this.cdr.markForCheck()}whichNoteExercise(){this.answer="",this.toPlay=[Hp()],this.correctAnswer=this.toPlay[0].tone,this.repeat(),this.answeredAtLeastOnce=!1,this.cdr.markForCheck()}repeat(){let t=bd().now();this.toPlay.forEach(e=>{this.playNote(e,t),t+=.5})}playNote({note:t,duration:e},n){this.synth.triggerAttackRelease(t,e,n)}}let Up=null;function Wp(){return Up}const $p=new dt("DocumentToken");var Gp=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Yp{}class Qp extends Yp{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Be(e);if(n)return n;const s=e.split("-")[0];if(n=Be(s),n)return n;if("en"===s)return Ze;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ue.PluralCase]}(e||this.locale)(t)){case Gp.Zero:return"zero";case Gp.One:return"one";case Gp.Two:return"two";case Gp.Few:return"few";case Gp.Many:return"many";default:return"other"}}}class Xp{constructor(t,e,n,s){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Jp{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,s)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Xp(null,this._ngForOf,-1,-1),null===s?void 0:s),r=new Kp(t,n);e.push(r)}else if(null==s)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,s);const i=new Kp(t,r);e.push(i)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,s=this._viewContainer.length;n<s;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=s,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class Kp{constructor(t,e){this.record=t,this.view=e}}class tf{constructor(t,e){this._viewContainer=t,this._context=new ef,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nf("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nf("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}class ef{constructor(){this.$implicit=null,this.ngIf=null}}function nf(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${$(e)}'.`)}class sf{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}class rf{}var of=Gn({encapsulation:0,styles:[['[_nghost-%COMP%]{display:grid;grid-gap:5px;height:100%;min-height:100vh;grid-template-areas:"header" "nav" "sidebar" "main" "footer";grid-template-columns:1fr;grid-template-rows:var(--header-height) var(--nav-size) var(--sidebar-size) auto var(--header-height);--header-height:50px;--header-padding:10px;--nav-size:clamp(50px,70px,20vh);--sidebar-size:clamp(25px,45px,15vh);--header-color:#d7e6ed;--footer-colot:#d7e6ed;--main-color:#fff;--bg-color:#f5f5ef;--button-color:#cddefb;--answer-button-color:#fff;--answer-button-bg-color:#90ee90}.app-header[_ngcontent-%COMP%]{height:var(--header-height);word-wrap:break-word;grid-area:header;background-color:var(--header-color);display:flex;justify-content:space-around;align-items:center}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1rem,.4512rem + 2.439vw,3.5rem)}.app-nav[_ngcontent-%COMP%]{grid-area:nav;display:flex;justify-content:space-around;flex-direction:row}.app-aside[_ngcontent-%COMP%]{grid-area:sidebar;display:flex;align-items:center;justify-content:flex-end;padding:10px;font-size:.8em;color:#2e8b57}.app-aside[_ngcontent-%COMP%]   ._important[_ngcontent-%COMP%]{font-weight:700}.app-main[_ngcontent-%COMP%]{flex-grow:1;grid-area:main;background-color:var(--main-color)}.app-footer[_ngcontent-%COMP%]{height:var(--header-height);padding:var(--header-padding);grid-area:footer;background-color:var(--footer-colot);justify-content:flex-end}.app-footer[_ngcontent-%COMP%], .app__exrcs-card[_ngcontent-%COMP%]{display:flex;align-items:center}.app__exrcs-card[_ngcontent-%COMP%]{background-color:var(--button-color);justify-content:center;padding:10px;border-radius:15px;flex:0 0 30%;cursor:pointer;text-align:center}.btn[_ngcontent-%COMP%]{line-height:30px;cursor:pointer;margin:5px;max-width:200px;position:relative;text-decoration:none;text-transform:uppercase;width:100%;border-radius:15px;border:1px solid}.btn._active[_ngcontent-%COMP%]{background-color:#20b2aa;color:#fff}.btn[_ngcontent-%COMP%]:hover{border:1px solid}.btn[_ngcontent-%COMP%]:focus{border:1 solid;outline:none}.btn._disabled[_ngcontent-%COMP%]{background-color:grey;pointer-events:none;cursor:default}.btn-answer[_ngcontent-%COMP%]{transition-property:all;transition-duration:.6s;transition-timing-function:ease;font-size:16px;font-weight:400;line-height:45px;color:var(--answer-button-color);background-color:var(--answer-button-bg-color);box-shadow:inset 0 0 20px hsla(0,0%,100%,0);outline:1px solid;outline-color:hsla(0,0%,100%,.5);outline-offset:0;text-shadow:none;transition:all 1.25s cubic-bezier(.19,1,.22,1)}.btn-answer._small[_ngcontent-%COMP%]{line-height:25px;max-width:50px}.btn-answer[_ngcontent-%COMP%]:hover{border:1px solid;box-shadow:inset 0 0 20px hsla(0,0%,100%,.5),0 0 20px hsla(0,0%,100%,.2);outline-color:hsla(0,0%,100%,0);outline-offset:15px;text-shadow:1px 1px 2px #427388}.app__exrcs[_ngcontent-%COMP%]{height:100%;display:flex;margin:0 auto;max-width:500px;flex-direction:column;align-items:center}.app__exrcs-question-area[_ngcontent-%COMP%], .app__exrcs-rule-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:10px;width:100%}.app__exrcs-question[_ngcontent-%COMP%]{margin:auto 20px auto 0;font-weight:700;font-size:1em}.app__exrcs-question[_ngcontent-%COMP%], .app_exrcs-answer[_ngcontent-%COMP%]{letter-spacing:2px;line-height:1.5em;font-style:oblique}.app_exrcs-answer[_ngcontent-%COMP%]{font-size:.8em;text-align:center;padding:10px;color:brown}.app_exrcs-answer._correct[_ngcontent-%COMP%]{color:green}']],data:{}});function af(t){return Vi(0,[(t()(),bi(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function lf(t){return Vi(0,[(t()(),bi(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),wi(16777216,null,null,2,null,af)),Ks(2,540672,null,0,sf,[Nn],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Di(3,{$implicit:0}),(t()(),wi(0,null,null,0))],function(t,e){var n=t(e,3,0,e.component.exercise[e.context.$implicit]);t(e,2,0,n,Hs(e.parent,18))},null)}function cf(t){return Vi(0,[(t()(),bi(0,0,null,null,1,"div",[["style","position: absolute; top: 50%; left: 50%"]],null,null,null,null,null)),(t()(),Ni(-1,null,[" Click anywhere to start "]))],null,null)}function uf(t){return Vi(0,[(t()(),bi(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function hf(t){return Vi(0,[(t()(),bi(0,0,null,null,7,"div",[["class","app-aside"]],null,null,null,null,null)),(t()(),bi(1,0,null,null,6,"p",[],null,null,null,null,null)),(t()(),Ni(-1,null,[" \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: "])),(t()(),bi(3,0,null,null,1,"span",[["class","_important"]],null,null,null,null,null)),(t()(),Ni(4,null,["",""])),(t()(),Ni(-1,null,[" \u0438\u0437 "])),(t()(),bi(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Ni(7,null,["",""]))],null,function(t,e){var n=e.component;t(e,4,0,n.counter.correct),t(e,7,0,n.counter.total)})}function df(t){return Vi(0,[(t()(),bi(0,0,null,null,1,"button",[["class","app__exrcs-card"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.chooseExercise(t.context.$implicit)&&s),s},null,null)),(t()(),Ni(1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.context.$implicit.name)})}function pf(t){return Vi(0,[(t()(),bi(0,0,null,null,16,"div",[["class","app__exrcs"]],null,null,null,null,null)),(t()(),bi(1,0,null,null,8,"div",[],null,null,null,null,null)),(t()(),bi(2,0,null,null,7,"div",[["class","app__exrcs-question-area"]],null,null,null,null,null)),(t()(),bi(3,0,null,null,1,"p",[["class","app__exrcs-question"]],null,null,null,null,null)),(t()(),Ni(-1,null,["\u041a\u0443\u0434\u0430 \u0438\u0434\u0451\u0442 \u043c\u0435\u043b\u043e\u0434\u0438\u044f?"])),(t()(),bi(5,0,null,null,4,"div",[["class","app__exrcs-answers"]],null,null,null,null,null)),(t()(),bi(6,0,null,null,1,"button",[["class","btn btn-answer"]],[[2,"_disabled",null]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.checkCorrectUpDown(!0)&&s),s},null,null)),(t()(),Ni(-1,null,[" \u0412\u0432\u0435\u0440\u0445 "])),(t()(),bi(8,0,null,null,1,"button",[["class","btn btn-answer"]],[[2,"_disabled",null]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.checkCorrectUpDown(!1)&&s),s},null,null)),(t()(),Ni(-1,null,[" \u0412\u043d\u0438\u0437 "])),(t()(),bi(10,0,null,null,4,"section",[["class","app__exrcs-rule-buttons"]],null,null,null,null,null)),(t()(),bi(11,0,null,null,1,"button",[["class","btn"]],[[2,"_active",null]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.repeat()&&s),s},null,null)),(t()(),Ni(-1,null,[" \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c "])),(t()(),bi(13,0,null,null,1,"button",[["class","btn"]],[[2,"_active",null]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.upDownExercise()&&s),s},null,null)),(t()(),Ni(-1,null,[" \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043c\u0435\u043b\u043e\u0434\u0438\u044f "])),(t()(),bi(15,0,null,null,1,"section",[["class","app_exrcs-answer"]],[[2,"_correct",null]],null,null,null,null)),(t()(),Ni(16,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,6,0,n.answeredAtLeastOnce),t(e,8,0,n.answeredAtLeastOnce),t(e,11,0,n.answeredAtLeastOnce),t(e,13,0,n.answeredAtLeastOnce),t(e,15,0,n.isCorrect),t(e,16,0,n.answer)})}function ff(t){return Vi(0,[(t()(),bi(0,0,null,null,1,"button",[["class","btn btn-answer _small"]],[[2,"_disabled",null]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.checkCorrectWhichNote(t.context.$implicit)&&s),s},null,null)),(t()(),Ni(1,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,n.answeredAtLeastOnce),t(e,1,0,n.getNoteName(e.context.$implicit))})}function mf(t){return Vi(0,[(t()(),bi(0,0,null,null,14,"div",[["class","app__exrcs"]],null,null,null,null,null)),(t()(),bi(1,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),bi(2,0,null,null,5,"div",[["class","app__exrcs-question-area"]],null,null,null,null,null)),(t()(),bi(3,0,null,null,1,"p",[["class","app__exrcs-question"]],null,null,null,null,null)),(t()(),Ni(-1,null,["\u041a\u0430\u043a\u0430\u044f \u044d\u0442\u043e \u043d\u043e\u0442\u0430?"])),(t()(),bi(5,0,null,null,2,"div",[["class","app__exrcs-answers"]],null,null,null,null,null)),(t()(),wi(16777216,null,null,1,null,ff)),Ks(7,278528,null,0,Jp,[Nn,In,bn],{ngForOf:[0,"ngForOf"]},null),(t()(),bi(8,0,null,null,4,"section",[["class","app__exrcs-rule-buttons"]],null,null,null,null,null)),(t()(),bi(9,0,null,null,1,"button",[["class","btn"]],[[2,"_active",null]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.repeat()&&s),s},null,null)),(t()(),Ni(-1,null,[" \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c "])),(t()(),bi(11,0,null,null,1,"button",[["class","btn"]],[[2,"_active",null]],[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.whichNoteExercise()&&s),s},null,null)),(t()(),Ni(-1,null,[" \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043d\u043e\u0442\u0430 "])),(t()(),bi(13,0,null,null,1,"section",[["class","app_exrcs-answer"]],[[2,"_correct",null]],null,null,null,null)),(t()(),Ni(14,null,[" "," "]))],function(t,e){t(e,7,0,e.component.allNotes)},function(t,e){var n=e.component;t(e,9,0,n.answeredAtLeastOnce),t(e,11,0,n.answeredAtLeastOnce),t(e,13,0,n.isCorrect),t(e,14,0,n.answer)})}function gf(t){return Vi(0,[(t()(),bi(0,0,null,null,22,":svg:svg",[["height","300px"],["preserveAspectRatio","xMidYMid meet"],["version","1.0"],["viewBox","0 0 572.000000 358.000000"],["width","300px"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),bi(1,0,null,null,21,":svg:g",[["fill","#000000"],["stroke","none"],["transform","translate(0.000000,358.000000) scale(0.100000,-0.100000)"]],null,null,null,null,null)),(t()(),bi(2,0,null,null,0,":svg:path",[["d","M450 2565 l0 -1015 165 0 165 0 2 -772 3 -773 5 770 5 770 73 3 72 3 0 1014 0 1015 -245 0 -245 0 0 -1015z m354 -208 c2 -44 -1 -77 -6 -77 -5 0 -7 -9 -3 -20 3 -11 2 -28 -4 -37 -9 -15 -10 -12 -11 16 0 29 -2 32 -15 21 -8 -7 -15 -26 -15 -43 0 -24 -3 -28 -12 -19 -15 15 -15 199 0 214 9 9 12 6 12 -15 0 -17 5 -27 15 -27 11 0 15 11 15 42 0 74 21 27 24 -55z m-104 47 c0 -13 -7 -15 -29 -11 -15 3 -37 4 -48 1 -19 -5 -53 -61 -53 -88 0 -27 43 -66 88 -80 l47 -15 -43 0 c-100 -2 -149 67 -107 149 19 37 59 59 108 60 28 0 37 -4 37 -16z"]],null,null,null,null,null)),(t()(),bi(3,0,null,null,0,":svg:path",[["d","M757 2343 c-4 -3 -7 -20 -7 -36 0 -25 2 -28 15 -17 8 7 15 23 15 36 0 23 -10 31 -23 17z"]],null,null,null,null,null)),(t()(),bi(4,0,null,null,0,":svg:path",[["d","M1410 2565 l0 -1014 83 -3 82 -3 5 -770 5 -770 3 773 2 772 155 0 155 0 0 1015 0 1015 -245 0 -245 0 0 -1015z m354 -208 c2 -44 -1 -77 -6 -77 -5 0 -7 -9 -3 -20 3 -11 2 -28 -4 -37 -9 -15 -10 -12 -11 16 0 29 -2 32 -15 21 -8 -7 -15 -26 -15 -43 0 -24 -3 -28 -12 -19 -7 7 -11 47 -11 107 0 60 4 100 11 107 9 9 12 6 12 -15 0 -17 5 -27 15 -27 11 0 15 11 15 42 0 74 21 27 24 -55z m-134 53 c28 -15 40 -62 27 -106 -13 -43 -74 -87 -115 -82 -26 3 -27 6 -30 68 -2 36 0 80 3 98 6 30 8 32 51 32 25 0 54 -4 64 -10z"]],null,null,null,null,null)),(t()(),bi(5,0,null,null,0,":svg:path",[["d","M1717 2343 c-4 -3 -7 -20 -7 -36 0 -25 2 -28 15 -17 8 7 15 23 15 36 0 23 -10 31 -23 17z"]],null,null,null,null,null)),(t()(),bi(6,0,null,null,0,":svg:path",[["d","M1556 2385 c-12 -31 -7 -135 7 -135 18 1 48 26 62 52 9 19 5 62 -9 85 -1 1 -13 4 -27 8 -19 5 -28 2 -33 -10z"]],null,null,null,null,null)),(t()(),bi(7,0,null,null,0,":svg:path",[["d","M2405 1795 c0 -984 1 -1386 2 -892 2 494 2 1300 0 1790 -1 491 -2 87 -2 -898z"]],null,null,null,null,null)),(t()(),bi(8,0,null,null,0,":svg:path",[["d","M2850 2565 l0 -1015 195 0 195 0 2 -772 3 -773 5 770 5 770 43 3 42 3 0 1015 0 1014 -245 0 -245 0 0 -1015z m363 -217 c-3 -16 0 -34 6 -42 8 -10 9 -16 1 -21 -5 -3 -10 -20 -10 -36 0 -18 -4 -28 -10 -24 -5 3 -10 15 -10 26 0 11 -4 17 -10 14 -5 -3 -10 -19 -10 -35 0 -16 -4 -32 -10 -35 -10 -6 -15 35 -11 94 1 20 -3 37 -11 42 -10 7 -10 11 0 21 6 6 12 25 12 41 0 16 4 26 10 22 6 -3 10 -15 10 -26 0 -10 5 -19 10 -19 6 0 10 15 10 33 0 19 3 37 8 41 10 10 21 -63 15 -96z m-98 62 c4 -6 -13 -10 -45 -10 l-51 0 3 -32 c2 -27 8 -34 28 -36 42 -6 47 -22 7 -22 -35 0 -37 -2 -37 -32 0 -18 -5 -40 -10 -48 -17 -26 -30 8 -30 80 0 106 3 110 71 110 32 0 61 -4 64 -10z"]],null,null,null,null,null)),(t()(),bi(9,0,null,null,0,":svg:path",[["d","M3178 2344 c-5 -4 -8 -21 -8 -38 0 -21 3 -27 11 -19 6 6 9 23 7 38 -2 15 -6 23 -10 19z"]],null,null,null,null,null)),(t()(),bi(10,0,null,null,0,":svg:path",[["d","M3810 2565 l0 -1015 135 0 135 0 2 -772 3 -773 5 770 5 770 103 3 102 3 0 1014 0 1015 -245 0 -245 0 0 -1015z m384 -208 c2 -43 -1 -77 -5 -77 -5 0 -7 -11 -3 -24 3 -13 1 -27 -5 -30 -7 -5 -11 3 -11 20 0 22 -2 25 -15 14 -8 -7 -15 -26 -15 -43 0 -24 -3 -28 -12 -19 -7 7 -11 47 -11 107 0 60 4 100 11 107 9 9 12 6 12 -15 0 -17 5 -27 15 -27 11 0 15 11 15 42 0 74 21 27 24 -55z m-104 47 c0 -13 -7 -15 -37 -11 -48 8 -84 -9 -96 -46 -14 -44 -1 -76 38 -93 49 -20 55 -18 55 21 0 24 5 35 15 35 11 0 15 -12 15 -45 l0 -45 -46 0 c-84 0 -130 49 -115 121 10 47 59 79 122 79 39 0 49 -3 49 -16z"]],null,null,null,null,null)),(t()(),bi(11,0,null,null,0,":svg:path",[["d","M4147 2343 c-4 -3 -7 -20 -7 -36 0 -25 2 -28 15 -17 8 7 15 23 15 36 0 23 -10 31 -23 17z"]],null,null,null,null,null)),(t()(),bi(12,0,null,null,0,":svg:path",[["d","M4770 2566 l0 -1015 53 -3 52 -3 5 -770 5 -770 3 773 2 772 185 0 185 0 0 1015 0 1015 -245 0 -245 0 0 -1014z m414 -209 c2 -43 -1 -77 -5 -77 -5 0 -7 -11 -3 -24 3 -13 1 -27 -5 -30 -7 -5 -11 3 -11 20 0 22 -2 25 -15 14 -8 -7 -15 -26 -15 -43 0 -24 -3 -28 -12 -19 -7 7 -11 47 -11 107 0 60 4 100 11 107 9 9 12 6 12 -15 0 -17 5 -27 15 -27 11 0 15 11 15 42 0 74 21 27 24 -55z m-144 -21 c22 -47 40 -92 40 -101 0 -30 -32 -11 -44 25 -9 30 -16 35 -46 37 -40 3 -60 -10 -77 -49 -8 -17 -20 -28 -33 -28 -17 0 -11 14 41 100 34 55 65 100 70 100 5 0 27 -38 49 -84z"]],null,null,null,null,null)),(t()(),bi(13,0,null,null,0,":svg:path",[["d","M5137 2343 c-4 -3 -7 -20 -7 -36 0 -25 2 -28 15 -17 8 7 15 23 15 36 0 23 -10 31 -23 17z"]],null,null,null,null,null)),(t()(),bi(14,0,null,null,0,":svg:path",[["d","M4967 2342 c-24 -26 -21 -32 13 -32 31 0 35 6 24 34 -8 21 -17 20 -37 -2z"]],null,null,null,null,null)),(t()(),bi(15,0,null,null,0,":svg:path",[["d","M317 696 c-44 -16 -53 -23 -44 -33 4 -4 13 -1 19 5 17 17 90 15 116 -4 20 -14 23 -14 28 1 4 9 3 20 -2 25 -17 17 -79 20 -117 6z"]],null,null,null,null,null)),(t()(),bi(16,0,null,null,0,":svg:path",[["d","M1045 702 c-3 -3 -5 -90 -5 -194 l0 -189 23 7 c48 15 133 64 158 91 50 55 63 86 63 144 1 102 -62 152 -183 148 -28 -1 -53 -4 -56 -7z m155 -38 c77 -46 82 -160 10 -235 -21 -22 -80 -55 -112 -63 -25 -6 -28 -3 -34 31 -8 41 1 256 11 273 10 16 94 12 125 -6z"]],null,null,null,null,null)),(t()(),bi(17,0,null,null,0,":svg:path",[["d","M1892 702 c-9 -7 -12 -51 -10 -188 l3 -179 75 -3 c89 -4 120 3 120 24 0 14 -11 15 -84 9 -81 -6 -83 -6 -89 17 -8 29 -8 76 -1 106 5 19 13 22 54 22 27 0 55 3 64 6 32 12 15 24 -36 24 -74 0 -82 8 -83 77 l0 58 84 5 c55 3 86 9 89 18 3 9 -18 12 -85 12 -48 0 -94 -4 -101 -8z"]],null,null,null,null,null)),(t()(),bi(18,0,null,null,0,":svg:path",[["d","M2733 703 c-16 -6 -19 -363 -3 -363 6 0 10 28 10 63 0 102 4 107 65 107 35 0 57 5 65 15 11 13 5 15 -41 15 -30 0 -60 4 -67 8 -16 11 -27 73 -18 106 6 25 9 26 91 26 69 0 85 3 85 15 0 12 -16 15 -87 14 -49 0 -94 -3 -100 -6z"]],null,null,null,null,null)),(t()(),bi(19,0,null,null,0,":svg:path",[["d","M3675 704 c-105 -25 -161 -82 -172 -175 -7 -62 9 -101 58 -140 38 -30 125 -59 179 -59 39 0 50 23 50 109 0 93 -18 92 -22 -1 l-3 -73 -50 0 c-58 1 -138 37 -168 77 -25 34 -26 104 -2 153 28 56 82 85 162 85 34 0 64 -4 67 -9 3 -5 15 -11 26 -14 15 -4 20 0 20 13 0 12 -10 20 -27 24 -55 11 -98 14 -118 10z"]],null,null,null,null,null)),(t()(),bi(20,0,null,null,0,":svg:path",[["d","M4474 678 c-9 -18 -20 -35 -24 -38 -10 -7 -51 -74 -100 -165 -24 -44 -52 -93 -63 -109 -16 -23 -17 -30 -6 -37 14 -9 39 14 39 36 0 17 38 88 52 97 7 4 57 8 110 8 l98 0 20 -40 c11 -21 20 -51 20 -65 0 -27 6 -30 29 -16 11 7 7 24 -26 93 -82 168 -94 194 -104 230 -12 47 -23 48 -45 6z m54 -86 c18 -37 32 -73 32 -80 0 -8 -24 -12 -85 -12 -78 0 -85 2 -85 20 0 11 4 20 8 20 4 0 24 27 43 60 18 33 39 60 45 60 6 0 25 -30 42 -68z"]],null,null,null,null,null)),(t()(),bi(21,0,null,null,0,":svg:path",[["d","M5160 527 c0 -104 4 -188 9 -192 12 -7 96 13 138 32 40 19 67 72 58 114 -10 43 -76 83 -133 80 l-43 -3 3 59 c3 57 3 58 35 61 43 4 83 -23 83 -56 0 -24 1 -25 16 -10 20 20 11 53 -19 73 -12 7 -50 17 -84 21 l-63 7 0 -186z m140 -14 c33 -22 40 -33 40 -64 0 -36 -40 -76 -84 -84 -61 -12 -66 -5 -66 85 l0 80 43 0 c24 0 54 -8 67 -17z"]],null,null,null,null,null)),(t()(),bi(22,0,null,null,0,":svg:path",[["d","M212 614 c-74 -111 -47 -224 65 -271 63 -27 173 -38 173 -19 0 11 -15 13 -65 11 -36 -2 -65 1 -65 6 0 5 -8 9 -17 9 -18 1 -58 31 -82 62 -37 48 -31 152 11 209 12 16 19 31 16 34 -3 3 -19 -15 -36 -41z"]],null,null,null,null,null))],null,null)}function _f(t){return Vi(2,[Ei(671088640,1,{exerciseUpDown:0}),Ei(671088640,2,{whichNote:0}),(t()(),bi(2,0,null,null,2,"header",[["class","app-header"]],null,null,null,null,null)),(t()(),bi(3,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Ni(-1,null,["\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u043d\u0430 \u043c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043b\u0443\u0445"])),(t()(),bi(5,0,null,null,3,"nav",[["class","app-nav"]],null,null,null,null,null)),(t()(),bi(6,0,null,null,2,null,null,null,null,null,null,null)),(t()(),wi(16777216,null,null,1,null,lf)),Ks(8,278528,null,0,Jp,[Nn,In,bn],{ngForOf:[0,"ngForOf"]},null),(t()(),bi(9,0,null,null,4,"main",[["class","app-main"]],null,[[null,"click"]],function(t,e,n){var s=!0;return"click"===e&&(s=!1!==t.component.init()&&s),s},null,null)),(t()(),wi(16777216,null,null,1,null,cf)),Ks(11,16384,null,0,tf,[Nn,In],{ngIf:[0,"ngIf"]},null),(t()(),wi(16777216,null,null,1,null,uf)),Ks(13,540672,null,0,sf,[Nn],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(t()(),wi(16777216,null,null,1,null,hf)),Ks(15,16384,null,0,tf,[Nn,In],{ngIf:[0,"ngIf"]},null),(t()(),bi(16,0,null,null,1,"footer",[["class","app-footer"]],null,null,null,null,null)),(t()(),Ni(-1,null,["(c)"])),(t()(),wi(0,[["taskCard",2]],null,0,null,df)),(t()(),wi(0,[[1,2],["exerciseUpDown",2]],null,0,null,pf)),(t()(),wi(0,[[2,2],["whichNote",2]],null,0,null,mf)),(t()(),wi(0,[["piano",2]],null,0,null,gf))],function(t,e){var n=e.component;t(e,8,0,n.exerciseKeys),t(e,11,0,!n.started),t(e,13,0,n.exercise),t(e,15,0,n.counter.total)},null)}function vf(t){return Vi(0,[(t()(),bi(0,0,null,null,1,"my-app",[],[[2,"app",null]],null,null,_f,of)),Ks(1,4308992,null,0,Bp,[kn],null,null)],function(t,e){t(e,1,0)},function(t,e){t(e,0,0,Hs(e,1).classApp)})}var yf=Ds("my-app",Bp,vf,{},{},[]);class wf extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new wf,Up||(Up=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=xf||(xf=document.querySelector("base"),xf)?xf.getAttribute("href"):null;return null==e?null:(n=e,bf||(bf=document.createElement("a")),bf.setAttribute("href",n),"/"===bf.pathname.charAt(0)?bf.pathname:"/"+bf.pathname);var n}resetBaseElement(){xf=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[s,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}}let bf,xf=null;const Tf=new dt("TRANSITION_ID"),Cf=[{provide:_r,useFactory:function(t,e,n){return()=>{n.get(vr).donePromise.then(()=>{const n=Wp();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Tf,$p,Te],multi:!0}];class kf{static init(){var t;t=new kf,Gr=t}addToWindow(t){lt.getAngularTestability=(e,n=!0)=>{const s=t.findTestabilityInTree(e,n);if(null==s)throw new Error("Could not find testability for element.");return s},lt.getAllAngularTestabilities=()=>t.getAllTestabilities(),lt.getAllAngularRootElements=()=>t.getAllRootElements(),lt.frameworkStabilizers||(lt.frameworkStabilizers=[]),lt.frameworkStabilizers.push(t=>{const e=lt.getAllAngularTestabilities();let n=e.length,s=!1;const r=function(e){s=s||e,n--,0==n&&t(s)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:n?Wp().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}function Ef(t,e){"undefined"!=typeof COMPILED&&COMPILED||((lt.ng=lt.ng||{})[t]=e)}const Sf=(()=>({ApplicationRef:si,NgZone:Fr}))();function Af(t){return hi(t)}const Of=new dt("EventManagerPlugins");class If{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let s=0;s<n.length;s++){const e=n[s];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}class Mf{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const s=Wp().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,n)}}class Df{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class Nf extends Df{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Wp().remove(t))}}const Rf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pf=/%COMP%/g;function Vf(t,e,n){for(let s=0;s<e.length;s++){let r=e[s];Array.isArray(r)?Vf(t,r,n):(r=r.replace(Pf,t),n.push(r))}return n}function Ff(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class jf{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Lf(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case st.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new qf(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case st.ShadowDom:return new zf(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Vf(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Lf{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Rf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,s){if(s){e=s+":"+e;const r=Rf[s];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const s=Rf[n];s?t.removeAttributeNS(s,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,s){s&(ve.DashCase|ve.Important)?t.style.setProperty(e,n,s&ve.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ve.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ff(n)):this.eventManager.addEventListener(t,e,Ff(n))}}class qf extends Lf{constructor(t,e,n,s){super(t),this.component=n;const r=Vf(s+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Pf,s+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Pf,s+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class zf extends Lf{constructor(t,e,n,s){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Vf(s.id,s.styles,[]);for(let i=0;i<r.length;i++){const t=document.createElement("style");t.textContent=r[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}class Zf extends Mf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}const Hf={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Bf=new dt("HammerGestureConfig"),Uf=new dt("HammerLoader");class Wf{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class $f extends Mf{constructor(t,e,n,s){super(t),this._config=e,this.console=n,this.loader=s}supports(t){return!(!Hf.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(t,e,n){const s=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let s=!1,r=()=>{s=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=()=>{});s||(r=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom Hammer.JS loader failed.`),r=()=>{}}),()=>{r()}}return s.runOutsideAngular(()=>{const r=this._config.buildHammer(t),i=function(t){s.runGuarded(function(){n(t)})};return r.on(e,i),()=>{r.off(e,i),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const Gf=["alt","control","meta","shift"],Yf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qf={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xf={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Jf extends Mf{constructor(t){super(t)}supports(t){return null!=Jf.parseEventName(t)}addEventListener(t,e,n){const s=Jf.parseEventName(e),r=Jf.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wp().onAndCancel(t,s.domEventName,r))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const s=Jf._normalizeKey(e.pop());let r="";if(Gf.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r+=t+".")}),r+=s,0!=e.length||0===s.length)return null;const i={};return i.domEventName=n,i.fullKey=r,i}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Qf.hasOwnProperty(e)&&(e=Qf[e]))}return Yf[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Gf.forEach(s=>{s!=n&&(0,Xf[s])(t)&&(e+=s+".")}),e+=n,e}static eventCallback(t,e,n){return s=>{Jf.getEventFullKey(s)===t&&n.runGuarded(()=>e(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}let Kf=(()=>{class t{}return t.\u0275prov=X({factory:function(){return bt(tm)},token:t,providedIn:"root"}),t})(),tm=(()=>{class t extends Kf{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case ae.NONE:return e;case ae.HTML:return Ft(e,"HTML")?Vt(e):function(t,e){let n=null;try{ie=ie||function(t){const e=new qt(t);return function(){try{return!!(new window.DOMParser).parseFromString(Ot(""),"text/html")}catch(t){return!1}}()?new Lt(e):e}(t);let s=e?String(e):"";n=ie.getInertBodyElement(s);let r=5,i=s;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,s=i,i=n.innerHTML,n=ie.getInertBodyElement(s)}while(s!==i);return Ot((new ee).sanitizeChildren(oe(n)||n))}finally{if(n){const t=oe(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)).toString();case ae.STYLE:return Ft(e,"Style")?Vt(e):e;case ae.SCRIPT:if(Ft(e,"Script"))return Vt(e);throw new Error("unsafe value used in a script context");case ae.URL:return jt(e),Ft(e,"URL")?Vt(e):Ht(String(e));case ae.RESOURCE_URL:if(Ft(e,"ResourceURL"))return Vt(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new Mt(t)}bypassSecurityTrustStyle(t){return new Dt(t)}bypassSecurityTrustScript(t){return new Nt(t)}bypassSecurityTrustUrl(t){return new Rt(t)}bypassSecurityTrustResourceUrl(t){return new Pt(t)}}return t.\u0275prov=X({factory:function(){return t=bt(ye),new tm(t.get($p));var t},token:t,providedIn:"root"}),t})();function em(){return new he}const nm=Kr(fi,"browser",[{provide:Tr,useValue:"browser"},{provide:xr,useValue:function(){wf.makeCurrent(),kf.init()},multi:!0},{provide:$p,useFactory:function(){return function(t){ut=t}(document),document},deps:[]}]);class sm{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:sm,providers:[{provide:yr,useValue:t.appId},{provide:Tf,useExisting:yr},Cf]}}}"undefined"!=typeof window&&window;class rm{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}class im{}class om{}var am=Zo(Bo,[Bp],function(t){return function(t){const e={},n=[];let s=null;for(let r=0;r<t.length;r++){const i=t[r];i.token===be&&(s=i.value),1073741824&i.flags&&n.push(i.token),i.index=r,e[$n(i.token)]=i}return{factory:null,providersByKey:e,providers:t,modules:n,scope:s}}([ks(512,Qe,Xe,[[8,[yf]],[3,Qe],Mn]),ks(5120,Er,_i,[[3,Er]]),ks(4608,Yp,Qp,[Er]),ks(5120,pr,vi,[Fr]),ks(4608,Nr,Nr,[]),ks(5120,yr,wr,[]),ks(5120,bn,mi,[]),ks(5120,Tn,gi,[]),ks(4608,Kf,tm,[$p]),ks(6144,an,null,[Kf]),ks(4608,Bf,Wf,[]),ks(5120,Of,function(t,e,n,s,r,i,o,a){return[new Zf(t,e,n),new Jf(s),new $f(r,i,o,a)]},[$p,Fr,Tr,$p,$p,Bf,kr,[2,Uf]]),ks(4608,If,If,[Of,Fr]),ks(135680,Nf,Nf,[$p]),ks(4608,jf,jf,[If,Nf,yr]),ks(6144,sn,null,[jf]),ks(6144,Df,null,[Nf]),ks(4608,Br,Br,[Fr]),ks(4608,rm,rm,[]),ks(1073742336,rf,rf,[]),ks(1024,he,em,[]),ks(1024,_r,function(t){return[(e=t,Ef("probe",Af),Ef("coreTokens",Object.assign(Object.assign({},Sf),(e||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Af)];var e},[[2,Jr]]),ks(512,vr,vr,[[2,_r]]),ks(131584,si,si,[Fr,kr,Te,he,Qe,vr]),ks(1073742336,yi,yi,[si]),ks(1073742336,sm,sm,[[3,sm]]),ks(1073742336,im,im,[]),ks(1073742336,om,om,[]),ks(1073742336,Bo,Bo,[]),ks(256,Sr,"USD",[]),ks(256,be,"root",[])])});nm().bootstrapModuleFactory(am).then(t=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=t}).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);