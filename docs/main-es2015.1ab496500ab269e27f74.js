(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},BNHZ:function(t,e,n){!function(t,e,n,s){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(e),o=r(n),a=r(s),c=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},l=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},u=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},d=function(t,e,n){var s=n.target;return s+(e-s)*Math.exp((n.startTime-t)/n.timeConstant)},p=function(t){return"exponentialRampToValue"===t.type},f=function(t){return"linearRampToValue"===t.type},m=function(t){return p(t)||f(t)},_=function(t){return"setValue"===t.type},g=function(t){return"setValueCurve"===t.type},v=function t(e,n,s,r){var i=e[n];return void 0===i?r:m(i)||_(i)?i.value:g(i)?i.values[i.values.length-1]:d(s,t(e,n-1,i.startTime,r),i)},y=function(t,e,n,s,r){return void 0===n?[s.insertTime,r]:m(n)?[n.endTime,n.value]:_(n)?[n.startTime,n.value]:g(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,v(t,e-1,n.startTime,r)]},w=function(t){return"cancelAndHold"===t.type},b=function(t){return"cancelScheduledValues"===t.type},T=function(t){return w(t)||b(t)?t.cancelTime:p(t)||f(t)?t.endTime:t.startTime},x=function(t,e,n,s){var r=s.value;return n===r?r:0<n&&0<r||n<0&&r<0?n*Math.pow(r/n,(t-e)/(s.endTime-e)):0},C=function(t,e,n,s){return n+(t-e)/(s.endTime-e)*(s.value-n)},k=function(t){return"setTarget"===t.type};t.AutomationEventList=function(){function t(e){o.default(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return a.default(t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=T(t);if(w(t)||b(t)){var n=this._automationEvents.findIndex(function(n){return b(t)&&g(n)?n.startTime+n.duration>=e:T(n)>=e}),s=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),w(t)){var r=this._automationEvents[this._automationEvents.length-1];if(void 0!==s&&m(s)){if(k(r))throw new Error("The internal list is malformed.");var i=g(r)?r.startTime+r.duration:T(r),o=g(r)?r.values[r.values.length-1]:r.value,a=p(s)?x(e,i,o,s):C(e,i,o,s),d=p(s)?c(a,e,this._currenTime):l(a,e,this._currenTime);this._automationEvents.push(d)}void 0!==r&&k(r)&&this._automationEvents.push(u(this.getValue(e),e)),void 0!==r&&g(r)&&r.startTime+r.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),r.startTime,e-r.startTime))}}else{var _=this._automationEvents.findIndex(function(t){return T(t)>e}),v=-1===_?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[_-1];if(void 0!==v&&g(v)&&T(v)+v.duration>e)return!1;var y=p(t)?c(t.value,t.endTime,this._currenTime):f(t)?l(t.value,e,this._currenTime):t;if(-1===_)this._automationEvents.push(y);else{if(g(t)&&e+t.duration>T(this._automationEvents[_]))return!1;this._automationEvents.splice(_,0,y)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex(function(e){return T(e)>t});if(e>1){var n=this._automationEvents.slice(e-1),s=n[0];k(s)&&n.unshift(u(v(this._automationEvents,e-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents[this._automationEvents.length-1],n=this._automationEvents.findIndex(function(e){return T(e)>t}),s=this._automationEvents[n],r=T(e)<=t?e:this._automationEvents[n-1];if(void 0!==r&&k(r)&&(void 0===s||!m(s)||s.insertTime>t))return d(t,v(this._automationEvents,n-2,r.startTime,this._defaultValue),r);if(void 0!==r&&_(r)&&(void 0===s||!m(s)))return r.value;if(void 0!==r&&g(r)&&(void 0===s||!m(s)||r.startTime+r.duration>t))return t<r.startTime+r.duration?function(t,e){var n=e.values;return function(t,e){var n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]}(n,(t-e.startTime)/e.duration*(n.length-1))}(t,r):r.values[r.values.length-1];if(void 0!==r&&m(r)&&(void 0===s||!m(s)))return r.value;if(void 0!==s&&p(s)){var o=y(this._automationEvents,n-1,r,s,this._defaultValue),a=i.default(o,2);return x(t,a[0],a[1],s)}if(void 0!==s&&f(s)){var c=y(this._automationEvents,n-1,r,s,this._defaultValue),l=i.default(c,2);return C(t,l[0],l[1],s)}return this._defaultValue}}]),t}(),t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=u,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("J4zp"),n("lwsE"),n("W8MJ"))},J4zp:function(t,e,n){var s=n("wTVA"),r=n("m0LI"),i=n("ZhPi"),o=n("wkBT");t.exports=function(t,e){return s(t)||r(t,e)||i(t,e)||o()}},W8MJ:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}t.exports=function(t,e,s){return e&&n(t.prototype,e),s&&n(t,s),t}},WkPL:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}},ZhPi:function(t,e,n){var s=n("WkPL");t.exports=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}},"hN/g":function(t,e,n){"use strict";n.r(e),n("pDpN")},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},m0LI:function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],s=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(s=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);s=!0);}catch(c){r=!0,i=c}finally{try{s||null==a.return||a.return()}finally{if(r)throw i}}return n}}},pDpN:function(t,e){!function(t){const e=t.performance;function n(t){e&&e.mark&&e.mark(t)}function s(t,n){e&&e.measure&&e.measure(t,n)}n("Zone");const r=t.__Zone_symbol_prefix||"__zone_symbol__";function i(t){return r+t}const o=!0===t[i("forceDuplicateZoneCheck")];if(t.Zone){if(o||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}class a{constructor(t,e){this._parent=t,this._name=e?e.name||"unnamed":"<root>",this._properties=e&&e.properties||{},this._zoneDelegate=new l(this,this._parent&&this._parent._zoneDelegate,e)}static assertZonePatched(){if(t.Promise!==O.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=a.current;for(;t.parent;)t=t.parent;return t}static get current(){return D.zone}static get currentTask(){return I}static __load_patch(e,r){if(O.hasOwnProperty(e)){if(o)throw Error("Already loaded patch: "+e)}else if(!t["__Zone_disable_"+e]){const i="Zone:"+e;n(i),O[e]=r(t,a,M),s(i,i)}}get parent(){return this._parent}get name(){return this._name}get(t){const e=this.getZoneWith(t);if(e)return e._properties[t]}getZoneWith(t){let e=this;for(;e;){if(e._properties.hasOwnProperty(t))return e;e=e._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const n=this._zoneDelegate.intercept(this,t,e),s=this;return function(){return s.runGuarded(n,this,arguments,e)}}run(t,e,n,s){D={parent:D,zone:this};try{return this._zoneDelegate.invoke(this,t,e,n,s)}finally{D=D.parent}}runGuarded(t,e=null,n,s){D={parent:D,zone:this};try{try{return this._zoneDelegate.invoke(this,t,e,n,s)}catch(r){if(this._zoneDelegate.handleError(this,r))throw r}}finally{D=D.parent}}runTask(t,e,n){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||y).name+"; Execution: "+this.name+")");if(t.state===w&&(t.type===E||t.type===A))return;const s=t.state!=x;s&&t._transitionTo(x,T),t.runCount++;const r=I;I=t,D={parent:D,zone:this};try{t.type==A&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,e,n)}catch(i){if(this._zoneDelegate.handleError(this,i))throw i}}finally{t.state!==w&&t.state!==k&&(t.type==E||t.data&&t.data.isPeriodic?s&&t._transitionTo(T,x):(t.runCount=0,this._updateTaskCount(t,-1),s&&t._transitionTo(w,x,w))),D=D.parent,I=r}}scheduleTask(t){if(t.zone&&t.zone!==this){let e=this;for(;e;){if(e===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);e=e.parent}}t._transitionTo(b,w);const e=[];t._zoneDelegates=e,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(n){throw t._transitionTo(k,b,w),this._zoneDelegate.handleError(this,n),n}return t._zoneDelegates===e&&this._updateTaskCount(t,1),t.state==b&&t._transitionTo(T,b),t}scheduleMicroTask(t,e,n,s){return this.scheduleTask(new u(S,t,e,n,s,void 0))}scheduleMacroTask(t,e,n,s,r){return this.scheduleTask(new u(A,t,e,n,s,r))}scheduleEventTask(t,e,n,s,r){return this.scheduleTask(new u(E,t,e,n,s,r))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||y).name+"; Execution: "+this.name+")");t._transitionTo(C,T,x);try{this._zoneDelegate.cancelTask(this,t)}catch(e){throw t._transitionTo(k,C),this._zoneDelegate.handleError(this,e),e}return this._updateTaskCount(t,-1),t._transitionTo(w,C),t.runCount=0,t}_updateTaskCount(t,e){const n=t._zoneDelegates;-1==e&&(t._zoneDelegates=null);for(let s=0;s<n.length;s++)n[s]._updateTaskCount(t.type,e)}}a.__symbol__=i;const c={name:"",onHasTask:(t,e,n,s)=>t.hasTask(n,s),onScheduleTask:(t,e,n,s)=>t.scheduleTask(n,s),onInvokeTask:(t,e,n,s,r,i)=>t.invokeTask(n,s,r,i),onCancelTask:(t,e,n,s)=>t.cancelTask(n,s)};class l{constructor(t,e,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=e,this._forkZS=n&&(n&&n.onFork?n:e._forkZS),this._forkDlgt=n&&(n.onFork?e:e._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:e._forkCurrZone),this._interceptZS=n&&(n.onIntercept?n:e._interceptZS),this._interceptDlgt=n&&(n.onIntercept?e:e._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:e._interceptCurrZone),this._invokeZS=n&&(n.onInvoke?n:e._invokeZS),this._invokeDlgt=n&&(n.onInvoke?e:e._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:e._invokeCurrZone),this._handleErrorZS=n&&(n.onHandleError?n:e._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?e:e._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:e._handleErrorCurrZone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:e._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?e:e._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:e._scheduleTaskCurrZone),this._invokeTaskZS=n&&(n.onInvokeTask?n:e._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?e:e._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:e._invokeTaskCurrZone),this._cancelTaskZS=n&&(n.onCancelTask?n:e._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?e:e._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:e._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const s=n&&n.onHasTask;(s||e&&e._hasTaskZS)&&(this._hasTaskZS=s?n:c,this._hasTaskDlgt=e,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,n.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=e,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=e,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=e,this._cancelTaskCurrZone=this.zone))}fork(t,e){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,e):new a(t,e)}intercept(t,e,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,e,n):e}invoke(t,e,n,s,r){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,e,n,s,r):e.apply(n,s)}handleError(t,e){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,e)}scheduleTask(t,e){let n=e;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,e),n||(n=e);else if(e.scheduleFn)e.scheduleFn(e);else{if(e.type!=S)throw new Error("Task is missing scheduleFn.");g(e)}return n}invokeTask(t,e,n,s){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,e,n,s):e.callback.apply(n,s)}cancelTask(t,e){let n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,e);else{if(!e.cancelFn)throw Error("Task is not cancelable");n=e.cancelFn(e)}return n}hasTask(t,e){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,e)}catch(n){this.handleError(t,n)}}_updateTaskCount(t,e){const n=this._taskCounts,s=n[t],r=n[t]=s+e;if(r<0)throw new Error("More tasks executed then were scheduled.");0!=s&&0!=r||this.hasTask(this.zone,{microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:t})}}class u{constructor(e,n,s,r,i,o){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=n,this.data=r,this.scheduleFn=i,this.cancelFn=o,!s)throw new Error("callback is not defined");this.callback=s;const a=this;this.invoke=e===E&&r&&r.useG?u.invokeTask:function(){return u.invokeTask.call(t,a,this,arguments)}}static invokeTask(t,e,n){t||(t=this),N++;try{return t.runCount++,t.zone.runTask(t,e,n)}finally{1==N&&v(),N--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(w,b)}_transitionTo(t,e,n){if(this._state!==e&&this._state!==n)throw new Error(`${this.type} '${this.source}': can not transition to '${t}', expecting state '${e}'${n?" or '"+n+"'":""}, was '${this._state}'.`);this._state=t,t==w&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const h=i("setTimeout"),d=i("Promise"),p=i("then");let f,m=[],_=!1;function g(e){if(0===N&&0===m.length)if(f||t[d]&&(f=t[d].resolve(0)),f){let t=f[p];t||(t=f.then),t.call(f,v)}else t[h](v,0);e&&m.push(e)}function v(){if(!_){for(_=!0;m.length;){const e=m;m=[];for(let n=0;n<e.length;n++){const s=e[n];try{s.zone.runTask(s,null,null)}catch(t){M.onUnhandledError(t)}}}M.microtaskDrainDone(),_=!1}}const y={name:"NO ZONE"},w="notScheduled",b="scheduling",T="scheduled",x="running",C="canceling",k="unknown",S="microTask",A="macroTask",E="eventTask",O={},M={symbol:i,currentZoneFrame:()=>D,onUnhandledError:P,microtaskDrainDone:P,scheduleMicroTask:g,showUncaughtError:()=>!a[i("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:P,patchMethod:()=>P,bindArguments:()=>[],patchThen:()=>P,patchMacroTask:()=>P,patchEventPrototype:()=>P,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>P,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>P,wrapWithCurrentZone:()=>P,filterProperties:()=>[],attachOriginToPatched:()=>P,_redefineProperty:()=>P,patchCallbacks:()=>P};let D={parent:null,zone:new a(null,null)},I=null,N=0;function P(){}s("Zone","Zone"),t.Zone=a}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const n=Object.getOwnPropertyDescriptor,s=Object.defineProperty,r=Object.getPrototypeOf,i=Object.create,o=Array.prototype.slice,a=Zone.__symbol__("addEventListener"),c=Zone.__symbol__("removeEventListener"),l=Zone.__symbol__("");function u(t,e){return Zone.current.wrap(t,e)}function h(t,e,n,s,r){return Zone.current.scheduleMacroTask(t,e,n,s,r)}const d=Zone.__symbol__,p="undefined"!=typeof window,f=p?window:void 0,m=p&&f||"object"==typeof self&&self||global,_=[null];function g(t,e){for(let n=t.length-1;n>=0;n--)"function"==typeof t[n]&&(t[n]=u(t[n],e+"_"+n));return t}function v(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}const y="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,w=!("nw"in m)&&void 0!==m.process&&"[object process]"==={}.toString.call(m.process),b=!w&&!y&&!(!p||!f.HTMLElement),T=void 0!==m.process&&"[object process]"==={}.toString.call(m.process)&&!y&&!(!p||!f.HTMLElement),x={},C=function(t){if(!(t=t||m.event))return;let e=x[t.type];e||(e=x[t.type]=d("ON_PROPERTY"+t.type));const n=this||t.target||m,s=n[e];let r;if(b&&n===f&&"error"===t.type){const e=t;r=s&&s.call(this,e.message,e.filename,e.lineno,e.colno,e.error),!0===r&&t.preventDefault()}else r=s&&s.apply(this,arguments),null==r||r||t.preventDefault();return r};function k(t,e,r){let i=n(t,e);if(!i&&r&&n(r,e)&&(i={enumerable:!0,configurable:!0}),!i||!i.configurable)return;const o=d("on"+e+"patched");if(t.hasOwnProperty(o)&&t[o])return;delete i.writable,delete i.value;const a=i.get,c=i.set,l=e.substr(2);let u=x[l];u||(u=x[l]=d("ON_PROPERTY"+l)),i.set=function(e){let n=this;n||t!==m||(n=m),n&&(n[u]&&n.removeEventListener(l,C),c&&c.apply(n,_),"function"==typeof e?(n[u]=e,n.addEventListener(l,C,!1)):n[u]=null)},i.get=function(){let n=this;if(n||t!==m||(n=m),!n)return null;const s=n[u];if(s)return s;if(a){let t=a&&a.call(this);if(t)return i.set.call(this,t),"function"==typeof n.removeAttribute&&n.removeAttribute(e),t}return null},s(t,e,i),t[o]=!0}function S(t,e,n){if(e)for(let s=0;s<e.length;s++)k(t,"on"+e[s],n);else{const e=[];for(const n in t)"on"==n.substr(0,2)&&e.push(n);for(let s=0;s<e.length;s++)k(t,e[s],n)}}const A=d("originalInstance");function E(t){const e=m[t];if(!e)return;m[d(t)]=e,m[t]=function(){const n=g(arguments,t);switch(n.length){case 0:this[A]=new e;break;case 1:this[A]=new e(n[0]);break;case 2:this[A]=new e(n[0],n[1]);break;case 3:this[A]=new e(n[0],n[1],n[2]);break;case 4:this[A]=new e(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},D(m[t],e);const n=new e(function(){});let r;for(r in n)"XMLHttpRequest"===t&&"responseBlob"===r||function(e){"function"==typeof n[e]?m[t].prototype[e]=function(){return this[A][e].apply(this[A],arguments)}:s(m[t].prototype,e,{set:function(n){"function"==typeof n?(this[A][e]=u(n,t+"."+e),D(this[A][e],n)):this[A][e]=n},get:function(){return this[A][e]}})}(r);for(r in e)"prototype"!==r&&e.hasOwnProperty(r)&&(m[t][r]=e[r])}function O(t,e,s){let i=t;for(;i&&!i.hasOwnProperty(e);)i=r(i);!i&&t[e]&&(i=t);const o=d(e);let a=null;if(i&&!(a=i[o])&&(a=i[o]=i[e],v(i&&n(i,e)))){const t=s(a,o,e);i[e]=function(){return t(this,arguments)},D(i[e],a)}return a}function M(t,e,n){let s=null;function r(t){const e=t.data;return e.args[e.cbIdx]=function(){t.invoke.apply(this,arguments)},s.apply(e.target,e.args),t}s=O(t,e,t=>function(e,s){const i=n(e,s);return i.cbIdx>=0&&"function"==typeof s[i.cbIdx]?h(i.name,s[i.cbIdx],i,r):t.apply(e,s)})}function D(t,e){t[d("OriginalDelegate")]=e}let I=!1,N=!1;function P(){try{const t=f.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}function R(){if(I)return N;I=!0;try{const t=f.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(N=!0)}catch(t){}return N}Zone.__load_patch("ZoneAwarePromise",(t,e,n)=>{const s=Object.getOwnPropertyDescriptor,r=Object.defineProperty,i=n.symbol,o=[],a=!0===t[i("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],c=i("Promise"),l=i("then");n.onUnhandledError=t=>{if(n.showUncaughtError()){const e=t&&t.rejection;e?console.error("Unhandled Promise rejection:",e instanceof Error?e.message:e,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",e,e instanceof Error?e.stack:void 0):console.error(t)}},n.microtaskDrainDone=()=>{for(;o.length;){const e=o.shift();try{e.zone.runGuarded(()=>{if(e.throwOriginal)throw e.rejection;throw e})}catch(t){h(t)}}};const u=i("unhandledPromiseRejectionHandler");function h(t){n.onUnhandledError(t);try{const n=e[u];"function"==typeof n&&n.call(this,t)}catch(s){}}function d(t){return t&&t.then}function p(t){return t}function f(t){return A.reject(t)}const m=i("state"),_=i("value"),g=i("finally"),v=i("parentPromiseValue"),y=i("parentPromiseState");function w(t,e){return n=>{try{T(t,e,n)}catch(s){T(t,!1,s)}}}const b=i("currentTaskTrace");function T(t,s,i){const c=function(){let t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}}();if(t===i)throw new TypeError("Promise resolved with itself");if(null===t[m]){let h=null;try{"object"!=typeof i&&"function"!=typeof i||(h=i&&i.then)}catch(u){return c(()=>{T(t,!1,u)})(),t}if(!1!==s&&i instanceof A&&i.hasOwnProperty(m)&&i.hasOwnProperty(_)&&null!==i[m])C(i),T(t,i[m],i[_]);else if(!1!==s&&"function"==typeof h)try{h.call(i,c(w(t,s)),c(w(t,!1)))}catch(u){c(()=>{T(t,!1,u)})()}else{t[m]=s;const c=t[_];if(t[_]=i,t[g]===g&&!0===s&&(t[m]=t[y],t[_]=t[v]),!1===s&&i instanceof Error){const t=e.currentTask&&e.currentTask.data&&e.currentTask.data.__creationTrace__;t&&r(i,b,{configurable:!0,enumerable:!1,writable:!0,value:t})}for(let e=0;e<c.length;)k(t,c[e++],c[e++],c[e++],c[e++]);if(0==c.length&&0==s){t[m]=0;let s=i;try{throw new Error("Uncaught (in promise): "+((l=i)&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l))+(i&&i.stack?"\n"+i.stack:""))}catch(u){s=u}a&&(s.throwOriginal=!0),s.rejection=i,s.promise=t,s.zone=e.current,s.task=e.currentTask,o.push(s),n.scheduleMicroTask()}}}var l;return t}const x=i("rejectionHandledHandler");function C(t){if(0===t[m]){try{const n=e[x];n&&"function"==typeof n&&n.call(this,{rejection:t[_],promise:t})}catch(n){}t[m]=!1;for(let e=0;e<o.length;e++)t===o[e].promise&&o.splice(e,1)}}function k(t,e,n,s,r){C(t);const i=t[m],o=i?"function"==typeof s?s:p:"function"==typeof r?r:f;e.scheduleMicroTask("Promise.then",()=>{try{const s=t[_],r=!!n&&g===n[g];r&&(n[v]=s,n[y]=i);const a=e.run(o,void 0,r&&o!==f&&o!==p?[]:[s]);T(n,!0,a)}catch(s){T(n,!1,s)}},n)}const S=function(){};class A{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(t){return T(new this(null),!0,t)}static reject(t){return T(new this(null),!1,t)}static race(t){let e,n,s=new this((t,s)=>{e=t,n=s});function r(t){e(t)}function i(t){n(t)}for(let o of t)d(o)||(o=this.resolve(o)),o.then(r,i);return s}static all(t){return A.allWithCallback(t)}static allSettled(t){return(this&&this.prototype instanceof A?this:A).allWithCallback(t,{thenCallback:t=>({status:"fulfilled",value:t}),errorCallback:t=>({status:"rejected",reason:t})})}static allWithCallback(t,e){let n,s,r=new this((t,e)=>{n=t,s=e}),i=2,o=0;const a=[];for(let l of t){d(l)||(l=this.resolve(l));const t=o;try{l.then(s=>{a[t]=e?e.thenCallback(s):s,i--,0===i&&n(a)},r=>{e?(a[t]=e.errorCallback(r),i--,0===i&&n(a)):s(r)})}catch(c){s(c)}i++,o++}return i-=2,0===i&&n(a),r}constructor(t){const e=this;if(!(e instanceof A))throw new Error("Must be an instanceof Promise.");e[m]=null,e[_]=[];try{t&&t(w(e,!0),w(e,!1))}catch(n){T(e,!1,n)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return A}then(t,n){let s=this.constructor[Symbol.species];s&&"function"==typeof s||(s=this.constructor||A);const r=new s(S),i=e.current;return null==this[m]?this[_].push(i,r,t,n):k(this,i,r,t,n),r}catch(t){return this.then(null,t)}finally(t){let n=this.constructor[Symbol.species];n&&"function"==typeof n||(n=A);const s=new n(S);s[g]=g;const r=e.current;return null==this[m]?this[_].push(r,s,t,t):k(this,r,s,t,t),s}}A.resolve=A.resolve,A.reject=A.reject,A.race=A.race,A.all=A.all;const E=t[c]=t.Promise;t.Promise=A;const M=i("thenPatched");function D(t){const e=t.prototype,n=s(e,"then");if(n&&(!1===n.writable||!n.configurable))return;const r=e.then;e[l]=r,t.prototype.then=function(t,e){return new A((t,e)=>{r.call(this,t,e)}).then(t,e)},t[M]=!0}return n.patchThen=D,E&&(D(E),O(t,"fetch",t=>{return e=t,function(t,n){let s=e.apply(t,n);if(s instanceof A)return s;let r=s.constructor;return r[M]||D(r),s};var e})),Promise[e.__symbol__("uncaughtPromiseErrors")]=o,A}),Zone.__load_patch("toString",t=>{const e=Function.prototype.toString,n=d("OriginalDelegate"),s=d("Promise"),r=d("Error"),i=function(){if("function"==typeof this){const i=this[n];if(i)return"function"==typeof i?e.call(i):Object.prototype.toString.call(i);if(this===Promise){const n=t[s];if(n)return e.call(n)}if(this===Error){const n=t[r];if(n)return e.call(n)}}return e.call(this)};i[n]=e,Function.prototype.toString=i;const o=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":o.call(this)}});let V=!1;if("undefined"!=typeof window)try{const t=Object.defineProperty({},"passive",{get:function(){V=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(lt){V=!1}const j={useG:!0},F={},q={},L=new RegExp("^"+l+"(\\w+)(true|false)$"),z=d("propagationStopped");function H(t,e){const n=(e?e(t):t)+"false",s=(e?e(t):t)+"true",r=l+n,i=l+s;F[t]={},F[t].false=r,F[t].true=i}function Z(t,e,n){const s=n&&n.add||"addEventListener",i=n&&n.rm||"removeEventListener",o=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",c=d(s),u="."+s+":",h=function(t,e,n){if(t.isRemoved)return;const s=t.callback;"object"==typeof s&&s.handleEvent&&(t.callback=t=>s.handleEvent(t),t.originalDelegate=s),t.invoke(t,e,[n]);const r=t.options;r&&"object"==typeof r&&r.once&&e[i].call(e,n.type,t.originalDelegate?t.originalDelegate:t.callback,r)},p=function(e){if(!(e=e||t.event))return;const n=this||e.target||t,s=n[F[e.type].false];if(s)if(1===s.length)h(s[0],n,e);else{const t=s.slice();for(let s=0;s<t.length&&(!e||!0!==e[z]);s++)h(t[s],n,e)}},f=function(e){if(!(e=e||t.event))return;const n=this||e.target||t,s=n[F[e.type].true];if(s)if(1===s.length)h(s[0],n,e);else{const t=s.slice();for(let s=0;s<t.length&&(!e||!0!==e[z]);s++)h(t[s],n,e)}};function m(e,n){if(!e)return!1;let h=!0;n&&void 0!==n.useG&&(h=n.useG);const m=n&&n.vh;let _=!0;n&&void 0!==n.chkDup&&(_=n.chkDup);let g=!1;n&&void 0!==n.rt&&(g=n.rt);let v=e;for(;v&&!v.hasOwnProperty(s);)v=r(v);if(!v&&e[s]&&(v=e),!v)return!1;if(v[c])return!1;const y=n&&n.eventNameToString,b={},T=v[c]=v[s],x=v[d(i)]=v[i],C=v[d(o)]=v[o],k=v[d(a)]=v[a];let S;function A(t,e){return!V&&"object"==typeof t&&t?!!t.capture:V&&e?"boolean"==typeof t?{capture:t,passive:!0}:t?"object"==typeof t&&!1!==t.passive?Object.assign(Object.assign({},t),{passive:!0}):t:{passive:!0}:t}n&&n.prepend&&(S=v[d(n.prepend)]=v[n.prepend]);const E=h?function(t){if(!b.isExisting)return T.call(b.target,b.eventName,b.capture?f:p,b.options)}:function(t){return T.call(b.target,b.eventName,t.invoke,b.options)},O=h?function(t){if(!t.isRemoved){const e=F[t.eventName];let n;e&&(n=e[t.capture?"true":"false"]);const s=n&&t.target[n];if(s)for(let r=0;r<s.length;r++)if(s[r]===t){s.splice(r,1),t.isRemoved=!0,0===s.length&&(t.allRemoved=!0,t.target[n]=null);break}}if(t.allRemoved)return x.call(t.target,t.eventName,t.capture?f:p,t.options)}:function(t){return x.call(t.target,t.eventName,t.invoke,t.options)},M=n&&n.diff?n.diff:function(t,e){const n=typeof e;return"function"===n&&t.callback===e||"object"===n&&t.originalDelegate===e},I=Zone[d("UNPATCHED_EVENTS")],N=t[d("PASSIVE_EVENTS")],P=function(e,s,r,i,o=!1,a=!1){return function(){const c=this||t;let l=arguments[0];n&&n.transferEventName&&(l=n.transferEventName(l));let u=arguments[1];if(!u)return e.apply(this,arguments);if(w&&"uncaughtException"===l)return e.apply(this,arguments);let d=!1;if("function"!=typeof u){if(!u.handleEvent)return e.apply(this,arguments);d=!0}if(m&&!m(e,u,c,arguments))return;const p=V&&!!N&&-1!==N.indexOf(l),f=A(arguments[2],p);if(I)for(let t=0;t<I.length;t++)if(l===I[t])return p?e.call(c,l,u,f):e.apply(this,arguments);const g=!!f&&("boolean"==typeof f||f.capture),v=!(!f||"object"!=typeof f)&&f.once,T=Zone.current;let x=F[l];x||(H(l,y),x=F[l]);const C=x[g?"true":"false"];let k,S=c[C],E=!1;if(S){if(E=!0,_)for(let t=0;t<S.length;t++)if(M(S[t],u))return}else S=c[C]=[];const O=c.constructor.name,D=q[O];D&&(k=D[l]),k||(k=O+s+(y?y(l):l)),b.options=f,v&&(b.options.once=!1),b.target=c,b.capture=g,b.eventName=l,b.isExisting=E;const P=h?j:void 0;P&&(P.taskData=b);const R=T.scheduleEventTask(k,u,P,r,i);return b.target=null,P&&(P.taskData=null),v&&(f.once=!0),(V||"boolean"!=typeof R.options)&&(R.options=f),R.target=c,R.capture=g,R.eventName=l,d&&(R.originalDelegate=u),a?S.unshift(R):S.push(R),o?c:void 0}};return v[s]=P(T,u,E,O,g),S&&(v.prependListener=P(S,".prependListener:",function(t){return S.call(b.target,b.eventName,t.invoke,b.options)},O,g,!0)),v[i]=function(){const e=this||t;let s=arguments[0];n&&n.transferEventName&&(s=n.transferEventName(s));const r=arguments[2],i=!!r&&("boolean"==typeof r||r.capture),o=arguments[1];if(!o)return x.apply(this,arguments);if(m&&!m(x,o,e,arguments))return;const a=F[s];let c;a&&(c=a[i?"true":"false"]);const u=c&&e[c];if(u)for(let t=0;t<u.length;t++){const n=u[t];if(M(n,o))return u.splice(t,1),n.isRemoved=!0,0===u.length&&(n.allRemoved=!0,e[c]=null,"string"==typeof s)&&(e[l+"ON_PROPERTY"+s]=null),n.zone.cancelTask(n),g?e:void 0}return x.apply(this,arguments)},v[o]=function(){const e=this||t;let s=arguments[0];n&&n.transferEventName&&(s=n.transferEventName(s));const r=[],i=B(e,y?y(s):s);for(let t=0;t<i.length;t++){const e=i[t];r.push(e.originalDelegate?e.originalDelegate:e.callback)}return r},v[a]=function(){const e=this||t;let s=arguments[0];if(s){n&&n.transferEventName&&(s=n.transferEventName(s));const t=F[s];if(t){const n=e[t.false],r=e[t.true];if(n){const t=n.slice();for(let e=0;e<t.length;e++){const n=t[e];this[i].call(this,s,n.originalDelegate?n.originalDelegate:n.callback,n.options)}}if(r){const t=r.slice();for(let e=0;e<t.length;e++){const n=t[e];this[i].call(this,s,n.originalDelegate?n.originalDelegate:n.callback,n.options)}}}}else{const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=L.exec(t[e]);let s=n&&n[1];s&&"removeListener"!==s&&this[a].call(this,s)}this[a].call(this,"removeListener")}if(g)return this},D(v[s],T),D(v[i],x),k&&D(v[a],k),C&&D(v[o],C),!0}let _=[];for(let r=0;r<e.length;r++)_[r]=m(e[r],n);return _}function B(t,e){if(!e){const n=[];for(let s in t){const r=L.exec(s);let i=r&&r[1];if(i&&(!e||i===e)){const e=t[s];if(e)for(let t=0;t<e.length;t++)n.push(e[t])}}return n}let n=F[e];n||(H(e),n=F[e]);const s=t[n.false],r=t[n.true];return s?r?s.concat(r):s.slice():r?r.slice():[]}function W(t,e){const n=t.Event;n&&n.prototype&&e.patchMethod(n.prototype,"stopImmediatePropagation",t=>function(e,n){e[z]=!0,t&&t.apply(e,n)})}function U(t,e,n,s,r){const i=Zone.__symbol__(s);if(e[i])return;const o=e[i]=e[s];e[s]=function(i,a,c){return a&&a.prototype&&r.forEach(function(e){const r=`${n}.${s}::`+e,i=a.prototype;if(i.hasOwnProperty(e)){const n=t.ObjectGetOwnPropertyDescriptor(i,e);n&&n.value?(n.value=t.wrapWithCurrentZone(n.value,r),t._redefineProperty(a.prototype,e,n)):i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],r))}else i[e]&&(i[e]=t.wrapWithCurrentZone(i[e],r))}),o.call(e,i,a,c)},t.attachOriginToPatched(e[s],o)}const G=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],$=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],Y=["load"],X=["blur","error","focus","load","resize","scroll","messageerror"],Q=["bounce","finish","start"],J=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],K=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],tt=["close","error","open","message"],et=["error","message"],nt=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],G,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function st(t,e,n){if(!n||0===n.length)return e;const s=n.filter(e=>e.target===t);if(!s||0===s.length)return e;const r=s[0].ignoreProperties;return e.filter(t=>-1===r.indexOf(t))}function rt(t,e,n,s){t&&S(t,st(t,e,n),s)}function it(t,e){if(w&&!T)return;if(Zone[t.symbol("patchEvents")])return;const n="undefined"!=typeof WebSocket,s=e.__Zone_ignore_on_properties;if(b){const t=window,e=P()?[{target:t,ignoreProperties:["error"]}]:[];rt(t,nt.concat(["messageerror"]),s?s.concat(e):s,r(t)),rt(Document.prototype,nt,s),void 0!==t.SVGElement&&rt(t.SVGElement.prototype,nt,s),rt(Element.prototype,nt,s),rt(HTMLElement.prototype,nt,s),rt(HTMLMediaElement.prototype,$,s),rt(HTMLFrameSetElement.prototype,G.concat(X),s),rt(HTMLBodyElement.prototype,G.concat(X),s),rt(HTMLFrameElement.prototype,Y,s),rt(HTMLIFrameElement.prototype,Y,s);const n=t.HTMLMarqueeElement;n&&rt(n.prototype,Q,s);const i=t.Worker;i&&rt(i.prototype,et,s)}const i=e.XMLHttpRequest;i&&rt(i.prototype,J,s);const o=e.XMLHttpRequestEventTarget;o&&rt(o&&o.prototype,J,s),"undefined"!=typeof IDBIndex&&(rt(IDBIndex.prototype,K,s),rt(IDBRequest.prototype,K,s),rt(IDBOpenDBRequest.prototype,K,s),rt(IDBDatabase.prototype,K,s),rt(IDBTransaction.prototype,K,s),rt(IDBCursor.prototype,K,s)),n&&rt(WebSocket.prototype,tt,s)}Zone.__load_patch("util",(t,e,r)=>{r.patchOnProperties=S,r.patchMethod=O,r.bindArguments=g,r.patchMacroTask=M;const a=e.__symbol__("BLACK_LISTED_EVENTS"),c=e.__symbol__("UNPATCHED_EVENTS");t[c]&&(t[a]=t[c]),t[a]&&(e[a]=e[c]=t[a]),r.patchEventPrototype=W,r.patchEventTarget=Z,r.isIEOrEdge=R,r.ObjectDefineProperty=s,r.ObjectGetOwnPropertyDescriptor=n,r.ObjectCreate=i,r.ArraySlice=o,r.patchClass=E,r.wrapWithCurrentZone=u,r.filterProperties=st,r.attachOriginToPatched=D,r._redefineProperty=Object.defineProperty,r.patchCallbacks=U,r.getGlobalObjects=()=>({globalSources:q,zoneSymbolEventNames:F,eventNames:nt,isBrowser:b,isMix:T,isNode:w,TRUE_STR:"true",FALSE_STR:"false",ZONE_SYMBOL_PREFIX:l,ADD_EVENT_LISTENER_STR:"addEventListener",REMOVE_EVENT_LISTENER_STR:"removeEventListener"})});const ot=d("zoneTask");function at(t,e,n,s){let r=null,i=null;n+=s;const o={};function a(e){const n=e.data;return n.args[0]=function(){try{e.invoke.apply(this,arguments)}finally{e.data&&e.data.isPeriodic||("number"==typeof n.handleId?delete o[n.handleId]:n.handleId&&(n.handleId[ot]=null))}},n.handleId=r.apply(t,n.args),e}function c(e){return i.call(t,e.data.handleId)}r=O(t,e+=s,n=>function(r,i){if("function"==typeof i[0]){const t=h(e,i[0],{isPeriodic:"Interval"===s,delay:"Timeout"===s||"Interval"===s?i[1]||0:void 0,args:i},a,c);if(!t)return t;const n=t.data.handleId;return"number"==typeof n?o[n]=t:n&&(n[ot]=t),n&&n.ref&&n.unref&&"function"==typeof n.ref&&"function"==typeof n.unref&&(t.ref=n.ref.bind(n),t.unref=n.unref.bind(n)),"number"==typeof n||n?n:t}return n.apply(t,i)}),i=O(t,n,e=>function(n,s){const r=s[0];let i;"number"==typeof r?i=o[r]:(i=r&&r[ot],i||(i=r)),i&&"string"==typeof i.type?"notScheduled"!==i.state&&(i.cancelFn&&i.data.isPeriodic||0===i.runCount)&&("number"==typeof r?delete o[r]:r&&(r[ot]=null),i.zone.cancelTask(i)):e.apply(t,s)})}function ct(t,e){if(Zone[e.symbol("patchEventTarget")])return;const{eventNames:n,zoneSymbolEventNames:s,TRUE_STR:r,FALSE_STR:i,ZONE_SYMBOL_PREFIX:o}=e.getGlobalObjects();for(let c=0;c<n.length;c++){const t=n[c],e=o+(t+i),a=o+(t+r);s[t]={},s[t][i]=e,s[t][r]=a}const a=t.EventTarget;return a&&a.prototype?(e.patchEventTarget(t,[a&&a.prototype]),!0):void 0}Zone.__load_patch("legacy",t=>{const e=t[Zone.__symbol__("legacyPatch")];e&&e()}),Zone.__load_patch("timers",t=>{at(t,"set","clear","Timeout"),at(t,"set","clear","Interval"),at(t,"set","clear","Immediate")}),Zone.__load_patch("requestAnimationFrame",t=>{at(t,"request","cancel","AnimationFrame"),at(t,"mozRequest","mozCancel","AnimationFrame"),at(t,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(t,e)=>{const n=["alert","prompt","confirm"];for(let s=0;s<n.length;s++)O(t,n[s],(n,s,r)=>function(s,i){return e.current.run(n,t,i,r)})}),Zone.__load_patch("EventTarget",(t,e,n)=>{!function(t,e){e.patchEventPrototype(t,e)}(t,n),ct(t,n);const s=t.XMLHttpRequestEventTarget;s&&s.prototype&&n.patchEventTarget(t,[s.prototype])}),Zone.__load_patch("MutationObserver",(t,e,n)=>{E("MutationObserver"),E("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(t,e,n)=>{E("IntersectionObserver")}),Zone.__load_patch("FileReader",(t,e,n)=>{E("FileReader")}),Zone.__load_patch("on_property",(t,e,n)=>{it(n,t)}),Zone.__load_patch("customElements",(t,e,n)=>{!function(t,e){const{isBrowser:n,isMix:s}=e.getGlobalObjects();(n||s)&&t.customElements&&"customElements"in t&&e.patchCallbacks(e,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,n)}),Zone.__load_patch("XHR",(t,e)=>{!function(t){const u=t.XMLHttpRequest;if(!u)return;const p=u.prototype;let f=p[a],m=p[c];if(!f){const e=t.XMLHttpRequestEventTarget;if(e){const t=e.prototype;f=t[a],m=t[c]}}function _(t){const s=t.data,o=s.target;o[i]=!1,o[l]=!1;const u=o[r];f||(f=o[a],m=o[c]),u&&m.call(o,"readystatechange",u);const h=o[r]=()=>{if(o.readyState===o.DONE)if(!s.aborted&&o[i]&&"scheduled"===t.state){const n=o[e.__symbol__("loadfalse")];if(0!==o.status&&n&&n.length>0){const r=t.invoke;t.invoke=function(){const n=o[e.__symbol__("loadfalse")];for(let e=0;e<n.length;e++)n[e]===t&&n.splice(e,1);s.aborted||"scheduled"!==t.state||r.call(t)},n.push(t)}else t.invoke()}else s.aborted||!1!==o[i]||(o[l]=!0)};return f.call(o,"readystatechange",h),o[n]||(o[n]=t),T.apply(o,s.args),o[i]=!0,t}function g(){}function v(t){const e=t.data;return e.aborted=!0,x.apply(e.target,e.args)}const y=O(p,"open",()=>function(t,e){return t[s]=0==e[2],t[o]=e[1],y.apply(t,e)}),w=d("fetchTaskAborting"),b=d("fetchTaskScheduling"),T=O(p,"send",()=>function(t,n){if(!0===e.current[b])return T.apply(t,n);if(t[s])return T.apply(t,n);{const e={target:t,url:t[o],isPeriodic:!1,args:n,aborted:!1},s=h("XMLHttpRequest.send",g,e,_,v);t&&!0===t[l]&&!e.aborted&&"scheduled"===s.state&&s.invoke()}}),x=O(p,"abort",()=>function(t,s){const r=t[n];if(r&&"string"==typeof r.type){if(null==r.cancelFn||r.data&&r.data.aborted)return;r.zone.cancelTask(r)}else if(!0===e.current[w])return x.apply(t,s)})}(t);const n=d("xhrTask"),s=d("xhrSync"),r=d("xhrListener"),i=d("xhrScheduled"),o=d("xhrURL"),l=d("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",t=>{t.navigator&&t.navigator.geolocation&&function(t,e){const s=t.constructor.name;for(let r=0;r<e.length;r++){const i=e[r],o=t[i];if(o){if(!v(n(t,i)))continue;t[i]=(t=>{const e=function(){return t.apply(this,g(arguments,s+"."+i))};return D(e,t),e})(o)}}}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(t,e)=>{function n(e){return function(n){B(t,e).forEach(s=>{const r=t.PromiseRejectionEvent;if(r){const t=new r(e,{promise:n.promise,reason:n.rejection});s.invoke(t)}})}}t.PromiseRejectionEvent&&(e[d("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),e[d("rejectionHandledHandler")]=n("rejectionhandled"))})},wTVA:function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},wkBT:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},zUnb:function(t,e,n){"use strict";function s(t){return"function"==typeof t}n.r(e),n("hN/g");let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(i.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},c=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(s(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(a){e=a instanceof u?d(a.errors):[a]}}if(c(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(l(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof u?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:s}=n;if(null===s)n._parentOrParents=this;else if(s instanceof t){if(s===this)return n;n._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return n;s.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const s=new f(t,e,n);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,r){let i;super(),this._parentSubscriber=t;let o=this;s(e)?i=e:e&&(i=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),s(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=i,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(s){return i.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(o(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const _=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function g(t){return t}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(s?s.call(r,this.source):this.source||i.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){i.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:s}=t;if(e||s)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=y(e))((e,n)=>{let s;s=this.subscribe(e=>{try{t(e)}catch(r){n(r),s&&s.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[_](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?g:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=y(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function y(t){if(t||(t=i.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class b extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class T extends f{constructor(t){super(t),this.destination=t}}let x=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new T(this)}lift(t){const e=new C(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,s=e.slice();for(let r=0;r<n;r++)s[r].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,s=e.slice();for(let r=0;r<n;r++)s[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let s=0;s<e;s++)n[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new b(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new C(t,e),t})();class C extends x{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}class k{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new S(t,this.project,this.thisArg))}}class S extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const A=t=>e=>{for(let n=0,s=t.length;n<s&&!e.closed;n++)e.next(t[n]);e.complete()};function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=E(),M=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const I=t=>{if(t&&"function"==typeof t[_])return s=t,t=>{const e=s[_]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(M(t))return A(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){let e;try{e=n.next()}catch(s){return t.error(s),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,s};function N(t,e){return new v(n=>{const s=new h;let r=0;return s.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||s.add(this.schedule())):n.complete()})),s})}class P extends f{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class R extends f{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function V(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(V((n,s)=>{return(r=t(n,s),i?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[_]}(t))return function(t,e){return new v(n=>{const s=new h;return s.add(e.schedule(()=>{const r=t[_]();s.add(r.subscribe({next(t){s.add(e.schedule(()=>n.next(t)))},error(t){s.add(e.schedule(()=>n.error(t)))},complete(){s.add(e.schedule(()=>n.complete()))}}))})),s})}(t,e);if(D(t))return function(t,e){return new v(n=>{const s=new h;return s.add(e.schedule(()=>t.then(t=>{s.add(e.schedule(()=>{n.next(t),s.add(e.schedule(()=>n.complete()))}))},t=>{s.add(e.schedule(()=>n.error(t)))}))),s})}(t,e);if(M(t))return N(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const s=new h;let r;return s.add(()=>{r&&"function"==typeof r.return&&r.return()}),s.add(e.schedule(()=>{r=t[O](),s.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(s){return void n.error(s)}e?n.complete():(n.next(t),this.schedule())}))})),s})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(r,i):r instanceof v?r:new v(I(r))).pipe(function(t,e){return function(e){return e.lift(new k(t,undefined))}}((t,r)=>e(n,t,s,r)));var r,i},n)):("number"==typeof e&&(n=e),e=>e.lift(new j(t,n)))}class j{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new F(t,this.project,this.concurrent))}}class F extends R{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new P(this),n=this.destination;n.add(e);const s=function(t,e){if(!e.closed)return t instanceof v?t.subscribe(e):I(t)(e)}(t,e);s!==e&&n.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(){return function(t){return t.lift(new L(t))}}class L{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const s=new z(t,n),r=e.subscribe(s);return s.closed||(s.connection=n.connect()),r}}class z extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,s=t._connection;this.connection=null,!s||n&&s!==n||s.unsubscribe()}}class H extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new B(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return q()(this)}}const Z=(()=>{const t=H.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class B extends T{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function W(){return new x}function U(t){for(let e in t)if(t[e]===U)return e;throw Error("Could not find renamed property on target object.")}function G(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(G).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function $(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Y=U({__forward_ref__:U});function X(t){return t.__forward_ref__=X,t.toString=function(){return G(this())},t}function Q(t){return"function"==typeof(e=t)&&e.hasOwnProperty(Y)&&e.__forward_ref__===X?t():t;var e}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function K(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function tt(t){return et(t,st)||et(t,it)}function et(t,e){return t.hasOwnProperty(e)?t[e]:null}function nt(t){return t&&(t.hasOwnProperty(rt)||t.hasOwnProperty(ot))?t[rt]:null}const st=U({\u0275prov:U}),rt=U({\u0275inj:U}),it=U({ngInjectableDef:U}),ot=U({ngInjectorDef:U});var at=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let ct;function lt(t){const e=ct;return ct=t,e}function ut(t,e,n){const s=tt(t);if(s&&"root"==s.providedIn)return void 0===s.value?s.value=s.factory():s.value;if(n&at.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${G(t)}]`)}function ht(t){return{toString:t}.toString()}var dt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),pt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const ft="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,_t="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gt="undefined"!=typeof global&&global,vt=ft||gt||mt||_t,yt={},wt=[],bt=U({\u0275cmp:U}),Tt=U({\u0275dir:U}),xt=U({\u0275pipe:U}),Ct=U({\u0275mod:U}),kt=U({\u0275loc:U}),St=U({\u0275fac:U}),At=U({__NG_ELEMENT_ID__:U});let Et=0;function Ot(t){return Pt(t)||function(t){return t[Tt]||null}(t)}function Mt(t){return function(t){return t[xt]||null}(t)}const Dt={};function It(t){const e={type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&ht(()=>{Dt[t.id]=t.type}),e}function Nt(t,e){if(null==t)return yt;const n={};for(const s in t)if(t.hasOwnProperty(s)){let r=t[s],i=r;Array.isArray(r)&&(i=r[1],r=r[0]),n[r]=s,e&&(e[r]=i)}return n}function Pt(t){return t[bt]||null}function Rt(t,e){const n=t[Ct]||null;if(!n&&!0===e)throw new Error(`Type ${G(t)} does not have '\u0275mod' property.`);return n}function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function jt(t){return Array.isArray(t)&&!0===t[1]}function Ft(t){return 0!=(8&t.flags)}function qt(t){return 2==(2&t.flags)}function Lt(t){return 1==(1&t.flags)}function zt(t){return null!==t.template}function Ht(t,e){return t.hasOwnProperty(St)?t[St]:null}class Zt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function Bt(t){return"string"==typeof t?t:null==t?"":String(t)}function Wt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Bt(t)}function Ut(t,e){const n=e?" in "+e:"";throw new Zt("201",`No provider for ${Wt(t)} found${n}`)}class Gt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function $t(){const t=Xt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===yt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Yt(t,e,n,s){const r=Xt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:yt,current:null}),i=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],c=o[a];i[a]=new Gt(c&&c.currentValue,e,o===yt),t[s]=e}function Xt(t){return t.__ngSimpleChanges__||null}let Qt=void 0;function Jt(t){return!!t.listen}const Kt={createRenderer:(t,e)=>void 0!==Qt?Qt:"undefined"!=typeof document?document:void 0};function te(t){for(;Array.isArray(t);)t=t[0];return t}function ee(t,e){return te(e[t])}function ne(t,e){return te(e[t.index])}function se(t,e){return t.data[e]}function re(t,e){return t[e]}function ie(t,e){const n=e[t];return Vt(n)?n:n[0]}function oe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ae(t){return 4==(4&t[2])}function ce(t){return 128==(128&t[2])}function le(t,e){return null==e?null:t[e]}function ue(t){t[18]=0}function he(t,e){t[5]+=e;let n=t,s=t[3];for(;null!==s&&(1===e&&1===n[5]||-1===e&&0===n[5]);)s[5]+=e,n=s,s=s[3]}const de={lFrame:Pe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function pe(){return de.bindingsEnabled}function fe(){return de.lFrame.lView}function me(){return de.lFrame.tView}function _e(t){de.lFrame.contextLView=t}function ge(){let t=ve();for(;null!==t&&64===t.type;)t=t.parent;return t}function ve(){return de.lFrame.currentTNode}function ye(t,e){const n=de.lFrame;n.currentTNode=t,n.isParent=e}function we(){return de.lFrame.isParent}function be(){de.lFrame.isParent=!1}function Te(){return de.isInCheckNoChangesMode}function xe(t){de.isInCheckNoChangesMode=t}function Ce(){const t=de.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ke(){return de.lFrame.bindingIndex++}function Se(t,e){const n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ae(e)}function Ae(t){de.lFrame.currentDirectiveIndex=t}function Ee(){return de.lFrame.currentQueryIndex}function Oe(t){de.lFrame.currentQueryIndex=t}function Me(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function De(t,e,n){if(n&at.SkipSelf){let s=e,r=t;for(;s=s.parent,!(null!==s||n&at.Host||(s=Me(r),null===s)||(r=r[15],10&s.type)););if(null===s)return!1;e=s,t=r}const s=de.lFrame=Ne();return s.currentTNode=e,s.lView=t,!0}function Ie(t){const e=Ne(),n=t[1];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ne(){const t=de.lFrame,e=null===t?null:t.child;return null===e?Pe(t):e}function Pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Re(){const t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ve=Re;function je(){const t=Re();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fe(){return de.lFrame.selectedIndex}function qe(t){de.lFrame.selectedIndex=t}function Le(t,e){for(let n=e.directiveStart,s=e.directiveEnd;n<s;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:r,ngAfterViewInit:i,ngAfterViewChecked:o,ngOnDestroy:a}=e;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),i&&(t.viewHooks||(t.viewHooks=[])).push(-n,i),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ze(t,e,n){Be(t,e,3,n)}function He(t,e,n,s){(3&t[2])===n&&Be(t,e,n,s)}function Ze(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Be(t,e,n,s){const r=null!=s?s:-1,i=e.length-1;let o=0;for(let a=void 0!==s?65535&t[18]:0;a<i;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=s&&o>=s)break}else e[a]<0&&(t[18]+=65536),(o<r||-1==r)&&(We(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function We(t,e,n,s){const r=n[s]<0,i=n[s+1],o=t[r?-n[s]:n[s]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,i.call(o)):i.call(o)}class Ue{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ge(t,e,n){const s=Jt(t);let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],a=n[r++],c=n[r++];s?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=i,a=n[++r];$e(o)?s&&t.setProperty(e,o,a):s?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function $e(t){return 64===t.charCodeAt(0)}function Ye(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let s=0;s<e.length;s++){const r=e[s];"number"==typeof r?n=r:0===n||Xe(t,n,r,null,-1===n||2===n?e[++s]:null)}}return t}function Xe(t,e,n,s,r){let i=0,o=t.length;if(-1===e)o=-1;else for(;i<t.length;){const n=t[i++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=i-1;break}}}for(;i<t.length;){const e=t[i];if("number"==typeof e)break;if(e===n){if(null===s)return void(null!==r&&(t[i+1]=r));if(s===t[i+1])return void(t[i+2]=r)}i++,null!==s&&i++,null!==r&&i++}-1!==o&&(t.splice(o,0,e),i=o+1),t.splice(i++,0,n),null!==s&&t.splice(i++,0,s),null!==r&&t.splice(i++,0,r)}function Qe(t){return-1!==t}function Je(t){return 32767&t}function Ke(t,e){let n=t>>16,s=e;for(;n>0;)s=s[15],n--;return s}let tn=!0;function en(t){const e=tn;return tn=t,e}let nn=0;function sn(t,e){const n=on(t,e);if(-1!==n)return n;const s=e[1];s.firstCreatePass&&(t.injectorIndex=e.length,rn(s.data,t),rn(e,null),rn(s.blueprint,null));const r=an(t,e),i=t.injectorIndex;if(Qe(r)){const t=Je(r),n=Ke(r,e),s=n[1].data;for(let r=0;r<8;r++)e[i+r]=n[t+r]|s[t+r]}return e[i+8]=r,i}function rn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function on(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function an(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,s=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(s=2===e?t.declTNode:1===e?r[6]:null,null===s)return-1;if(n++,r=r[15],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return-1}function cn(t,e,n){!function(t,e,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(At)&&(s=n[At]),null==s&&(s=n[At]=nn++);const r=255&s;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function ln(t,e,n){if(n&at.Optional)return t;Ut(e,"NodeInjector")}function un(t,e,n,s){if(n&at.Optional&&void 0===s&&(s=null),0==(n&(at.Self|at.Host))){const r=t[9],i=lt(void 0);try{return r?r.get(e,s,n&at.Optional):ut(e,s,n&at.Optional)}finally{lt(i)}}return ln(s,e,n)}function hn(t,e,n,s=at.Default,r){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(At)?t[At]:void 0;return"number"==typeof e?e>=0?255&e:pn:e}(n);if("function"==typeof i){if(!De(e,t,s))return s&at.Host?ln(r,n,s):un(e,n,s,r);try{const t=i();if(null!=t||s&at.Optional)return t;Ut(n)}finally{Ve()}}else if("number"==typeof i){let r=null,o=on(t,e),a=-1,c=s&at.Host?e[16][6]:null;for((-1===o||s&at.SkipSelf)&&(a=-1===o?an(t,e):e[o+8],-1!==a&&vn(s,!1)?(r=e[1],o=Je(a),e=Ke(a,e)):o=-1);-1!==o;){const t=e[1];if(gn(i,o,t.data)){const t=fn(o,e,n,r,s,c);if(t!==dn)return t}a=e[o+8],-1!==a&&vn(s,e[1].data[o+8]===c)&&gn(i,o,e)?(r=t,o=Je(a),e=Ke(a,e)):o=-1}}}return un(e,n,s,r)}const dn={};function pn(){return new yn(ge(),fe())}function fn(t,e,n,s,r,i){const o=e[1],a=o.data[t+8],c=mn(a,o,n,null==s?qt(a)&&tn:s!=o&&0!=(3&a.type),r&at.Host&&i===a);return null!==c?_n(e,o,c,a):dn}function mn(t,e,n,s,r){const i=t.providerIndexes,o=e.data,a=1048575&i,c=t.directiveStart,l=i>>20,u=r?a+l:t.directiveEnd;for(let h=s?a:a+l;h<u;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(r){const t=o[c];if(t&&zt(t)&&t.type===n)return c}return null}function _n(t,e,n,s){let r=t[n];const i=e.data;if(r instanceof Ue){const o=r;o.resolving&&function(t,e){throw new Zt("200","Circular dependency in DI detected for "+t)}(Wt(i[n]));const a=en(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?lt(o.injectImpl):null;De(t,s,at.Default);try{r=t[n]=o.factory(void 0,i,t,s),e.firstCreatePass&&n>=s.directiveStart&&function(t,e,n){const{ngOnChanges:s,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(s){const s=((o=e).type.prototype.ngOnChanges&&(o.setInput=Yt),$t);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}var o;r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i))}(n,i[n],e)}finally{null!==c&&lt(c),en(a),o.resolving=!1,Ve()}}return r}function gn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function vn(t,e){return!(t&at.Self||t&at.Host&&e)}class yn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return hn(this._tNode,this._lView,t,void 0,e)}}function wn(t,e,n){return ht(()=>{const s=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return s.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,s){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=s;)r.push(null);return(r[s]=r[s]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class bn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=J({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}function Tn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?(e===t&&(e=t.slice(0,n)),Tn(s,e)):e!==t&&e.push(s)}return e}function xn(t,e){t.forEach(t=>Array.isArray(t)?xn(t,e):e(t))}function Cn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Sn(t,e,n){let s=En(t,e);return s>=0?t[1|s]=n:(s=~s,function(t,e,n,s){let r=t.length;if(r==e)t.push(n,s);else if(1===r)t.push(s,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=s}}(t,s,e,n)),s}function An(t,e){const n=En(t,e);if(n>=0)return t[1|n]}function En(t,e){return function(t,e,n){let s=0,r=t.length>>1;for(;r!==s;){const n=s+(r-s>>1),i=t[n<<1];if(e===i)return n<<1;i>e?r=n:s=n+1}return~(r<<1)}(t,e)}const On={},Mn=/\n/gm,Dn=U({provide:String,useValue:U});let In=void 0;function Nn(t){const e=In;return In=t,e}function Pn(t,e=at.Default){if(void 0===In)throw new Error("inject() must be called from an injection context");return null===In?ut(t,void 0,e):In.get(t,e&at.Optional?null:void 0,e)}function Rn(t,e=at.Default){return(ct||Pn)(Q(t),e)}function Vn(t){const e=[];for(let n=0;n<t.length;n++){const s=Q(t[n]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=at.Default;for(let e=0;e<s.length;e++){const r=s[e],i=r.__NG_DI_FLAG__;"number"==typeof i?-1===i?t=r.token:n|=i:t=r}e.push(Rn(t,n))}else e.push(Rn(s))}return e}function jn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Fn=jn(wn("Inject",t=>({token:t})),-1),qn=jn(wn("Optional"),8),Ln=jn(wn("SkipSelf"),4);function zn(t){return t.ngDebugContext}function Hn(t){return t.ngOriginalError}function Zn(t,...e){t.error(...e)}class Bn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),s=function(t){return t.ngErrorLogger||Zn}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),n&&s(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?zn(t)?zn(t):this._findContext(Hn(t)):null}_findOriginalError(t){let e=Hn(t);for(;e&&Hn(e);)e=Hn(e);return e}}function Wn(t,e){t.__ngContext__=e}const Un=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(vt))();function Gn(t){return t instanceof Function?t():t}var $n=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Yn(t,e){return(void 0)(t,e)}function Xn(t){const e=t[3];return jt(e)?e[3]:e}function Qn(t){return Kn(t[13])}function Jn(t){return Kn(t[4])}function Kn(t){for(;null!==t&&!jt(t);)t=t[4];return t}function ts(t,e,n,s,r){if(null!=s){let i,o=!1;jt(s)?i=s:Vt(s)&&(o=!0,s=s[0]);const a=te(s);0===t&&null!==n?null==r?as(e,n,a):os(e,n,a,r||null,!0):1===t&&null!==n?os(e,n,a,r||null,!0):2===t?function(t,e,n){const s=ls(t,e);s&&function(t,e,n,s){Jt(t)?t.removeChild(e,n,s):e.removeChild(n)}(t,s,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=i&&function(t,e,n,s,r){const i=n[7];i!==te(n)&&ts(e,t,s,i,r);for(let o=10;o<n.length;o++){const r=n[o];fs(r[1],r,t,e,s,i)}}(e,t,i,n,r)}}function es(t,e,n){return Jt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ns(t,e){const n=t[9],s=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,he(r,-1)),n.splice(s,1)}function ss(t,e){if(t.length<=10)return;const n=10+e,s=t[n];if(s){const i=s[17];null!==i&&i!==t&&ns(i,s),e>0&&(t[n-1][4]=s[4]);const o=kn(t,10+e);fs(s[1],r=s,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),s[3]=null,s[4]=null,s[2]&=-129}var r;return s}function rs(t,e){if(!(256&e[2])){const n=e[11];Jt(n)&&n.destroyNode&&fs(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return is(t[1],t);for(;e;){let n=null;if(Vt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Vt(e)&&is(e[1],e),e=e[3];null===e&&(e=t),Vt(e)&&is(e[1],e),n=e&&e[4]}e=n}}(e)}}function is(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let s=0;s<n.length;s+=2){const t=e[n[s]];if(!(t instanceof Ue)){const e=n[s+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,s=e[7];let r=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const t=n[i+1],o="function"==typeof t?t(e):te(e[t]),a=s[r=n[i+2]],c=n[i+3];"boolean"==typeof c?o.removeEventListener(n[i],a,c):c>=0?s[r=c]():s[r=-c].unsubscribe(),i+=2}else{const t=s[r=n[i+1]];n[i].call(t)}if(null!==s){for(let t=r+1;t<s.length;t++)(0,s[t])();e[7]=null}}(t,e),1===e[1].type&&Jt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&jt(e[3])){n!==e[3]&&ns(n,e);const s=e[19];null!==s&&s.detachView(t)}}}function os(t,e,n,s,r){Jt(t)?t.insertBefore(e,n,s,r):e.insertBefore(n,s,r)}function as(t,e,n){Jt(t)?t.appendChild(e,n):e.appendChild(n)}function cs(t,e,n,s,r){null!==s?os(t,e,n,s,r):as(t,e,n)}function ls(t,e){return Jt(t)?t.parentNode(e):e.parentNode}function us(t,e,n,s){const r=function(t,e,n){return function(t,e,n){let s=e;for(;null!==s&&40&s.type;)s=(e=s).parent;if(null===s)return n[0];if(2&s.flags){const e=t.data[s.directiveStart].encapsulation;if(e===pt.None||e===pt.Emulated)return null}return ne(s,n)}(t,e.parent,n)}(t,s,e),i=e[11],o=function(t,e,n){return function(t,e,n){return 40&t.type?ne(t,n):null}(t,0,n)}(s.parent||e[6],0,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)cs(i,r,n[a],o,!1);else cs(i,r,n,o,!1)}function hs(t,e){if(null!==e){const n=e.type;if(3&n)return ne(e,t);if(4&n)return ds(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return hs(t,n);{const n=t[e.index];return jt(n)?ds(-1,n):te(n)}}if(32&n)return Yn(e,t)()||te(t[e.index]);{const n=t[16],s=n[6],r=Xn(n),i=s.projection[e.projection];return null!=i?hs(r,i):hs(t,e.next)}}return null}function ds(t,e){const n=10+t+1;if(n<e.length){const t=e[n],s=t[1].firstChild;if(null!==s)return hs(t,s)}return e[7]}function ps(t,e,n,s,r,i,o){for(;null!=n;){const a=s[n.index],c=n.type;if(o&&0===e&&(a&&Wn(te(a),s),n.flags|=4),64!=(64&n.flags))if(8&c)ps(t,e,n.child,s,r,i,!1),ts(e,t,r,a,i);else if(32&c){const o=Yn(n,s);let c;for(;c=o();)ts(e,t,r,c,i);ts(e,t,r,a,i)}else 16&c?ms(t,e,s,n,r,i):ts(e,t,r,a,i);n=o?n.projectionNext:n.next}}function fs(t,e,n,s,r,i){ps(n,s,t.firstChild,e,r,i,!1)}function ms(t,e,n,s,r,i){const o=n[16],a=o[6].projection[s.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)ts(e,t,r,a[c],i);else ps(t,e,a,o[3],r,i,!0)}function _s(t,e,n){Jt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gs(t,e,n){Jt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function vs(t,e,n){let s=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===s||t.charCodeAt(r+n)<=32)return r}n=r+1}}function ys(t,e,n){let s=0;for(;s<t.length;){let r=t[s++];if(n&&"class"===r){if(r=t[s],-1!==vs(r.toLowerCase(),e,0))return!0}else if(1===r){for(;s<t.length&&"string"==typeof(r=t[s++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function ws(t){return 4===t.type&&"ng-template"!==t.value}function bs(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Ts(t,e,n){let s=4;const r=t.attrs||[],i=function(t){for(let n=0;n<t.length;n++)if(3===(e=t[n])||4===e||6===e)return n;var e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&s){if(s=2|1&s,""!==c&&!bs(t,c,n)||""===c&&1===e.length){if(xs(s))return!1;o=!0}}else{const l=8&s?c:e[++a];if(8&s&&null!==t.attrs){if(!ys(t.attrs,l,n)){if(xs(s))return!1;o=!0}continue}const u=Cs(8&s?"class":c,r,ws(t),n);if(-1===u){if(xs(s))return!1;o=!0;continue}if(""!==l){let t;t=u>i?"":r[u+1].toLowerCase();const e=8&s?t:null;if(e&&-1!==vs(e,l,0)||2&s&&l!==t){if(xs(s))return!1;o=!0}}}}else{if(!o&&!xs(s)&&!xs(c))return!1;if(o&&xs(c))continue;o=!1,s=c|1&s}}return xs(s)||o}function xs(t){return 0==(1&t)}function Cs(t,e,n,s){if(null===e)return-1;let r=0;if(s||!n){let n=!1;for(;r<e.length;){const s=e[r];if(s===t)return r;if(3===s||6===s)n=!0;else{if(1===s||2===s){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const s=t[n];if("number"==typeof s)return-1;if(s===e)return n;n++}return-1}(e,t)}function ks(t,e,n=!1){for(let s=0;s<e.length;s++)if(Ts(t,e[s],n))return!0;return!1}function Ss(t,e){return t?":not("+e.trim()+")":e}function As(t){let e=t[0],n=1,s=2,r="",i=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&s){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&s?r+="."+o:4&s&&(r+=" "+o);else""===r||xs(o)||(e+=Ss(i,r),r=""),s=o,i=i||!xs(s);n++}return""!==r&&(e+=Ss(i,r)),e}const Es={};function Os(t){Ms(me(),fe(),Fe()+t,Te())}function Ms(t,e,n,s){if(!s)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&ze(e,s,n)}else{const s=t.preOrderHooks;null!==s&&He(e,s,0,n)}qe(n)}function Ds(t,e){return t<<17|e<<2}function Is(t){return t>>17&32767}function Ns(t){return 2|t}function Ps(t){return(131068&t)>>2}function Rs(t,e){return-131069&t|e<<2}function Vs(t){return 1|t}function js(t,e){const n=t.contentQueries;if(null!==n)for(let s=0;s<n.length;s+=2){const r=n[s],i=n[s+1];if(-1!==i){const n=t.data[i];Oe(r),n.contentQueries(2,e[i],i)}}}function Fs(t,e,n,s,r,i,o,a,c,l){const u=e.blueprint.slice();return u[0]=r,u[2]=140|s,ue(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=i,u[16]=2==e.type?t[16]:u,u}function qs(t,e,n,s,r){let i=t.data[e];if(null===i)i=function(t,e,n,s,r){const i=ve(),o=we(),a=t.data[e]=function(t,e,n,s,r,i){return{type:n,index:s,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,n,e,s,r);return null===t.firstChild&&(t.firstChild=a),null!==i&&(o?null==i.child&&null!==a.parent&&(i.child=a):null===i.next&&(i.next=a)),a}(t,e,n,s,r),de.lFrame.inI18n&&(i.flags|=64);else if(64&i.type){i.type=n,i.value=s,i.attrs=r;const t=function(){const t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();i.injectorIndex=null===t?-1:t.injectorIndex}return ye(i,!0),i}function Ls(t,e,n,s){if(0===n)return-1;const r=e.length;for(let i=0;i<n;i++)e.push(s),t.blueprint.push(s),t.data.push(null);return r}function zs(t,e,n){Ie(e);try{const s=t.viewQuery;null!==s&&_r(1,s,n);const r=t.template;null!==r&&Bs(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&js(t,e),t.staticViewQueries&&_r(2,t.viewQuery,n);const i=t.components;null!==i&&function(t,e){for(let n=0;n<e.length;n++)hr(t,e[n])}(e,i)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,je()}}function Hs(t,e,n,s){const r=e[2];if(256==(256&r))return;Ie(e);const i=Te();try{ue(e),de.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Bs(t,e,n,2,s);const o=3==(3&r);if(!i)if(o){const n=t.preOrderCheckHooks;null!==n&&ze(e,n,null)}else{const n=t.preOrderHooks;null!==n&&He(e,n,0,null),Ze(e,0)}if(function(t){for(let e=Qn(t);null!==e;e=Jn(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],s=n[3];0==(1024&n[2])&&he(s,1),n[2]|=1024}}}(e),function(t){for(let e=Qn(t);null!==e;e=Jn(e))for(let t=10;t<e.length;t++){const n=e[t],s=n[1];ce(n)&&Hs(s,n,s.template,n[8])}}(e),null!==t.contentQueries&&js(t,e),!i)if(o){const n=t.contentCheckHooks;null!==n&&ze(e,n)}else{const n=t.contentHooks;null!==n&&He(e,n,1),Ze(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const s=n[t];if(s<0)qe(~s);else{const r=s,i=n[++t],o=n[++t];Se(i,r),o(2,e[r])}}}finally{qe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)lr(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&_r(2,c,s),!i)if(o){const n=t.viewCheckHooks;null!==n&&ze(e,n)}else{const n=t.viewHooks;null!==n&&He(e,n,2),Ze(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,he(e[3],-1))}finally{je()}}function Zs(t,e,n,s){const r=e[10],i=!Te(),o=ae(e);try{i&&!o&&r.begin&&r.begin(),o&&zs(t,e,s),Hs(t,e,n,s)}finally{i&&!o&&r.end&&r.end()}}function Bs(t,e,n,s,r){const i=Fe();try{qe(-1),2&s&&e.length>20&&Ms(t,e,20,Te()),n(s,r)}finally{qe(i)}}function Ws(t,e,n){if(Ft(e)){const s=e.directiveEnd;for(let r=e.directiveStart;r<s;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Us(t,e,n){pe()&&(function(t,e,n,s){const r=n.directiveStart,i=n.directiveEnd;t.firstCreatePass||sn(n,e),Wn(s,e);const o=n.initialInputs;for(let a=r;a<i;a++){const s=t.data[a],i=zt(s);i&&ir(e,n,s);const c=_n(e,t,a,n);Wn(c,e),null!==o&&or(0,a-r,c,s,0,o),i&&(ie(n.index,e)[8]=c)}}(t,e,n,ne(n,e)),128==(128&n.flags)&&function(t,e,n){const s=n.directiveStart,r=n.directiveEnd,i=n.index,o=de.lFrame.currentDirectiveIndex;try{qe(i);for(let n=s;n<r;n++){const s=t.data[n],r=e[n];Ae(n),null===s.hostBindings&&0===s.hostVars&&null===s.hostAttrs||tr(s,r)}}finally{qe(-1),Ae(o)}}(t,e,n))}function Gs(t,e,n=ne){const s=e.localNames;if(null!==s){let r=e.index+1;for(let i=0;i<s.length;i+=2){const o=s[i+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function $s(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ys(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ys(t,e,n,s,r,i,o,a,c,l){const u=20+s,h=u+r,d=function(t,e){const n=[];for(let s=0;s<e;s++)n.push(s<t?null:Es);return n}(u,h),p="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Xs(t,e,n,s){const r=vr(e);null===n?r.push(s):(r.push(n),t.firstCreatePass&&yr(t).push(s,r.length-1))}function Qs(t,e,n){for(let s in t)if(t.hasOwnProperty(s)){const r=t[s];(n=null===n?{}:n).hasOwnProperty(s)?n[s].push(e,r):n[s]=[e,r]}return n}function Js(t,e,n,s){let r=!1;if(pe()){const i=function(t,e,n){const s=t.directiveRegistry;let r=null;if(s)for(let i=0;i<s.length;i++){const o=s[i];ks(n,o.selectors,!1)&&(r||(r=[]),cn(sn(n,e),t,o.type),zt(o)?(er(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===s?null:{"":-1};if(null!==i){r=!0,sr(n,t.data.length,i.length);for(let t=0;t<i.length;t++){const e=i[t];e.providersResolver&&e.providersResolver(e)}let s=!1,a=!1,c=Ls(t,e,i.length,null);for(let r=0;r<i.length;r++){const l=i[r];n.mergedAttrs=Ye(n.mergedAttrs,l.hostAttrs),rr(t,n,e,c,l),nr(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),s=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,s=t.data,r=e.attrs,i=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=s[c],n=t.inputs,l=null===r||ws(e)?null:ar(n,r);i.push(l),o=Qs(n,c,o),a=Qs(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=i,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const s=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new Zt("301",`Export of name '${e[t+1]}' not found!`);s.push(e[t],r)}}}(n,s,o)}return n.mergedAttrs=Ye(n.mergedAttrs,n.attrs),r}function Ks(t,e,n,s,r,i){const o=i.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const i=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=i&&n.push(i),n.push(s,r,o)}}function tr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function er(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function nr(t,e,n){if(n){if(e.exportAs)for(let s=0;s<e.exportAs.length;s++)n[e.exportAs[s]]=t;zt(e)&&(n[""]=t)}}function sr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function rr(t,e,n,s,r){t.data[s]=r;const i=r.factory||(r.factory=Ht(r.type)),o=new Ue(i,zt(r),null);t.blueprint[s]=o,n[s]=o,Ks(t,e,0,s,Ls(t,n,r.hostVars,Es),r)}function ir(t,e,n){const s=ne(e,t),r=$s(n),i=t[10],o=dr(t,Fs(t,r,null,n.onPush?64:16,s,e,i,i.createRenderer(s,n),null,null));t[e.index]=o}function or(t,e,n,s,r,i){const o=i[e];if(null!==o){const t=s.setInput;for(let e=0;e<o.length;){const r=o[e++],i=o[e++],a=o[e++];null!==t?s.setInput(n,a,r,i):n[i]=a}}}function ar(t,e){let n=null,s=0;for(;s<e.length;){const r=e[s];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[s+1])),s+=2}else s+=2;else s+=4}return n}function cr(t,e,n,s){return new Array(t,!0,!1,e,null,0,s,n,null,null)}function lr(t,e){const n=ie(e,t);if(ce(n)){const t=n[1];80&n[2]?Hs(t,n,t.template,n[8]):n[5]>0&&ur(n)}}function ur(t){for(let n=Qn(t);null!==n;n=Jn(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Hs(t,e,t.template,e[8])}else e[5]>0&&ur(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const s=ie(e[n],t);ce(s)&&s[5]>0&&ur(s)}}function hr(t,e){const n=ie(e,t),s=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(s,n),zs(s,n,n[8])}function dr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function pr(t){for(;t;){t[2]|=64;const e=Xn(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function fr(t,e,n){const s=e[10];s.begin&&s.begin();try{Hs(t,e,t.template,n)}catch(r){throw wr(e,r),r}finally{s.end&&s.end()}}function mr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],s=oe(n),r=s[1];Zs(r,s,r.template,n)}}(t[8])}function _r(t,e,n){Oe(0),e(t,n)}const gr=(()=>Promise.resolve(null))();function vr(t){return t[7]||(t[7]=[])}function yr(t){return t.cleanup||(t.cleanup=[])}function wr(t,e){const n=t[9],s=n?n.get(Bn,null):null;s&&s.handleError(e)}function br(t,e,n,s,r){for(let i=0;i<n.length;){const o=n[i++],a=n[i++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,r,s,a):c[a]=r}}function Tr(t,e,n){let s=n?t.styles:null,r=n?t.classes:null,i=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?i=t:1==i?r=$(r,t):2==i&&(s=$(s,t+": "+e[++o]+";"))}n?t.styles=s:t.stylesWithoutHost=s,n?t.classes=r:t.classesWithoutHost=r}const xr=new bn("INJECTOR",-1);class Cr{get(t,e=On){if(e===On){const e=new Error(`NullInjectorError: No provider for ${G(t)}!`);throw e.name="NullInjectorError",e}return e}}const kr=new bn("Set Injector scope."),Sr={},Ar={},Er=[];let Or=void 0;function Mr(){return void 0===Or&&(Or=new Cr),Or}function Dr(t,e=null,n=null,s){return new Ir(t,n,e||Mr(),s)}class Ir{constructor(t,e,n,s=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&xn(e,n=>this.processProvider(n,t,e)),xn([t],t=>this.processInjectorType(t,[],r)),this.records.set(xr,Pr(void 0,this));const i=this.records.get(kr);this.scope=null!=i?i.value:null,this.source=s||("object"==typeof t?null:G(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=On,n=at.Default){this.assertNotDestroyed();const s=Nn(this);try{if(!(n&at.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof bn)&&tt(t);e=n&&this.injectableDefInScope(n)?Pr(Nr(t),Sr):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&at.Self?Mr():this.parent).get(t,e=n&at.Optional&&e===On?null:e)}catch(i){if("NullInjectorError"===i.name){if((i.ngTempTokenPath=i.ngTempTokenPath||[]).unshift(G(t)),s)throw i;return function(t,e,n,s){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=G(e);if(Array.isArray(e))r=e.map(G).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let s=e[n];t.push(n+":"+("string"==typeof s?JSON.stringify(s):G(s)))}r=`{${t.join(", ")}}`}return`${n}${s?"("+s+")":""}[${r}]: ${t.replace(Mn,"\n  ")}`}("\n"+t.message,r,n,s),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(i,t,"R3InjectorError",this.source)}throw i}finally{Nn(s)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(G(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Q(t)))return!1;let s=nt(t);const r=null==s&&t.ngModule||void 0,i=void 0===r?t:r,o=-1!==n.indexOf(i);if(void 0!==r&&(s=nt(r)),null==s)return!1;if(null!=s.imports&&!o){let t;n.push(i);try{xn(s.imports,s=>{this.processInjectorType(s,e,n)&&(void 0===t&&(t=[]),t.push(s))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:s}=t[e];xn(s,t=>this.processProvider(t,n,s||Er))}}this.injectorDefTypes.add(i),this.records.set(i,Pr(s.factory,Sr));const a=s.providers;if(null!=a&&!o){const e=t;xn(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let s=Vr(t=Q(t))?t:Q(t&&t.provide);const r=function(t,e,n){return Rr(t)?Pr(void 0,t.useValue):Pr(function(t,e,n){let s=void 0;if(Vr(t)){const e=Q(t);return Ht(e)||Nr(e)}if(Rr(t))s=()=>Q(t.useValue);else if((r=t)&&r.useFactory)s=()=>t.useFactory(...Vn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))s=()=>Rn(Q(t.useExisting));else{const e=Q(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ht(e)||Nr(e);s=()=>new e(...Vn(t.deps))}var r;return s}(t),Sr)}(t);if(Vr(t)||!0!==t.multi)this.records.get(s);else{let e=this.records.get(s);e||(e=Pr(void 0,Sr,!0),e.factory=()=>Vn(e.multi),this.records.set(s,e)),s=t,e.multi.push(t)}this.records.set(s,r)}hydrate(t,e){var n;return e.value===Sr&&(e.value=Ar,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Nr(t){const e=tt(t),n=null!==e?e.factory:Ht(t);if(null!==n)return n;const s=nt(t);if(null!==s)return s.factory;if(t instanceof bn)throw new Error(`Token ${G(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let s=0;s<t;s++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${G(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[st]||t[it]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Pr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Rr(t){return null!==t&&"object"==typeof t&&Dn in t}function Vr(t){return"function"==typeof t}const jr=function(t,e,n){return function(t,e=null,n=null,s){const r=Dr(t,e,n,s);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Fr=(()=>{class t{static create(t,e){return Array.isArray(t)?jr(t,e,""):jr(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=On,t.NULL=new Cr,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>Rn(xr)}),t.__NG_ELEMENT_ID__=-1,t})();function qr(t,e){Le(oe(t)[1],ge())}let Lr=null;function zr(){if(!Lr){const t=vt.Symbol;if(t&&t.iterator)Lr=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Lr=n)}}}return Lr}class Hr{constructor(t){this.wrapped=t}static wrap(t){return new Hr(t)}static unwrap(t){return Hr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Hr}}function Zr(t){return!!Br(t)&&(Array.isArray(t)||!(t instanceof Map)&&zr()in t)}function Br(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Wr(t,e,n){return t[e]=n}function Ur(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Gr(t,e,n,s,r,i,o,a){const c=fe(),l=me(),u=t+20,h=l.firstCreatePass?function(t,e,n,s,r,i,o,a,c){const l=e.consts,u=qs(e,t,4,o||null,le(l,a));Js(e,n,u,le(l,c)),Le(e,u);const h=u.tViews=Ys(2,u,s,r,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,s,r,i,o):l.data[u];ye(h,!1);const d=c[11].createComment("");us(l,c,d,h),Wn(d,c),dr(c,c[u]=cr(d,c,d,h)),Lt(h)&&Us(l,c,h),null!=o&&Gs(c,h,a)}function $r(t,e=at.Default){const n=fe();return null===n?Rn(t,e):hn(ge(),n,Q(t),e)}function Yr(t,e,n){const s=fe();return Ur(s,ke(),e)&&function(t,e,n,s,r,i,o,a){const c=ne(e,n);let l,u=e.inputs;var h;null!=u&&(l=u[s])?(br(t,n,l,s,r),qt(e)&&function(t,e){const n=ie(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(s="class"===(h=s)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,e.value||"",s):r,Jt(i)?i.setProperty(c,s,r):$e(s)||(c.setProperty?c.setProperty(s,r):c[s]=r))}(me(),function(){const t=de.lFrame;return se(t.tView,t.selectedIndex)}(),s,t,e,s[11],n),Yr}function Xr(t,e,n,s,r){const i=r?"class":"style";br(t,n,e.inputs[i],i,s)}function Qr(t,e,n,s){const r=fe(),i=me(),o=20+t,a=r[11],c=r[o]=es(a,e,de.lFrame.currentNamespace),l=i.firstCreatePass?function(t,e,n,s,r,i,o){const a=e.consts,c=qs(e,t,2,r,le(a,i));return Js(e,n,c,le(a,o)),null!==c.attrs&&Tr(c,c.attrs,!1),null!==c.mergedAttrs&&Tr(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,i,r,0,e,n,s):i.data[o];ye(l,!0);const u=l.mergedAttrs;null!==u&&Ge(a,c,u);const h=l.classes;null!==h&&gs(a,c,h);const d=l.styles;null!==d&&_s(a,c,d),64!=(64&l.flags)&&us(i,r,c,l),0===de.lFrame.elementDepthCount&&Wn(c,r),de.lFrame.elementDepthCount++,Lt(l)&&(Us(i,r,l),Ws(i,l,r)),null!==s&&Gs(r,l)}function Jr(){let t=ge();we()?be():(t=t.parent,ye(t,!1));const e=t;de.lFrame.elementDepthCount--;const n=me();n.firstCreatePass&&(Le(n,t),Ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Xr(n,e,fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Xr(n,e,fe(),e.stylesWithoutHost,!1)}function Kr(t,e,n,s){Qr(t,e,n,s),Jr()}function ti(t,e,n){const s=fe(),r=me(),i=t+20,o=r.firstCreatePass?function(t,e,n,s,r){const i=e.consts,o=le(i,s),a=qs(e,t,8,"ng-container",o);return null!==o&&Tr(a,o,!0),Js(e,n,a,le(i,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,r,s,e,n):r.data[i];ye(o,!0);const a=s[i]=s[11].createComment("");us(r,s,a,o),Wn(a,s),Lt(o)&&(Us(r,s,o),Ws(r,o,s)),null!=n&&Gs(s,o)}function ei(){let t=ge();const e=me();we()?be():(t=t.parent,ye(t,!1)),e.firstCreatePass&&(Le(e,t),Ft(t)&&e.queries.elementEnd(t))}function ni(t,e,n){ti(t,e,n),ei()}function si(){return fe()}function ri(t){return!!t&&"function"==typeof t.then}function ii(t,e,n=!1,s){const r=fe(),i=me(),o=ge();return function(t,e,n,s,r,i,o=!1,a){const c=Lt(s),l=t.firstCreatePass&&yr(t),u=vr(e);let h=!0;if(3&s.type){const d=ne(s,e),p=a?a(d):yt,f=p.target||d,m=u.length,_=a?t=>a(te(t[s.index])).target:s.index;if(Jt(n)){let o=null;if(!a&&c&&(o=function(t,e,n,s){const r=t.cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const t=r[i];if(t===n&&r[i+1]===s){const t=e[7],n=r[i+2];return t.length>n?t[n]:null}"string"==typeof t&&(i+=2)}return null}(t,e,r,s.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=i,o.__ngLastListenerFn__=i,h=!1;else{i=ai(s,e,i,!1);const t=n.listen(p.name||f,r,i);u.push(i,t),l&&l.push(r,_,m,m+1)}}else i=ai(s,e,i,!0),f.addEventListener(r,i,o),u.push(i),l&&l.push(r,_,m,o)}else i=ai(s,e,i,!1);const d=s.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(i),o=u.length;u.push(i,t),l&&l.push(r,s.index,o,-(o+1))}}}(i,r,r[11],o,t,e,n,s),ii}function oi(t,e,n){try{return!1!==e(n)}catch(s){return wr(t,s),!1}}function ai(t,e,n,s){return function r(i){if(i===Function)return n;const o=2&t.flags?ie(t.index,e):e;0==(32&e[2])&&pr(o);let a=oi(e,n,i),c=r.__ngNextListenerFn__;for(;c;)a=oi(e,c,i)&&a,c=c.__ngNextListenerFn__;return s&&!1===a&&(i.preventDefault(),i.returnValue=!1),a}}function ci(t=1){return function(t){return(de.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,de.lFrame.contextLView))[8]}(t)}const li=[];function ui(t,e,n,s,r){const i=t[n+1],o=null===e;let a=s?Is(i):Ps(i),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];hi(t[a],e)&&(c=!0,t[a+1]=s?Vs(n):Ns(n)),a=s?Is(n):Ps(n)}c&&(t[n+1]=s?Ns(i):Vs(i))}function hi(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&En(t,e)>=0}function di(t,e){return function(t,e,n,s){const r=fe(),i=me(),o=function(t){const e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();i.firstUpdatePass&&function(t,e,n,s){const r=t.data;if(null===r[n+1]){const s=r[Fe()],i=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(s)&&null===e&&!i&&(e=!1),e=function(t,e,n,s){const r=function(t){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=e.residualClasses;if(null===r)0===e.classBindings&&(n=fi(n=pi(null,t,e,n,true),e.attrs,true),i=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=pi(r,t,e,n,true),null===i){let n=function(t,e,n){const s=e.classBindings;if(0!==Ps(s))return t[Is(s)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=pi(null,t,e,n[1],true),n=fi(n,e.attrs,true),function(t,e,n,s){t[Is(e.classBindings)]=s}(t,e,0,n))}else i=function(t,e,n){let s=void 0;const r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++)s=fi(s,t[i].hostAttrs,true);return fi(s,e.attrs,true)}(t,e)}return void 0!==i&&(e.residualClasses=i),n}(r,s,e),function(t,e,n,s,r,i){let o=e.classBindings,a=Is(o),c=Ps(o);t[s]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||En(t,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){const e=Is(t[a+1]);t[s+1]=Ds(e,a),0!==e&&(t[e+1]=Rs(t[e+1],s)),t[a+1]=131071&t[a+1]|s<<17}else t[s+1]=Ds(a,0),0!==a&&(t[a+1]=Rs(t[a+1],s)),a=s;else t[s+1]=Ds(c,0),0===a?a=s:t[c+1]=Rs(t[c+1],s),c=s;u&&(t[s+1]=Ns(t[s+1])),ui(t,l,s,!0),ui(t,l,s,!1),function(t,e,n,s,r){const i=t.residualClasses;null!=i&&"string"==typeof e&&En(i,e)>=0&&(n[s+1]=Vs(n[s+1]))}(e,l,t,s),o=Ds(a,c),e.classBindings=o}(r,s,e,n,i)}}(i,t,o),e!==Es&&Ur(r,o,e)&&function(t,e,n,s,r,i,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];_i(1==(1&l)?mi(c,e,n,r,Ps(l),true):void 0)||(_i(i)||function(t){return 2==(2&t)}(l)&&(i=mi(c,null,n,r,a,true)),function(t,e,n,s,r){const i=Jt(t);r?i?t.addClass(n,s):n.classList.add(s):i?t.removeClass(n,s):n.classList.remove(s)}(s,0,ee(Fe(),n),r,i))}(i,i.data[Fe()],r,r[11],t,r[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=G(function(t){return t instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}?t.changingThisBreaksApplicationSecurity:t}(t))),t}(e),0,o)}(t,e),di}function pi(t,e,n,s,r){let i=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(i=e[a],s=fi(s,i.hostAttrs,r),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),s}function fi(t,e,n){const s=n?1:2;let r=-1;if(null!==e)for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?r=o:r===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Sn(t,o,!!n||e[++i]))}return void 0===t?null:t}function mi(t,e,n,s,r,i){const o=null===e;let a=void 0;for(;r>0;){const e=t[r],i=Array.isArray(e),c=i?e[1]:e,l=null===c;let u=n[r+1];u===Es&&(u=l?li:void 0);let h=l?An(u,s):c===s?u:void 0;if(i&&!_i(h)&&(h=An(e,s)),_i(h)&&(a=h,o))return a;const d=t[r+1];r=o?Is(d):Ps(d)}if(null!==e){let t=i?e.residualClasses:e.residualStyles;null!=t&&(a=An(t,s))}return a}function _i(t){return void 0!==t}function gi(t,e=""){const n=fe(),s=me(),r=t+20,i=s.firstCreatePass?qs(s,r,1,e,null):s.data[r],o=n[r]=function(t,e){return Jt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);us(s,n,o,i),ye(i,!1)}function vi(t){return yi("",t,""),vi}function yi(t,e,n){const s=fe(),r=function(t,e,n,s){return Ur(t,ke(),n)?e+Bt(n)+s:Es}(s,t,e,n);return r!==Es&&function(t,e,n){const s=ee(e,t);!function(t,e,n){Jt(t)?t.setValue(e,n):e.textContent=n}(t[11],s,n)}(s,Fe(),r),yi}const wi=void 0;var bi=["en",[["a","p"],["AM","PM"],wi],[["AM","PM"],wi,wi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wi,"{1} 'at' {0}",wi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ti={};function xi(t){return t in Ti||(Ti[t]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[t]),Ti[t]}var Ci=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let ki="en-US";function Si(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,s){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ki=t.toLowerCase().replace(/_/g,"-"))}class Ai{}class Ei{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${G(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Oi=(()=>{class t{}return t.NULL=new Ei,t})();function Mi(...t){}function Di(t,e){return new Ni(ne(t,e))}const Ii=function(){return Di(ge(),fe())};let Ni=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ii,t})();function Pi(t){return t instanceof Ni?t.nativeElement:t}class Ri{}let Vi=(()=>{class t{}return t.\u0275prov=J({token:t,providedIn:"root",factory:()=>null}),t})();class ji{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Fi=new ji("11.1.2");class qi{constructor(){}supports(t){return Zr(t)}create(t){return new zi(t)}}const Li=(t,e)=>e;class zi{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Li}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,s=0,r=null;for(;e||n;){const i=!n||e&&e.currentIndex<Wi(n,s,r)?e:n,o=Wi(i,s,r),a=i.currentIndex;if(i===n)s--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)s++;else{r||(r=[]);const t=o-s,e=a-s;if(t!=e){for(let n=0;n<t;n++){const s=n<r.length?r[n]:r[n]=0,i=s+n;e<=i&&i<t&&(r[n]=s+1)}r[i.previousIndex]=e-t}}o!==a&&t(i,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Zr(t))throw new Error(`Error trying to diff '${G(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,s,r=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],s=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,s)?(i&&(r=this._verifyReinsertion(r,n,s,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,s,e),i=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[zr()]();let s;for(;!(s=n.next()).done;)e(s.value)}}(t,t=>{s=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,s)?(i&&(r=this._verifyReinsertion(r,t,s,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,s,e),i=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):t=this._addAfter(new Hi(e,n),r,s),t}_verifyReinsertion(t,e,n,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Bi),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bi),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Hi{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zi{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Bi{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Zi,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wi(t,e,n){const s=t.previousIndex;if(null===s)return s;let r=0;return n&&s<n.length&&(r=n[s]),s+e+r}class Ui{constructor(){}supports(t){return t instanceof Map||Br(t)}create(){return new Gi}}class Gi{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Br(t)))throw new Error(`Error trying to diff '${G(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const s=n._prev,r=n._next;return s&&(s._next=r),r&&(r._prev=s),n._next=null,n._prev=null,n}const n=new $i(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class $i{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yi(){return new Xi([new qi])}let Xi=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Yi()),deps:[[t,new Ln,new qn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=J({token:t,providedIn:"root",factory:Yi}),t})();function Qi(){return new Ji([new Ui])}let Ji=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Qi()),deps:[[t,new Ln,new qn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=J({token:t,providedIn:"root",factory:Qi}),t})();function Ki(t,e,n,s,r=!1){for(;null!==n;){const i=e[n.index];if(null!==i&&s.push(te(i)),jt(i))for(let t=10;t<i.length;t++){const e=i[t],n=e[1].firstChild;null!==n&&Ki(e[1],e,n,s)}const o=n.type;if(8&o)Ki(t,e,n.child,s);else if(32&o){const t=Yn(n,e);let r;for(;r=t();)s.push(r)}else if(16&o){const t=e[16],r=t[6].projection[n.projection];if(Array.isArray(r))s.push(...r);else{const e=Xn(t);Ki(e[1],e,r,s,!0)}}n=r?n.projectionNext:n.next}return s}class to{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ki(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(jt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(ss(t,n),kn(e,n))}this._attachedToViewContainer=!1}rs(this._lView[1],this._lView)}onDestroy(t){Xs(this._lView[1],this._lView,null,t)}markForCheck(){pr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){xe(!0);try{fr(t,e,n)}finally{xe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,fs(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class eo extends to{constructor(t){super(t),this._view=t}detectChanges(){mr(this._view)}checkNoChanges(){!function(t){xe(!0);try{mr(t)}finally{xe(!1)}}(this._view)}get context(){return null}}const no=function(t=!1){return function(t,e,n){if(!n&&qt(t)){const n=ie(t.index,e);return new to(n,n)}return 47&t.type?new to(e[16],e):null}(ge(),fe(),t)};let so=(()=>{class t{}return t.__NG_ELEMENT_ID__=no,t.__ChangeDetectorRef__=!0,t})();const ro=[new Ui],io=new Xi([new qi]),oo=new Ji(ro),ao=function(){return ho(ge(),fe())};let co=(()=>{class t{}return t.__NG_ELEMENT_ID__=ao,t})();const lo=co,uo=class extends lo{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Fs(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(n[19]=s.createEmbeddedView(e)),zs(e,n,t),new to(n)}};function ho(t,e){return 4&t.type?new uo(e,t,Di(t,e)):null}class po{}const fo=function(){return wo(ge(),fe())};let mo=(()=>{class t{}return t.__NG_ELEMENT_ID__=fo,t})();const _o=mo,go=class extends _o{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Di(this._hostTNode,this._hostLView)}get injector(){return new yn(this._hostTNode,this._hostLView)}get parentInjector(){const t=an(this._hostTNode,this._hostLView);if(Qe(t)){const e=Ke(t,this._hostLView),n=Je(t);return new yn(e[1].data[n+8],e)}return new yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=vo(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const s=t.createEmbeddedView(e||{});return this.insert(s,n),s}createComponent(t,e,n,s,r){const i=n||this.parentInjector;if(!r&&null==t.ngModule&&i){const t=i.get(po,null);t&&(r=t)}const o=t.create(i,s,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,s=n[1];if(jt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],s=new go(e,e[6],e[3]);s.detach(s.indexOf(t))}}const r=this._adjustIndex(e),i=this._lContainer;!function(t,e,n,s){const r=10+s,i=n.length;s>0&&(n[r-1][4]=e),s<i-10?(e[4]=n[r],Cn(n,10+s,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(s,n,i,r);const o=ds(r,i),a=n[11],c=ls(a,i[7]);return null!==c&&function(t,e,n,s,r,i){s[0]=r,s[6]=e,fs(t,s,n,1,r,i)}(s,i[6],a,n,c,o),t.attachToViewContainerRef(),Cn(yo(i),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=vo(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=ss(this._lContainer,e);n&&(kn(yo(this._lContainer),e),rs(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=ss(this._lContainer,e);return n&&null!=kn(yo(this._lContainer),e)?new to(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function vo(t){return t[8]}function yo(t){return t[8]||(t[8]=[])}function wo(t,e){let n;const s=e[t.index];if(jt(s))n=s;else{let r;if(8&t.type)r=te(s);else{const n=e[11];r=n.createComment("");const s=ne(t,e);os(n,ls(n,s),r,function(t,e){return Jt(t)?t.nextSibling(e):e.nextSibling}(n,s),!1)}e[t.index]=n=cr(s,e,r,t),dr(e,n)}return new go(n,t,e)}const bo={};class To extends Oi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Pt(t);return new ko(e,this.ngModule)}}function xo(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Co=new bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Un});class ko extends Ai{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(As).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return xo(this.componentDef.inputs)}get outputs(){return xo(this.componentDef.outputs)}create(t,e,n,s){const r=(s=s||this.ngModule)?function(t,e){return{get:(n,s,r)=>{const i=t.get(n,bo,r);return i!==bo||s===bo?i:e.get(n,s,r)}}}(t,s.injector):t,i=r.get(Ri,Kt),o=r.get(Vi,null),a=i.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Jt(t))return t.selectRootElement(e,n===pt.ShadowDom);let s="string"==typeof e?t.querySelector(e):e;return s.textContent="",s}(a,n,this.componentDef.encapsulation):es(i.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Un,clean:gr,playerHandler:null,flags:0},d=Ys(0,null,null,1,0,null,null,null,null,null),p=Fs(null,d,h,u,null,null,i,a,o,r);let f,m;Ie(p);try{const t=function(t,e,n,s,r,i){const o=n[1];n[20]=t;const a=qs(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Tr(a,c,!0),null!==t&&(Ge(r,t,c),null!==a.classes&&gs(r,t,a.classes),null!==a.styles&&_s(r,t,a.styles)));const l=s.createRenderer(t,e),u=Fs(n,$s(e),null,e.onPush?64:16,n[20],a,s,l,null,null);return o.firstCreatePass&&(cn(sn(a,n),o,e.type),er(o,a),sr(a,n.length,1)),dr(n,u),n[20]=u}(l,this.componentDef,p,i,a);if(l)if(n)Ge(a,l,["ng-version",Fi.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let s=1,r=2;for(;s<t.length;){let i=t[s];if("string"==typeof i)2===r?""!==i&&e.push(i,t[++s]):8===r&&n.push(i);else{if(!xs(r))break;r=i}s++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ge(a,l,t),e&&e.length>0&&gs(a,l,e.join(" "))}if(m=se(d,20),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const s=e[n];t.push(null!=s?Array.from(s):null)}}f=function(t,e,n,s,r){const i=n[1],o=function(t,e,n){const s=ge();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),rr(t,s,e,Ls(t,e,1,null),n));const r=_n(e,t,s.directiveStart,s);Wn(r,e);const i=ne(s,e);return i&&Wn(i,e),r}(i,n,e);if(s.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries){const t=ge();e.contentQueries(1,o,t.directiveStart)}const a=ge();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(qe(a.index),Ks(n[1],a,0,a.directiveStart,a.directiveEnd,e),tr(e,o)),o}(t,this.componentDef,p,h,[qr]),zs(d,p,null)}finally{je()}return new So(this.componentType,f,Di(m,p),p,m)}}class So extends class{}{constructor(t,e,n,s,r){super(),this.location=n,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new eo(s),this.componentType=t}get injector(){return new yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ao=new Map;class Eo extends po{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new To(this);const n=Rt(t),s=t[kt]||null;s&&Si(s),this._bootstrapComponents=Gn(n.bootstrap),this._r3Injector=Dr(t,e,[{provide:po,useValue:this},{provide:Oi,useValue:this.componentFactoryResolver}],G(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Fr.THROW_IF_NOT_FOUND,n=at.Default){return t===Fr||t===po||t===xr?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Oo extends class{}{constructor(t){super(),this.moduleType=t,null!==Rt(t)&&function(t){const e=new Set;!function t(n){const s=Rt(n,!0),r=s.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${G(e)} vs ${G(e.name)}`)}(r,Ao.get(r),n),Ao.set(r,n));const i=Gn(s.imports);for(const o of i)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Eo(this.moduleType,t)}}function Mo(t,e){const n=t[e];return n===Es?void 0:n}function Do(t,e,n,s,r,i){const o=e+n;return Ur(t,o,r)?Wr(t,o+1,i?s.call(i,r):s(r)):Mo(t,o+1)}function Io(t,e){const n=me();let s;const r=t+20;n.firstCreatePass?(s=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const s=e[n];if(t===s.name)return s}throw new Zt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=s,s.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,s.onDestroy)):s=n.data[r];const i=s.factory||(s.factory=Ht(s.type)),o=lt($r);try{const t=en(!1),e=i();return en(t),function(t,e,n,s){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=s}(n,fe(),r,e),e}finally{lt(o)}}function No(t,e){return t[1].data[e].pure}function Po(t,e){return Hr.isWrapped(e)&&(e=Hr.unwrap(e),t[de.lFrame.bindingIndex]=Es),e}const Ro=class extends x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let s,r=t=>null,i=()=>null;t&&"object"==typeof t?(s=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(i=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(i=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(s,r,i);return t instanceof h&&t.add(o),o}};function Vo(){return this._results[zr()]()}class jo{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=zr(),n=jo.prototype;n[e]||(n[e]=Vo)}get changes(){return this._changes||(this._changes=new Ro)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=Tn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++){let r=t[s],i=e[s];if(n&&(r=n(r),i=n(i)),i!==r)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Fo{constructor(t){this.queryList=t,this.matches=null}clone(){return new Fo(this.queryList)}setDirty(){this.queryList.setDirty()}}class qo{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);s.push(this.queries[n.indexInDeclarationView].clone())}return new qo(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Xo(t,e).matches&&this.queries[e].setDirty()}}class Lo{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class zo{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const s=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,s);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new zo(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ho{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ho(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let s=0;s<n.length;s++){const r=n[s];this.matchTNodeWithReadOption(t,e,Zo(e,r)),this.matchTNodeWithReadOption(t,e,mn(e,t,r,!1,!1))}else n===co?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,mn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const s=this.metadata.read;if(null!==s)if(s===Ni||s===mo||s===co&&4&e.type)this.addMatch(e.index,-2);else{const n=mn(e,t,s,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Zo(t,e){const n=t.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===e)return n[s+1];return null}function Bo(t,e,n,s){return-1===n?function(t,e){return 11&t.type?Di(t,e):4&t.type?ho(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ni?Di(e,t):n===co?ho(e,t):n===mo?wo(e,t):void 0}(t,e,s):_n(t,t[1],n,e)}function Wo(t,e,n,s){const r=e[19].queries[s];if(null===r.matches){const s=t.data,i=n.matches,o=[];for(let t=0;t<i.length;t+=2){const r=i[t];o.push(r<0?null:Bo(e,s[r],i[t+1],n.metadata.read))}r.matches=o}return r.matches}function Uo(t,e,n,s){const r=t.queries.getByIndex(n),i=r.matches;if(null!==i){const o=Wo(t,e,r,n);for(let t=0;t<i.length;t+=2){const n=i[t];if(n>0)s.push(o[t/2]);else{const r=i[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&Uo(e[1],e,r,s)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Uo(n[1],n,r,s)}}}}}return s}function Go(t){const e=fe(),n=me(),s=Ee();Oe(s+1);const r=Xo(n,s);if(t.dirty&&ae(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const i=r.crossesNgTemplate?Uo(n,e,s,[]):Wo(n,e,r,s);t.reset(i,Pi),t.notifyOnChanges()}return!0}return!1}function $o(t,e,n){const s=me();s.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new zo),t.queries.track(new Ho(e,-1))}(s,new Lo(t,e,n)),2==(2&e)&&(s.staticViewQueries=!0)),function(t,e,n){const s=new jo(4==(4&n));Xs(t,e,s,s.destroy),null===e[19]&&(e[19]=new qo),e[19].queries.push(new Fo(s))}(s,fe(),e)}function Yo(){return t=fe(),e=Ee(),t[19].queries[e].queryList;var t,e}function Xo(t,e){return t.queries.getByIndex(e)}function Qo(t,e){return ho(t,e)}const Jo=new bn("Application Initializer");let Ko=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Mi,this.reject=Mi,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ri(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Rn(Jo,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const ta=new bn("AppId"),ea={provide:ta,useFactory:function(){return`${na()}${na()}${na()}`},deps:[]};function na(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sa=new bn("Platform Initializer"),ra=new bn("Platform ID"),ia=new bn("appBootstrapListener");let oa=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const aa=new bn("LocaleId"),ca=new bn("DefaultCurrencyCode");class la{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ua=function(t){return new Oo(t)},ha=ua,da=function(t){return Promise.resolve(ua(t))},pa=function(t){const e=ua(t),n=Gn(Rt(t).declarations).reduce((t,e)=>{const n=Pt(e);return n&&t.push(new ko(n)),t},[]);return new la(e,n)},fa=pa,ma=function(t){return Promise.resolve(pa(t))};let _a=(()=>{class t{constructor(){this.compileModuleSync=ha,this.compileModuleAsync=da,this.compileModuleAndAllComponentsSync=fa,this.compileModuleAndAllComponentsAsync=ma}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const ga=(()=>Promise.resolve(0))();function va(t){"undefined"==typeof Zone?ga.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ya{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ro(!1),this.onMicrotaskEmpty=new Ro(!1),this.onStable=new Ro(!1),this.onError=new Ro(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=vt.requestAnimationFrame,e=vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ta(t),ba(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ta(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,r,i,o,a)=>{try{return xa(t),n.invokeTask(r,i,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&e(),Ca(t)}},onInvoke:(n,s,r,i,o,a,c)=>{try{return xa(t),n.invoke(r,i,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ca(t)}},onHasTask:(e,n,s,r)=>{e.hasTask(s,r),n===s&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Ta(t),ba(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,s,r)=>(e.handleError(s,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ya.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ya.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,s){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+s,t,wa,Mi,Mi);try{return r.runTask(i,e,n)}finally{r.cancelTask(i)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const wa={};function ba(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ta(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xa(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ca(t){t._nesting--,ba(t)}class ka{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ro,this.onMicrotaskEmpty=new Ro,this.onStable=new Ro,this.onError=new Ro}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,s){return t.apply(e,n)}}let Sa=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ya.assertNotInAngularZone(),va(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())va(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let s=-1;e&&e>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==s),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Rn(ya))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Aa=(()=>{class t{constructor(){this._applications=new Map,Ma.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ma.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class Ea{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Oa,Ma=new Ea,Da=!1;function Ia(){return Da=!0,!0}const Na=new bn("AllowMultipleToken");function Pa(t,e,n=[]){const s="Platform: "+e,r=new bn(s);return(e=[])=>{let i=Ra();if(!i||i.injector.get(Na,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:kr,useValue:"platform"});!function(t){if(Oa&&!Oa.destroyed&&!Oa.injector.get(Na,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Oa=t.get(Va);const e=t.get(sa,null);e&&e.forEach(t=>t())}(Fr.create({providers:t,name:s}))}return function(t){const e=Ra();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Ra(){return Oa&&!Oa.destroyed?Oa:null}let Va=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ka:("zone.js"===t?void 0:t)||new ya({enableLongStackTrace:Ia(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),s=[{provide:ya,useValue:n}];return n.run(()=>{const e=Fr.create({providers:s,parent:this.injector,name:t.moduleType.name}),r=t.create(e),i=r.injector.get(Bn,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{i.handleError(t)}});r.onDestroy(()=>{qa(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const s=n();return ri(s)?s.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):s}catch(s){throw e.runOutsideAngular(()=>t.handleError(s)),s}}(i,n,()=>{const t=r.injector.get(Ko);return t.runInitializers(),t.donePromise.then(()=>(Si(r.injector.get(aa,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=ja({},e);return function(t,e,n){const s=new Oo(n);return Promise.resolve(s)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Fa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${G(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Rn(Fr))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function ja(t,e){return Array.isArray(e)?e.reduce(ja,t):Object.assign(Object.assign({},t),e)}let Fa=(()=>{class t{constructor(t,e,n,s,r,i){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ya.assertNotInAngularZone(),va(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ya.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,s=t[t.length-1];var r;return(r=s)&&"function"==typeof r.schedule?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof s&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:function(t=Number.POSITIVE_INFINITY){return V(g,t)}(e)(function(t,e){return e?N(t,e):new v(A(t))}(t,n))}(o,a.pipe(t=>{return q()((e=W,function(t){let n;n="function"==typeof e?e:function(){return e};const s=Object.create(t,Z);return s.source=t,s.subjectFactory=n,s})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ai?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const s=n.isBoundToModule?void 0:this._injector.get(po),r=n.create(Fr.NULL,[],e||n.selector,s),i=r.location.nativeElement,o=r.injector.get(Sa,null),a=o&&r.injector.get(Aa);return o&&a&&a.registerApplication(i,o),r.onDestroy(()=>{this.detachView(r.hostView),qa(this.components,r),a&&a.unregisterApplication(i)}),this._loadComponent(r),Ia()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;qa(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ia,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Rn(ya),Rn(oa),Rn(Fr),Rn(Bn),Rn(Oi),Rn(Ko))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();function qa(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const La=Pa(null,"core",[{provide:ra,useValue:"unknown"},{provide:Va,deps:[Fr]},{provide:Aa,deps:[]},{provide:oa,deps:[]}]),za=[{provide:Fa,useClass:Fa,deps:[ya,oa,Fr,Bn,Oi,Ko]},{provide:Co,deps:[ya],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ko,useClass:Ko,deps:[[new qn,Jo]]},{provide:_a,useClass:_a,deps:[]},ea,{provide:Xi,useFactory:function(){return io},deps:[]},{provide:Ji,useFactory:function(){return oo},deps:[]},{provide:aa,useFactory:function(t){return Si(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Fn(aa),new qn,new Ln]]},{provide:ca,useValue:"USD"}];let Ha=(()=>{class t{constructor(t){}}return t.\u0275mod=It({type:t}),t.\u0275inj=K({factory:function(e){return new(e||t)(Rn(Fa))},providers:za}),t})(),Za=null;function Ba(){return Za}const Wa=new bn("DocumentToken");var Ua=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Ga{}let $a=(()=>{class t extends Ga{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=xi(e);if(n)return n;const s=e.split("-")[0];if(n=xi(s),n)return n;if("en"===s)return bi;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ci.PluralCase]}(e||this.locale)(t)){case Ua.Zero:return"zero";case Ua.One:return"one";case Ua.Two:return"two";case Ua.Few:return"few";case Ua.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Rn(aa))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),Ya=(()=>{class t{}return t.\u0275mod=It({type:t}),t.\u0275inj=K({factory:function(e){return new(e||t)},providers:[{provide:Ga,useClass:$a}]}),t})();class Xa extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Xa,Za||(Za=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Ja||(Ja=document.querySelector("base"),Ja)?Ja.getAttribute("href"):null;return null==e?null:(n=e,Qa||(Qa=document.createElement("a")),Qa.setAttribute("href",n),"/"===Qa.pathname.charAt(0)?Qa.pathname:"/"+Qa.pathname);var n}resetBaseElement(){Ja=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[s,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}}let Qa,Ja=null;const Ka=new bn("TRANSITION_ID"),tc=[{provide:Jo,useFactory:function(t,e,n){return()=>{n.get(Ko).donePromise.then(()=>{const n=Ba();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Ka,Wa,Fr],multi:!0}];class ec{static init(){var t;t=new ec,Ma=t}addToWindow(t){vt.getAngularTestability=(e,n=!0)=>{const s=t.findTestabilityInTree(e,n);if(null==s)throw new Error("Could not find testability for element.");return s},vt.getAllAngularTestabilities=()=>t.getAllTestabilities(),vt.getAllAngularRootElements=()=>t.getAllRootElements(),vt.frameworkStabilizers||(vt.frameworkStabilizers=[]),vt.frameworkStabilizers.push(t=>{const e=vt.getAllAngularTestabilities();let n=e.length,s=!1;const r=function(e){s=s||e,n--,0==n&&t(s)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:n?Ba().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const nc=new bn("EventManagerPlugins");let sc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let s=0;s<n.length;s++){const e=n[s];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(Rn(nc),Rn(ya))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class rc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const s=Ba().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,n)}}let ic=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),oc=(()=>{class t extends ic{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Ba().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Rn(Wa))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const ac={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cc=/%COMP%/g;function lc(t,e,n){for(let s=0;s<e.length;s++){let r=e[s];Array.isArray(r)?lc(t,r,n):(r=r.replace(cc,t),n.push(r))}return n}function uc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let hc=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new dc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case pt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new pc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case pt.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=lc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Rn(sc),Rn(oc),Rn(ta))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();class dc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ac[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,s){if(s){e=s+":"+e;const r=ac[s];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const s=ac[n];s?t.removeAttributeNS(s,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,s){s&($n.DashCase|$n.Important)?t.style.setProperty(e,n,s&$n.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&$n.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,uc(n)):this.eventManager.addEventListener(t,e,uc(n))}}class pc extends dc{constructor(t,e,n,s){super(t),this.component=n;const r=lc(s+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(cc,s+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(cc,s+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class fc extends dc{constructor(t,e,n,s){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=lc(s.id,s.styles,[]);for(let i=0;i<r.length;i++){const t=document.createElement("style");t.textContent=r[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let mc=(()=>{class t extends rc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Rn(Wa))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const _c=["alt","control","meta","shift"],gc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let wc=(()=>{class t extends rc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,s){const r=t.parseEventName(n),i=t.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ba().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const n=e.toLowerCase().split("."),s=n.shift();if(0===n.length||"keydown"!==s&&"keyup"!==s)return null;const r=t._normalizeKey(n.pop());let i="";if(_c.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),i+=t+".")}),i+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=s,o.fullKey=i,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&vc.hasOwnProperty(e)&&(e=vc[e]))}return gc[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),_c.forEach(s=>{s!=n&&(0,yc[s])(t)&&(e+=s+".")}),e+=n,e}static eventCallback(e,n,s){return r=>{t.getEventFullKey(r)===e&&s.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Rn(Wa))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})();const bc=Pa(La,"browser",[{provide:ra,useValue:"browser"},{provide:sa,useValue:function(){Xa.makeCurrent(),ec.init()},multi:!0},{provide:Wa,useFactory:function(){return function(t){Qt=t}(document),document},deps:[]}]),Tc=[[],{provide:kr,useValue:"root"},{provide:Bn,useFactory:function(){return new Bn},deps:[]},{provide:nc,useClass:mc,multi:!0,deps:[Wa,ya,ra]},{provide:nc,useClass:wc,multi:!0,deps:[Wa]},[],{provide:hc,useClass:hc,deps:[sc,oc,ta]},{provide:Ri,useExisting:hc},{provide:ic,useExisting:oc},{provide:oc,useClass:oc,deps:[Wa]},{provide:Sa,useClass:Sa,deps:[ya]},{provide:sc,useClass:sc,deps:[nc,ya]},[]];let xc=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:ta,useValue:e.appId},{provide:Ka,useExisting:ta},tc]}}}return t.\u0275mod=It({type:t}),t.\u0275inj=K({factory:function(e){return new(e||t)(Rn(t,12))},providers:Tc,imports:[Ya,Ha]}),t})();"undefined"!=typeof window&&window;let Cc=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),t})(),kc=(()=>{class t{}return t.\u0275mod=It({type:t}),t.\u0275inj=K({factory:function(e){return new(e||t)}}),t})(),Sc=(()=>{class t{}return t.\u0275mod=It({type:t}),t.\u0275inj=K({factory:function(e){return new(e||t)},providers:[Cc],imports:[kc]}),t})();var Ac=n("BNHZ");const Ec=new WeakSet,Oc=new WeakMap,Mc=new WeakMap,Dc=new WeakMap,Ic=new WeakMap,Nc=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,Vc=new WeakMap,jc=new WeakMap,Fc={construct:()=>Fc},qc=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Lc=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(qc);for(;null!==r;){const t=r[1].slice(1,-1),i=r[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(i),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(qc)}return[n.join(";"),s]},zc=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Hc=t=>{if(!(t=>{try{new new Proxy(t,Fc)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},Zc=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},Bc=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return t.delete(s),s},Wc=(t,e,n,s)=>{const r=Zc(t,e),i=Bc(r,t=>t[0]===n&&t[1]===s);return 0===r.size&&t.delete(e),i},Uc=t=>Zc(Pc,t),Gc=t=>{if(Ec.has(t))throw new Error("The AudioNode is already stored.");Ec.add(t),Uc(t).forEach(t=>t(!0))},$c=t=>"port"in t,Yc=t=>{if(!Ec.has(t))throw new Error("The AudioNode is not stored.");Ec.delete(t),Uc(t).forEach(t=>t(!1))},Xc=(t,e)=>{!$c(t)&&e.every(t=>0===t.size)&&Yc(t)},Qc={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Jc=(t,e)=>t.context===e,Kc=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},tl=()=>new DOMException("","IndexSizeError"),el=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(s){if(12===s.code)throw tl();throw s}})},nl={numberOfChannels:1},sl=-34028234663852886e22,rl=-sl,il=t=>Ec.has(t),ol={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},al=t=>Zc(Oc,t),cl=t=>Zc(Dc,t),ll=(t,e)=>{const{activeInputs:n}=al(t);n.forEach(n=>n.forEach(([n])=>{e.includes(t)||ll(n,[...e,t])}));const s=(t=>"playbackRate"in t)(t)?[t.playbackRate]:$c(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const r of s){const t=cl(r);void 0!==t&&t.activeInputs.forEach(([t])=>ll(t,e))}il(t)&&Yc(t)},ul=t=>{ll(t.destination,[])},hl=t=>"context"in t,dl=t=>hl(t[0]),pl=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},fl=(t,e,[n,s],r)=>{pl(t,[e,n,s],t=>t[0]===e&&t[1]===n,r)},ml=(t,[e,n,s],r)=>{const i=t.get(e);void 0===i?t.set(e,new Set([[n,s]])):pl(i,[n,s],t=>t[0]===n,r)},_l=t=>"inputs"in t,gl=(t,e,n,s)=>{if(_l(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},vl=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},yl=(t,e)=>{if(!Uc(t).delete(e))throw new Error("Missing the expected event listener.")},wl=(t,e,n)=>{const s=Zc(t,e),r=Bc(s,t=>t[0]===n);return 0===s.size&&t.delete(e),r},bl=(t,e,n,s)=>{_l(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},Tl=t=>Zc(Mc,t),xl=t=>Zc(Ic,t),Cl=t=>Rc.has(t),kl=t=>!Ec.has(t),Sl=t=>new Promise(e=>{const n=t.createScriptProcessor(256,1,1),s=t.createGain(),r=t.createBuffer(1,2,44100),i=r.getChannelData(0);i[0]=1,i[1]=1;const o=t.createBufferSource();o.buffer=r,o.loop=!0,o.connect(n).connect(t.destination),o.connect(s),o.disconnect(s),n.onaudioprocess=s=>{const r=s.inputBuffer.getChannelData(0);Array.prototype.some.call(r,t=>1===t)?e(!0):e(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(t.destination)},o.start()}),Al=(t,e)=>{const n=new Map;for(const s of t)for(const t of s){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach((t,n)=>e(n,t))},El=t=>"context"in t,Ol=(t,e,n,s,r)=>{const[i,o]=((t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=al(e),o=vl(r[s],t,n);return null===o?[Wc(i,t,n,s)[2],!1]:[o[2],!0]})(t,n,s,r);if(null!==i&&(yl(t,i),!o||e||Cl(t)||bl(Tl(t),Tl(n),s,r)),il(n)){const{activeInputs:t}=al(n);Xc(n,t)}},Ml=(t,e,n,s)=>{const[r,i]=((t,e,n)=>{const{activeInputs:s,passiveInputs:r}=cl(e),i=vl(s,t,n);return null===i?[wl(r,t,n)[1],!1]:[i[2],!0]})(t,n,s);null!==r&&(yl(t,r),!i||e||Cl(t)||Tl(t).disconnect(xl(n),s))};class Dl{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach((n,s)=>t.call(e,n,s,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Il={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Nl(t,e,n,s,r){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(0===e[n].byteLength)e[n]=i.slice(r,r+128);else{const t=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Pl=(t,e,n,s,r)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],s,r):0!==e[n].byteLength&&t.getChannelData(s).set(e[n],r)},Rl=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const t=[],r="number"==typeof e?e:e[s];for(let e=0;e<r;e+=1)t.push(new Float32Array(128));n.push(t)}return n},Vl={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},jl={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Fl={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},ql={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ll={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},zl={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Hl=(t,e,n)=>{const s=e[n];if(void 0===s)throw t();return s},Zl={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Bl={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Wl=()=>new DOMException("","InvalidStateError"),Ul=()=>new DOMException("","InvalidAccessError"),Gl={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},$l=(t,e,n,s,r,i,o,a,c,l,u)=>{const h=l.length;let d=a;for(let p=0;p<h;p+=1){let a=n[0]*l[p];for(let e=1;e<r;e+=1){const s=d-e&c-1;a+=n[e]*i[s],a-=t[e]*o[s]}for(let t=r;t<s;t+=1)a+=n[t]*i[d-t&c-1];for(let n=r;n<e;n+=1)a-=t[n]*o[d-n&c-1];i[d]=l[p],o[d]=a,d=d+1&c-1,u[p]=a}return d},Yl={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Xl=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return void 0!==n&&(n.catch(()=>{}),!0)}catch{}return!1},Ql=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n]&&(t[n]=s)},Jl=(t,e)=>{Ql(t,e,"channelCount"),Ql(t,e,"channelCountMode"),Ql(t,e,"channelInterpretation")},Kl=t=>"function"==typeof t.getFloatTimeDomainData,tu=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n].value&&(t[n].value=s)},eu=t=>{var e;t.start=(e=t.start,(n=0,s=0,r)=>{if("number"==typeof r&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})},nu=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},su=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),ru=(t,e)=>{const n=t.createBiquadFilter();return Jl(n,e),tu(n,e,"Q"),tu(n,e,"detune"),tu(n,e,"frequency"),tu(n,e,"gain"),Ql(n,e,"type"),n},iu=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Jl(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Wl()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Wl()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Wl()}})})(n),n},ou=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),au=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Jl(n,e),tu(n,e,"delayTime"),n},cu=(t,e)=>{const n=t.createGain();return Jl(n,e),tu(n,e,"gain"),n};function lu(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function uu(t,e){let n=[0,0];for(let i=t.length-1;i>=0;i-=1)n=[(s=n)[0]*(r=e)[0]-s[1]*r[1],s[0]*r[1]+s[1]*r[0]],n[0]+=t[i];var s,r;return n}const hu=(t,e,n,s)=>t.createScriptProcessor(e,n,s),du=()=>new DOMException("","NotSupportedError"),pu={numberOfChannels:1},fu={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},mu={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},_u={disableNormalization:!1},gu={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},vu={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},yu=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},wu=(t,e,n,s)=>{let r=Object.getPrototypeOf(t);for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},bu=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(9!==s.code)throw s;bu(t,e,n+1e-7)}},Tu=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},xu=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Cu=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},ku=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=t.disconnect,()=>{r.call(t,n),t.removeEventListener("ended",s)});var r;t.addEventListener("ended",s),ou(t,n),t.stop=(e=>{let s=!1;return(r=0)=>{if(s)try{e.call(t,r)}catch{n.gain.setValueAtTime(0,r)}else e.call(t,r),s=!0}})(t.stop)},Su=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},Au=(Eu=pl,(t,e,[n,s,r],i)=>{Eu(t[s],[e,n,r],t=>t[0]===e&&t[1]===n,i)});var Eu;const Ou=(t=>(e,n,[s,r,i],o)=>{const a=e.get(s);void 0===a?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],t=>t[0]===r&&t[1]===n,o)})(pl),Mu=(t=>(e,n,s,r)=>t(e[r],t=>t[0]===n&&t[1]===s))(Bc),Du=new WeakMap,Iu=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(Du),Nu=(Pu=new Map,Ru=new WeakMap,(t,e)=>{const n=Ru.get(t);if(void 0!==n)return n;const s=Pu.get(t);if(void 0!==s)return s;try{const n=e();return n instanceof Promise?(Pu.set(t,n),n.catch(()=>!1).then(e=>(Pu.delete(t),Ru.set(t,e),e))):(Ru.set(t,n),n)}catch{return Ru.set(t,!1),!1}});var Pu,Ru;const Vu="undefined"==typeof window?null:window,ju=(Fu=Nu,qu=tl,(t,e)=>{const n=t.createAnalyser();if(Jl(n,e),!(e.maxDecibels>e.minDecibels))throw qu();return Ql(n,e,"fftSize"),Ql(n,e,"maxDecibels"),Ql(n,e,"minDecibels"),Ql(n,e,"smoothingTimeConstant"),Fu(Kl,()=>Kl(n))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let t=0;t<s;t+=1)e[t]=.0078125*(n[t]-128);return e}})(n),n});var Fu,qu;const Lu=(zu=al,t=>{const e=zu(t);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer});var zu;const Hu=((t,e,n)=>async(s,r,i,o)=>{const a=t(s),c=[...o,s];await Promise.all(a.activeInputs.map((t,o)=>Array.from(t).filter(([t])=>!c.includes(t)).map(async([t,a])=>{const l=e(t),u=await l.render(t,r,c),h=s.context.destination;n(t)||s===h&&n(s)||u.connect(i,a,o)})).reduce((t,e)=>[...t,...e],[]))})(al,Lu,Cl),Zu=(Bu=ju,Wu=Tl,Uu=Hu,()=>{const t=new WeakMap;return{render(e,n,s){const r=t.get(n);return void 0!==r?Promise.resolve(r):(async(e,n,s)=>{let r=Wu(e);return Jc(r,n)||(r=Bu(n,{channelCount:r.channelCount,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,fftSize:r.fftSize,maxDecibels:r.maxDecibels,minDecibels:r.minDecibels,smoothingTimeConstant:r.smoothingTimeConstant})),t.set(n,r),await Uu(e,n,r,s),r})(e,n,s)}}});var Bu,Wu,Uu;const Gu=($u=Nc,t=>{const e=$u.get(t);if(void 0===e)throw Wl();return e});var $u;const Yu=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(Vu),Xu=(Qu=Yu,t=>null!==Qu&&t instanceof Qu);var Qu;const Ju=new WeakMap,Ku=(th=Su,class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,e,n){if(null!==e){let s=this._listeners.get(e);void 0===s&&(s=th(this,e),"function"==typeof e&&this._listeners.set(e,s)),this._nativeEventTarget.addEventListener(t,s,n)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const s=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===s?null:s,n)}});var th;const eh=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(Vu),nh=(sh=eh,t=>null!==sh&&t instanceof sh);var sh;const rh=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(Vu),ih=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(Vu),oh=((t,e,n,s,r,i,o,a,c,l,u,h,d,p,f)=>class extends l{constructor(e,s,r,i){super(r),this._context=e,this._nativeAudioNode=r;const o=u(e);h(o)&&!0!==n(Sl,()=>Sl(o))&&(t=>{const e=new Map;var n,s;t.connect=(n=t.connect.bind(t),(t,s=0,r=0)=>{const i=El(t)?n(t,s,r):n(t,s),o=e.get(t);return void 0===o?e.set(t,[{input:r,output:s}]):o.every(t=>t.input!==r||t.output!==s)&&o.push({input:r,output:s}),i}),t.disconnect=(s=t.disconnect,(n,r,i)=>{if(s.apply(t),void 0===n)e.clear();else if("number"==typeof n)for(const[t,s]of e){const r=s.filter(t=>t.output!==n);0===r.length?e.delete(t):e.set(t,r)}else if(e.has(n))if(void 0===r)e.delete(n);else{const t=e.get(n);if(void 0!==t){const s=t.filter(t=>t.output!==r&&(t.input!==i||void 0===i));0===s.length?e.delete(n):e.set(n,s)}}for(const[s,o]of e)o.forEach(e=>{El(s)?t.connect(s,e.output,e.input):t.connect(s,e.output)})})})(r),Mc.set(this,r),Pc.set(this,new Set),"closed"!==e.state&&s&&Gc(this),t(this,i,r)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw r();const l=u(this._context),h=f(l);if(d(t)||p(t))throw i();if(hl(t)){const r=Tl(t);try{const e=gl(this._nativeAudioNode,r,n,a),s=kl(this);(h||s)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!s&&kl(t)&&Gc(t)}catch(_){if(12===_.code)throw i();throw _}if(e(this,t,n,a,h)){const e=c([this],t);Al(e,s(h))}return t}const m=xl(t);if("playbackRate"===m.name)throw o();try{this._nativeAudioNode.connect(m,n),(h||kl(this))&&this._nativeAudioNode.disconnect(m,n)}catch(_){if(12===_.code)throw i();throw _}if(((t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=cl(e),{outputs:o}=al(t),a=Uc(t),c=o=>{const a=Tl(t),c=xl(e);if(o){const e=wl(i,t,n);fl(r,t,e,!1),s||Cl(t)||a.connect(c,n)}else{const e=((t,e,n)=>Bc(t,t=>t[0]===e&&t[1]===n))(r,t,n);ml(i,e,!1),s||Cl(t)||a.disconnect(c,n)}};return!!pl(o,[e,n],t=>t[0]===e&&t[1]===n,!0)&&(a.add(c),il(t)?fl(r,t,[n,c],!0):ml(i,[t,n,c],!0),!0)})(this,t,n,h)){const e=c([this],t);Al(e,s(h))}}disconnect(t,e,n){let s;const o=u(this._context),l=f(o);if(void 0===t)s=((t,e)=>{const n=al(t),s=[];for(const r of n.outputs)dl(r)?Ol(t,e,...r):Ml(t,e,...r),s.push(r[0]);return n.outputs.clear(),s})(this,l);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw r();s=((t,e,n)=>{const s=al(t),r=[];for(const i of s.outputs)i[1]===n&&(dl(i)?Ol(t,e,...i):Ml(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r})(this,l,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw r();if(hl(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw r();if(s=((t,e,n,s,r)=>{const i=al(t);return Array.from(i.outputs).filter(t=>!(t[0]!==n||void 0!==s&&t[1]!==s||void 0!==r&&t[2]!==r)).map(n=>(dl(n)?Ol(t,e,...n):Ml(t,e,...n),i.outputs.delete(n),n[0]))})(this,l,t,e,n),0===s.length)throw i()}for(const r of s){const t=c([this],r);Al(t,a)}}})((ah=Oc,(t,e,n)=>{const s=[];for(let r=0;r<n.numberOfInputs;r+=1)s.push(new Set);ah.set(t,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,s,r,i,o,a,c,l,u,h,d)=>{const p=new WeakMap;return(f,m,_,g,v)=>{const{activeInputs:y,passiveInputs:w}=i(m),{outputs:b}=i(f),T=a(f),x=i=>{const a=c(m),l=c(f);if(i){const e=Wc(w,f,_,g);t(y,f,e,!1),v||h(f)||n(l,a,_,g),d(m)&&Gc(m)}else{const t=s(y,f,_,g);e(w,g,t,!1),v||h(f)||r(l,a,_,g);const n=o(m);if(0===n)u(m)&&Xc(m,y);else{const t=p.get(m);void 0!==t&&clearTimeout(t),p.set(m,setTimeout(()=>{u(m)&&Xc(m,y)},1e3*n))}}};return!!l(b,[m,_,g],t=>t[0]===m&&t[1]===_&&t[2]===g,!0)&&(T.add(x),u(f)?t(y,f,[_,g,x],!0):e(w,g,[f,_,x],!0),!0)}})(Au,Ou,gl,Mu,bl,al,Iu,Uc,Tl,pl,il,Cl,kl),Nu,((t,e,n,s,r,i)=>o=>(a,c)=>{const l=t.get(a);if(void 0===l){if(!o&&i(a)){const t=s(a),{outputs:i}=n(a);for(const n of i)if(dl(n)){const r=s(n[0]);e(t,r,n[1],n[2])}else{const e=r(n[0]);t.disconnect(e,n[1])}}t.set(a,c)}else t.set(a,l+c)})(Rc,bl,al,Tl,xl,il),tl,Ul,du,((t,e,n,s,r,i,o,a)=>(c,l)=>{const u=e.get(c);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=i(c.context),d=a(h);if(u===l){if(e.delete(c),!d&&o(c)){const e=s(c),{outputs:i}=n(c);for(const n of i)if(dl(n)){const r=s(n[0]);t(e,r,n[1],n[2])}else{const t=r(n[0]);e.connect(t,n[1])}}}else e.set(c,u-l)})(gl,Rc,al,Tl,xl,Gu,il,Xu),((t,e,n)=>function s(r,i){const o=hl(i)?i:n(t,i);if((t=>"delayTime"in t)(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(t=>s([...r,o],t[0])).reduce((t,e)=>t.concat(e),[])})(Ju,al,Zc),Ku,Gu,nh,rh,ih,Xu);var ah;const ch=((t,e,n,s,r,i)=>class extends t{constructor(t,n){const o=r(t),a={...Qc,...n},c=s(o,a);super(t,!1,c,i(o)?e():null),this._nativeAnalyserNode=c}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(oh,Zu,tl,ju,Gu,Xu),lh=new WeakSet,uh=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(Vu),hh=(dh=new Uint32Array(1),t=>(dh[0]=t,dh[0]));var dh;const ph=((t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=s.length;for(let t=o<0?-o:0;t+o<c&&t<u;t+=1)s[t]=l[t+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=s.length;for(let t=o<0?-o:0;t+o<c&&t<u;t+=1)l[t+o]=s[t]}})(hh,tl),fh=(t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)})(hh),mh=((t,e,n,s,r,i,o,a)=>{let c=null;return class l{constructor(l){if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:d}={...nl,...l};null===c&&(c=new r(1,1,44100));const p=null!==s&&e(i,i)?new s({length:u,numberOfChannels:h,sampleRate:d}):c.createBuffer(h,u,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(o(p),el(p)):e(Kc,()=>Kc(p))||a(p),t.add(p),p}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===l.prototype||t.has(e)}}})(lh,Nu,du,uh,Yu,(_h=uh,()=>{if(null===_h)return!1;try{new _h({length:1,sampleRate:44100})}catch{return!1}return!0}),ph,fh);var _h;const gh=(vh=cu,(t,e)=>{const n=vh(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(n).connect(t.destination);const s=()=>{e.removeEventListener("ended",s),e.disconnect(n),n.disconnect()};e.addEventListener("ended",s)});var vh;const yh=((t,e,n)=>async(s,r,i,o)=>{const a=e(s);await Promise.all(Array.from(a.activeInputs).map(async([e,s])=>{const a=t(e),c=await a.render(e,r,o);n(e)||c.connect(i,s)}))})(Lu,cl,Cl),wh=(t=>(e,n,s,r)=>t(n,e,s,r))(yh),bh=((t,e,n,s,r,i,o,a,c,l,u)=>(c,h)=>{const d=c.createBufferSource();return Jl(d,h),tu(d,h,"playbackRate"),Ql(d,h,"buffer"),Ql(d,h,"loop"),Ql(d,h,"loopEnd"),Ql(d,h,"loopStart"),e(n,()=>n(c))||(t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw Wl();e.call(t,s,r,i),n=!0}})(t.start)})(d),e(s,()=>s(c))||(t=>{var e;t.start=(e=t.start,(n=0,s=0,r)=>{const i=t.buffer,o=null===i?s:Math.min(i.duration,s);null!==i&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})})(d),e(r,()=>r(c))||l(d,c),e(i,()=>i(c))||eu(d),e(o,()=>o(c))||u(d,c),e(a,()=>a(c))||nu(d),t(c,d),d})(gh,Nu,t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Tu,xu,Cu,0,(Th=wu,(t,e)=>{const n=e.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=n),Th(t,"buffer",e=>()=>{const s=e.call(t);return s===n?null:s},e=>s=>e.call(t,null===s?n:s))}),ku);var Th;const xh=((t,e)=>(n,s,r,i)=>(t(s).replay(r),e(s,n,r,i)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(cl),yh),Ch=((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(c,l,u){const h=i.get(l);return void 0!==h?Promise.resolve(h):(async(c,l,u)=>{let h=n(c);const d=Jc(h,l);return d||(h=e(l,{buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value}),null!==o&&h.start(...o),null!==a&&h.stop(a)),i.set(l,h),d?await t(l,c.playbackRate,h.playbackRate,u):await s(l,c.playbackRate,h.playbackRate,u),await r(c,l,h,u),h})(c,l,u)}}})(wh,bh,Tl,xh,Hu),kh=((t,e,n,s,r,i,o,a,c,l,u,h,d)=>(s,p,f,m=null,_=null)=>{const g=new Ac.AutomationEventList(f.defaultValue),v=p?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:s}=n;e.exponentialRampToValueAtTime(s,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:s}=n;e.linearRampToValueAtTime(s,t)}else if("setTarget"===n.type){const{startTime:t,target:s,timeConstant:r}=n;e.setTargetAtTime(s,t,r)}else if("setValue"===n.type){const{startTime:t,value:s}=n;e.setValueAtTime(s,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:s,values:r}=n;e.setValueCurveAtTime(r,s,t)}}}}))(g):null,y={get defaultValue(){return f.defaultValue},get maxValue(){return null===m?f.maxValue:m},get minValue(){return null===_?f.minValue:_},get value(){return f.value},set value(t){f.value=t,y.setValueAtTime(t,s.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof f.cancelAndHoldAtTime)null===v&&g.flush(s.context.currentTime),g.add(r(t)),f.cancelAndHoldAtTime(t);else{const e=Array.from(g).pop();null===v&&g.flush(s.context.currentTime),g.add(r(t));const n=Array.from(g).pop();f.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?f.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?f.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?f.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&f.setValueCurveAtTime(n.values,n.startTime,n.duration))}return y},cancelScheduledValues:t=>(null===v&&g.flush(s.context.currentTime),g.add(i(t)),f.cancelScheduledValues(t),y),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===v&&g.flush(s.context.currentTime),g.add(o(t,e)),f.exponentialRampToValueAtTime(t,e),y},linearRampToValueAtTime:(t,e)=>(null===v&&g.flush(s.context.currentTime),g.add(a(t,e)),f.linearRampToValueAtTime(t,e),y),setTargetAtTime:(t,e,n)=>(null===v&&g.flush(s.context.currentTime),g.add(c(t,e,n)),f.setTargetAtTime(t,e,n),y),setValueAtTime:(t,e)=>(null===v&&g.flush(s.context.currentTime),g.add(l(t,e)),f.setValueAtTime(t,e),y),setValueCurveAtTime(t,e,n){const r=t instanceof Float32Array?t:new Float32Array(t);if(null!==h&&"webkitAudioContext"===h.name){const t=e+n,i=s.context.sampleRate,o=Math.ceil(e*i),a=Math.floor(t*i),c=a-o,l=new Float32Array(c);for(let s=0;s<c;s+=1){const t=(r.length-1)/n*((o+s)/i-e),a=Math.floor(t),c=Math.ceil(t);l[s]=a===c?r[a]:(1-(t-a))*r[a]+(1-(c-t))*r[c]}null===v&&g.flush(s.context.currentTime),g.add(u(l,e,n)),f.setValueCurveAtTime(l,e,n);const h=a/i;h<t&&d(y,l[l.length-1],h),d(y,r[r.length-1],t)}else null===v&&g.flush(s.context.currentTime),g.add(u(r,e,n)),f.setValueCurveAtTime(r,e,n);return y}};return n.set(y,f),e.set(y,s),t(y,v),y})((Sh=Dc,(t,e)=>{Sh.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),Ju,Ic,0,Ac.createCancelAndHoldAutomationEvent,Ac.createCancelScheduledValuesAutomationEvent,Ac.createExponentialRampToValueAutomationEvent,Ac.createLinearRampToValueAutomationEvent,Ac.createSetTargetAutomationEvent,Ac.createSetValueAutomationEvent,Ac.createSetValueCurveAutomationEvent,eh,bu);var Sh;const Ah=((t,e,n,s,r,i,o,a)=>class extends t{constructor(t,s){const a=i(t),c={...ol,...s},l=r(a,c),u=o(a),h=u?e():null;super(t,!1,l,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==c.buffer,this._nativeAudioBufferSourceNode=l,this._onended=null,this._playbackRate=n(this,u,l.playbackRate,rl,sl)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){Gc(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),il(this)&&Yc(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(oh,Ch,kh,Wl,bh,Gu,Xu,Su),Eh=((t,e,n,s,r,i,o,a)=>class extends t{constructor(t,e){const n=i(t),s=o(n),c=r(n,e,s);super(t,!1,c,s?(t=>{let e=null;return{render:(n,s,r)=>(null===e&&(e=(async(e,n,s)=>{const r=n.destination;return await t(e,n,r,s),r})(n,s,r)),e)}})(a):null),this._isNodeOfNativeOfflineAudioContext=s,this._nativeAudioDestinationNode=c}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(oh,0,tl,Wl,((t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&"explicit"!==i.channelCountMode&&(i.channelCountMode="explicit"),0===i.maxChannelCount&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",t=>()=>t.call(o),t=>e=>{t.call(o,e);try{i.channelCount=e}catch(n){if(e>i.maxChannelCount)throw n}}),e(o,"channelCountMode",t=>()=>t.call(o),t=>e=>{t.call(o,e),i.channelCountMode=e}),e(o,"channelInterpretation",t=>()=>t.call(o),t=>e=>{t.call(o,e),i.channelInterpretation=e}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o})(cu,wu),Gu,Xu,Hu),Oh=((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a,c){const l=i.get(a);return void 0!==l?Promise.resolve(l):(async(o,a,c)=>{let l=n(o);const u=Jc(l,a);return u||(l=e(a,{Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type})),i.set(a,l),u?(await t(a,o.Q,l.Q,c),await t(a,o.detune,l.detune,c),await t(a,o.frequency,l.frequency,c),await t(a,o.gain,l.gain,c)):(await s(a,o.Q,l.Q,c),await s(a,o.detune,l.detune,c),await s(a,o.frequency,l.frequency,c),await s(a,o.gain,l.gain,c)),await r(o,a,l,c),l})(o,a,c)}}})(wh,ru,Tl,xh,Hu),Mh=(t=>(e,n)=>t.set(e,n))(Du),Dh=(Ih=oh,Nh=kh,Ph=Oh,Rh=Ul,Vh=ru,jh=Gu,Fh=Xu,qh=Mh,class extends Ih{constructor(t,e){const n=jh(t),s={...Vl,...e},r=Vh(n,s),i=Fh(n);super(t,!1,r,i?Ph():null),this._Q=Nh(this,i,r.Q,rl,sl),this._detune=Nh(this,i,r.detune,1200*Math.log2(rl),-1200*Math.log2(rl)),this._frequency=Nh(this,i,r.frequency,t.sampleRate/2,0),this._gain=Nh(this,i,r.gain,40*Math.log10(rl),sl),this._nativeBiquadFilterNode=r,qh(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(s){if(11===s.code)throw Rh();throw s}if(t.length!==e.length||e.length!==n.length)throw Rh()}});var Ih,Nh,Ph,Rh,Vh,jh,Fh,qh;const Lh=((t,e)=>(n,s,r)=>{const i=new Set;var o,a;return n.connect=(o=n.connect,(r,a=0,c=0)=>{const l=0===i.size;if(e(r))return o.call(n,r,a,c),t(i,[r,a,c],t=>t[0]===r&&t[1]===a&&t[2]===c,!0),l&&s(),r;o.call(n,r,a),t(i,[r,a],t=>t[0]===r&&t[1]===a,!0),l&&s()}),n.disconnect=(a=n.disconnect,(t,s,o)=>{const c=i.size>0;if(void 0===t)a.apply(n),i.clear();else if("number"==typeof t){a.call(n,t);for(const e of i)e[1]===t&&i.delete(e)}else{e(t)?a.call(n,t,s,o):a.call(n,t,s);for(const e of i)e[0]!==t||void 0!==s&&e[1]!==s||void 0!==o&&e[2]!==o||i.delete(e)}c&&0===i.size&&r()}),n})(pl,rh);var zh,Hh;const Zh=((t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,r),Jl(r,s),r})(eh,(zh=Wl,Hh=Lh,(t,e)=>{e.channelCount=1,e.channelCountMode="explicit",Object.defineProperty(e,"channelCount",{get:()=>1,set:()=>{throw zh()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:()=>{throw zh()}});const n=t.createBufferSource();Hh(e,()=>{const t=e.numberOfInputs;for(let s=0;s<t;s+=1)n.connect(e,0,s)},()=>n.disconnect(e))})),Bh=((t,e,n,s,r)=>class extends t{constructor(t,i){const o=s(t),a={...jl,...i};super(t,!1,n(o,a),r(o)?e():null)}})(oh,((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i,o){const a=s.get(i);return void 0!==a?Promise.resolve(a):(async(r,i,o)=>{let a=e(r);return Jc(a,i)||(a=t(i,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs})),s.set(i,a),await n(r,i,a,o),a})(r,i,o)}}})(Zh,Tl,Hu),Zh,Gu,Xu),Wh=((t,e,n,s,r,i)=>class extends t{constructor(t,i){const o=s(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...Fl,...i});super(t,!1,n(o,a),r(o)?e():null)}})(oh,((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i,o){const a=s.get(i);return void 0!==a?Promise.resolve(a):(async(r,i,o)=>{let a=e(r);return Jc(a,i)||(a=t(i,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs})),s.set(i,a),await n(r,i,a,o),a})(r,i,o)}}})(iu,Tl,Hu),iu,Gu,Xu),Uh=((t,e,n,s,r)=>(i,o)=>{if(void 0===i.createConstantSource)return n(i,o);const a=i.createConstantSource();return Jl(a,o),tu(a,o,"offset"),e(s,()=>s(i))||eu(a),e(r,()=>r(i))||nu(a),t(i,a),a})(gh,Nu,((t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),c=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n(r,{...o,gain:i}),u=a.getChannelData(0);u[0]=1,u[1]=1,c.buffer=a,c.loop=!0;const h={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){l.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){l.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){l.channelInterpretation=t},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return c.onended},set onended(t){c.onended=t},addEventListener:(...t)=>c.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>c.dispatchEvent(t[0]),removeEventListener:(...t)=>c.removeEventListener(t[0],t[1],t[2]),start(t=0){c.start.call(c,t)},stop(t=0){c.stop.call(c,t)}};return t(r,c),s(ou(h,l),()=>c.connect(l),()=>c.disconnect(l))})(gh,bh,cu,Lh),Tu,Cu),Gh=((t,e,n,s,r,i,o)=>class extends t{constructor(t,o){const a=r(t),c={...ql,...o},l=s(a,c),u=i(a),h=u?n():null;super(t,!1,l,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=l,this._offset=e(this,u,l.offset,rl,sl),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){Gc(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),il(this)&&Yc(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(oh,kh,((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(c,l,u){const h=i.get(l);return void 0!==h?Promise.resolve(h):(async(c,l,u)=>{let h=n(c);const d=Jc(h,l);return d||(h=e(l,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value}),null!==o&&h.start(o),null!==a&&h.stop(a)),i.set(l,h),d?await t(l,c.offset,h.offset,u):await s(l,c.offset,h.offset,u),await r(c,l,h,u),h})(c,l,u)}}})(wh,Uh,Tl,xh,Hu),Uh,Gu,Xu,Su),$h=((t,e)=>(n,s)=>{const r=n.createConvolver();if(Jl(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),Ql(r,s,"buffer"),s.channelCount>2)throw t();if(e(r,"channelCount",t=>()=>t.call(r),e=>n=>{if(n>2)throw t();return e.call(r,n)}),"max"===s.channelCountMode)throw t();return e(r,"channelCountMode",t=>()=>t.call(r),e=>n=>{if("max"===n)throw t();return e.call(r,n)}),r})(du,wu),Yh=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=s(t),c={...Ll,...o},l=n(a,c);super(t,!1,l,r(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=l,null!==c.buffer&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer?(this._nativeConvolverNode.buffer=this._nativeConvolverNode.context.createBuffer(1,1,44100),this._isBufferNullified=!0,i(this,0)):(this._isBufferNullified=!1,i(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration))}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(oh,((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i,o){const a=s.get(i);return void 0!==a?Promise.resolve(a):(async(r,i,o)=>{let a=e(r);return Jc(a,i)||(a=t(i,{buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize})),s.set(i,a),_l(a)?await n(r,i,a.inputs[0],o):await n(r,i,a,o),a})(r,i,o)}}})($h,Tl,Hu),$h,Gu,Xu,Mh),Xh=((t,e,n,s,r,i,o)=>class extends t{constructor(t,a){const c=r(t),l={...zl,...a},u=s(c,l),h=i(c);super(t,!1,u,h?n(l.maxDelayTime):null),this._delayTime=e(this,h,u.delayTime),o(this,l.maxDelayTime)}get delayTime(){return this._delayTime}})(oh,kh,((t,e,n,s,r)=>i=>{const o=new WeakMap;return{render(a,c,l){const u=o.get(c);return void 0!==u?Promise.resolve(u):(async(a,c,l)=>{let u=n(a);const h=Jc(u,c);return h||(u=e(c,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i})),o.set(c,u),h?await t(c,a.delayTime,u.delayTime,l):await s(c,a.delayTime,u.delayTime,l),await r(a,c,u,l),u})(a,c,l)}}})(wh,au,Tl,xh,Hu),au,Gu,Xu,Mh),Qh=(Jh=du,(t,e)=>{const n=t.createDynamicsCompressor();if(Jl(n,e),e.channelCount>2)throw Jh();if("max"===e.channelCountMode)throw Jh();return tu(n,e,"attack"),tu(n,e,"knee"),tu(n,e,"ratio"),tu(n,e,"release"),tu(n,e,"threshold"),n});var Jh;const Kh=((t,e,n,s,r,i,o,a)=>class extends t{constructor(t,r){const c=i(t),l={...Zl,...r},u=s(c,l),h=o(c);super(t,!1,u,h?n():null),this._attack=e(this,h,u.attack),this._knee=e(this,h,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=e(this,h,u.ratio),this._release=e(this,h,u.release),this._threshold=e(this,h,u.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(oh,kh,((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a,c){const l=i.get(a);return void 0!==l?Promise.resolve(l):(async(o,a,c)=>{let l=n(o);const u=Jc(l,a);return u||(l=e(a,{attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value})),i.set(a,l),u?(await t(a,o.attack,l.attack,c),await t(a,o.knee,l.knee,c),await t(a,o.ratio,l.ratio,c),await t(a,o.release,l.release,c),await t(a,o.threshold,l.threshold,c)):(await s(a,o.attack,l.attack,c),await s(a,o.knee,l.knee,c),await s(a,o.ratio,l.ratio,c),await s(a,o.release,l.release,c),await s(a,o.threshold,l.threshold,c)),await r(o,a,l,c),l})(o,a,c)}}})(wh,Qh,Tl,xh,Hu),Qh,du,Gu,Xu,Mh),td=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=r(t),c={...Bl,...o},l=s(a,c),u=i(a);super(t,!1,l,u?n():null),this._gain=e(this,u,l.gain,rl,sl)}get gain(){return this._gain}})(oh,kh,((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a,c){const l=i.get(a);return void 0!==l?Promise.resolve(l):(async(o,a,c)=>{let l=n(o);const u=Jc(l,a);return u||(l=e(a,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value})),i.set(a,l),u?await t(a,o.gain,l.gain,c):await s(a,o.gain,l.gain,c),await r(o,a,l,c),l})(o,a,c)}}})(wh,cu,Tl,xh,Hu),cu,Gu,Xu),ed=((t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:c,feedback:l,feedforward:u})=>{const h=su(i,r.sampleRate),d=l instanceof Float64Array?l:new Float64Array(l),p=u instanceof Float64Array?u:new Float64Array(u),f=d.length,m=p.length,_=Math.min(f,m);if(0===f||f>20)throw s();if(0===d[0])throw e();if(0===m||m>20)throw s();if(0===p[0])throw e();if(1!==d[0]){for(let t=0;t<m;t+=1)p[t]/=d[0];for(let t=1;t<f;t+=1)d[t]/=d[0]}const g=n(r,h,o,o);g.channelCount=o,g.channelCountMode=a,g.channelInterpretation=c;const v=[],y=[],w=[];for(let t=0;t<o;t+=1){v.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),y.push(t),w.push(e)}g.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,s=e.numberOfChannels;for(let r=0;r<s;r+=1){const t=e.getChannelData(r),s=n.getChannelData(r);v[r]=$l(d,f,p,m,_,y[r],w[r],v[r],32,t,s)}};const b=r.sampleRate/2;return ou({get bufferSize(){return h},get channelCount(){return g.channelCount},set channelCount(t){g.channelCount=t},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){g.channelCountMode=t},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(t){g.channelInterpretation=t},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener:(...t)=>g.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>g.dispatchEvent(t[0]),getFrequencyResponse(e,n,s){if(e.length!==n.length||n.length!==s.length)throw t();const r=e.length;for(let t=0;t<r;t+=1){const r=-Math.PI*(e[t]/b),i=[Math.cos(r),Math.sin(r)],o=lu(uu(p,i),uu(d,i));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s[t]=Math.atan2(o[1],o[0])}},removeEventListener:(...t)=>g.removeEventListener(t[0],t[1],t[2])},g)})(Ul,Wl,hu,du),nd=((t,e,n,s)=>r=>t(Xl,()=>Xl(r))?Promise.resolve(t(s,s)).then(t=>{if(!t){const t=n(r,512,0,1);r.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>r.currentTime,t.connect(r.destination)}return r.startRendering()}):new Promise(t=>{const n=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(r.destination),r.startRendering()}))(Nu,cu,hu,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(t=>{n.oncomplete=()=>{s.disconnect(),t(0!==n.currentTime)},n.startRendering()})})(cu,Yu)),sd=((t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let c=null;return{render(l,u,h){const d=a.get(u);return void 0!==d?Promise.resolve(d):(async(l,u,h)=>{let d=null,p=e(l);const f=Jc(p,u);if(void 0===u.createIIRFilter?d=t(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(p=u.createIIRFilter(o,i)),a.set(u,null===d?p:d),null!==d){if(null===c){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(l.context.destination.channelCount,l.context.length,u.sampleRate);c=(async()=>(await s(l,t,t.destination,h),((t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,c=Math.min(o,a);if(1!==r[0]){for(let t=0;t<o;t+=1)i[t]/=r[0];for(let t=1;t<a;t+=1)r[t]/=r[0]}const l=new Float32Array(32),u=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let p=0;p<d;p+=1){const e=t.getChannelData(p),n=h.getChannelData(p);l.fill(0),u.fill(0),$l(r,o,i,a,c,l,u,0,32,e,n)}return h})(await r(t),u,i,o)))()}const t=await c;return d.buffer=t,d.start(0),d}return await s(l,u,p,h),p})(l,u,h)}}})(bh,Tl,Yu,Hu,nd);var rd;const id=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=s(t),c=r(a),l={...Gl,...o},u=e(a,c?null:t.baseLatency,l);super(t,!1,u,c?n(l.feedback,l.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw Ul();return e.call(t,n,s,r)})})(u),this._nativeIIRFilterNode=u,i(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(oh,(rd=ed,(t,e,n)=>{if(void 0===t.createIIRFilter)return rd(t,e,n);const s=t.createIIRFilter(n.feedforward,n.feedback);return Jl(s,n),s}),sd,Gu,Xu,Mh),od=((t,e,n,s,r)=>(i,o)=>{const a=o.listener,{forwardX:c,forwardY:l,forwardZ:u,positionX:h,positionY:d,positionZ:p,upX:f,upY:m,upZ:_}=void 0===a.forwardX?(()=>{const c=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),l=r(o),u=s(o,256,9,0),h=(e,s)=>{const r=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:s});return r.connect(c,0,e),r.start(),Object.defineProperty(r.offset,"defaultValue",{get:()=>s}),t({context:i},l,r.offset,rl,sl)};let d=[0,0,-1,0,1,0],p=[0,0,0];return u.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0],t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];e.some((t,e)=>t!==d[e])&&(a.setOrientation(...e),d=e);const n=[t.getChannelData(6)[0],t.getChannelData(7)[0],t.getChannelData(8)[0]];n.some((t,e)=>t!==p[e])&&(a.setPosition(...n),p=n)},c.connect(u),{forwardX:h(0,0),forwardY:h(1,0),forwardZ:h(2,-1),positionX:h(6,0),positionY:h(7,0),positionZ:h(8,0),upX:h(3,0),upY:h(4,1),upZ:h(5,0)}})():a;return{get forwardX(){return c},get forwardY(){return l},get forwardZ(){return u},get positionX(){return h},get positionY(){return d},get positionZ(){return p},get upX(){return f},get upY(){return m},get upZ(){return _}}})(kh,Zh,Uh,hu,Xu),ad=new WeakMap,cd=((t,e,n,s,r,i)=>class extends n{constructor(n,i){super(n),this._nativeContext=n,Nc.set(this,n),s(n)&&r.set(n,new Set),this._destination=new t(this,i),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?i(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Eh,od,Ku,Xu,ad,Su),ld=((t,e,n,s,r,i)=>(o,a)=>{const c=o.createOscillator();return Jl(c,a),tu(c,a,"detune"),tu(c,a,"frequency"),void 0!==a.periodicWave?c.setPeriodicWave(a.periodicWave):Ql(c,a,"type"),e(n,()=>n(o))||eu(c),e(s,()=>s(o))||i(c,o),e(r,()=>r(o))||nu(c),t(o,c),c})(gh,Nu,Tu,xu,Cu,ku),ud=((t,e,n,s,r,i,o)=>class extends t{constructor(t,o){const a=r(t),c={...fu,...o},l=n(a,c),u=i(a),h=u?s():null,d=t.sampleRate/2;super(t,!1,l,h),this._detune=e(this,u,l.detune,153600,-153600),this._frequency=e(this,u,l.frequency,d,-d),this._nativeOscillatorNode=l,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==c.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=c.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){Gc(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),il(this)&&Yc(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(oh,kh,ld,((t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,c=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){c=t},render(l,u,h){const d=i.get(u);return void 0!==d?Promise.resolve(d):(async(l,u,h)=>{let d=n(l);const p=Jc(d,u);return p||(d=e(u,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:null===o?void 0:o,type:d.type}),null!==a&&d.start(a),null!==c&&d.stop(c)),i.set(u,d),p?(await t(u,l.detune,d.detune,h),await t(u,l.frequency,d.frequency,h)):(await s(u,l.detune,d.detune,h),await s(u,l.frequency,d.frequency,h)),await r(l,u,d,h),d})(l,u,h)}}})(wh,ld,Tl,xh,Hu),Gu,Xu,Su),hd=(dd=bh,(t,e)=>{const n=dd(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=t.createBuffer(1,2,44100);return n.buffer=s,n.loop=!0,n.connect(e),n.start(),()=>{n.stop(),n.disconnect(e)}});var dd;const pd=((t,e,n,s,r)=>(i,{curve:o,oversample:a,...c})=>{const l=i.createWaveShaper(),u=i.createWaveShaper();Jl(l,c),Jl(u,c);const h=n(i,{...c,gain:1}),d=n(i,{...c,gain:-1}),p=n(i,{...c,gain:1}),f=n(i,{...c,gain:-1});let m=null,_=!1,g=null;const v={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,l.channelCount=t,p.channelCount=t,u.channelCount=t,f.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,l.channelCountMode=t,p.channelCountMode=t,u.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,l.channelInterpretation=t,p.channelInterpretation=t,u.channelInterpretation=t,f.channelInterpretation=t},get context(){return l.context},get curve(){return g},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)l.curve=n,u.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),s=new Float32Array(t+2-t%2);e[0]=n[0],s[0]=-n[t-1];const r=Math.ceil((t+1)/2),i=(t+1)/2-1;for(let o=1;o<r;o+=1){const a=o/r*i,c=Math.floor(a),l=Math.ceil(a);e[o]=c===l?n[c]:(1-(a-c))*n[c]+(1-(l-a))*n[l],s[o]=c===l?-n[t-1-c]:-(1-(a-c))*n[t-1-c]-(1-(l-a))*n[t-1-l]}e[r]=t%2==1?n[r-1]:(n[r-2]+n[r-1])/2,l.curve=e,u.curve=s}g=n,_&&(s(g)&&null===m?m=t(i,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(t){l.oversample=t,u.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==o&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a),r(ou(v,p),()=>{h.connect(l).connect(p),h.connect(d).connect(u).connect(f).connect(p),_=!0,s(g)&&(m=t(i,h))},()=>{h.disconnect(l),l.disconnect(p),h.disconnect(d),d.disconnect(u),u.disconnect(f),f.disconnect(p),_=!1,null!==m&&(m(),m=null)})})(hd,Wl,cu,yu,Lh),fd=((t,e,n,s,r,i,o)=>(a,c)=>{const l=a.createWaveShaper();if(null!==i&&"webkitAudioContext"===i.name&&void 0===a.createGain().gain.automationRate)return n(a,c);Jl(l,c);const u=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==u&&u.length<2)throw e();Ql(l,{curve:u},"curve"),Ql(l,c,"oversample");let h=null,d=!1;return o(l,"curve",t=>()=>t.call(l),e=>n=>(e.call(l,n),d&&(s(n)&&null===h?h=t(a,l):s(n)||null===h||(h(),h=null)),n)),r(l,()=>{d=!0,s(l.curve)&&(h=t(a,l))},()=>{d=!1,null!==h&&(h(),h=null)})})(hd,Wl,pd,yu,Lh,eh,wu),md=((t,e,n,s,r,i,o,a,c)=>(l,{coneInnerAngle:u,coneOuterAngle:h,coneOuterGain:d,distanceModel:p,maxDistance:f,orientationX:m,orientationY:_,orientationZ:g,panningModel:v,positionX:y,positionY:w,positionZ:b,refDistance:T,rolloffFactor:x,...C})=>{const k=l.createPanner();if(C.channelCount>2)throw o();if("max"===C.channelCountMode)throw o();Jl(k,C);const S={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(l,{...S,channelInterpretation:"speakers",numberOfInputs:6}),E=s(l,{...C,gain:1}),O=s(l,{...S,gain:1}),M=s(l,{...S,gain:0}),D=s(l,{...S,gain:0}),I=s(l,{...S,gain:0}),N=s(l,{...S,gain:0}),P=s(l,{...S,gain:0}),R=r(l,256,6,1),V=i(l,{...S,curve:new Float32Array([1,1]),oversample:"none"});let j=[m,_,g],F=[y,w,b];R.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0]];e.some((t,e)=>t!==j[e])&&(k.setOrientation(...e),j=e);const n=[t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];n.some((t,e)=>t!==F[e])&&(k.setPosition(...n),F=n)},Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});const q={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(t){if(t>2)throw o();E.channelCount=t,k.channelCount=t},get channelCountMode(){return k.channelCountMode},set channelCountMode(t){if("max"===t)throw o();E.channelCountMode=t,k.channelCountMode=t},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(t){E.channelInterpretation=t,k.channelInterpretation=t},get coneInnerAngle(){return k.coneInnerAngle},set coneInnerAngle(t){k.coneInnerAngle=t},get coneOuterAngle(){return k.coneOuterAngle},set coneOuterAngle(t){k.coneOuterAngle=t},get coneOuterGain(){return k.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();k.coneOuterGain=t},get context(){return k.context},get distanceModel(){return k.distanceModel},set distanceModel(t){k.distanceModel=t},get inputs(){return[E]},get maxDistance(){return k.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;k.maxDistance=t},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get orientationX(){return O.gain},get orientationY(){return M.gain},get orientationZ(){return D.gain},get panningModel(){return k.panningModel},set panningModel(t){k.panningModel=t},get positionX(){return I.gain},get positionY(){return N.gain},get positionZ(){return P.gain},get refDistance(){return k.refDistance},set refDistance(t){if(t<0)throw new RangeError;k.refDistance=t},get rolloffFactor(){return k.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;k.rolloffFactor=t},addEventListener:(...t)=>E.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>E.dispatchEvent(t[0]),removeEventListener:(...t)=>E.removeEventListener(t[0],t[1],t[2])};return u!==q.coneInnerAngle&&(q.coneInnerAngle=u),h!==q.coneOuterAngle&&(q.coneOuterAngle=h),d!==q.coneOuterGain&&(q.coneOuterGain=d),p!==q.distanceModel&&(q.distanceModel=p),f!==q.maxDistance&&(q.maxDistance=f),m!==q.orientationX.value&&(q.orientationX.value=m),_!==q.orientationY.value&&(q.orientationY.value=_),g!==q.orientationZ.value&&(q.orientationZ.value=g),v!==q.panningModel&&(q.panningModel=v),y!==q.positionX.value&&(q.positionX.value=y),w!==q.positionY.value&&(q.positionY.value=w),b!==q.positionZ.value&&(q.positionZ.value=b),T!==q.refDistance&&(q.refDistance=T),x!==q.rolloffFactor&&(q.rolloffFactor=x),1===j[0]&&0===j[1]&&0===j[2]||k.setOrientation(...j),0===F[0]&&0===F[1]&&0===F[2]||k.setPosition(...F),c(ou(q,k),()=>{E.connect(k),t(E,V,0,0),V.connect(O).connect(A,0,0),V.connect(M).connect(A,0,1),V.connect(D).connect(A,0,2),V.connect(I).connect(A,0,3),V.connect(N).connect(A,0,4),V.connect(P).connect(A,0,5),A.connect(R).connect(l.destination)},()=>{E.disconnect(k),a(E,V,0,0),V.disconnect(O),O.disconnect(A),V.disconnect(M),M.disconnect(A),V.disconnect(D),D.disconnect(A),V.disconnect(I),I.disconnect(A),V.disconnect(N),N.disconnect(A),V.disconnect(P),P.disconnect(A),A.disconnect(R),R.disconnect(l.destination)})})(gl,Wl,Zh,cu,hu,fd,du,bl,Lh),_d=(gd=md,(t,e)=>{const n=t.createPanner();return void 0===n.orientationX?gd(t,e):(Jl(n,e),tu(n,e,"orientationX"),tu(n,e,"orientationY"),tu(n,e,"orientationZ"),tu(n,e,"positionX"),tu(n,e,"positionY"),tu(n,e,"positionZ"),Ql(n,e,"coneInnerAngle"),Ql(n,e,"coneOuterAngle"),Ql(n,e,"coneOuterGain"),Ql(n,e,"distanceModel"),Ql(n,e,"maxDistance"),Ql(n,e,"panningModel"),Ql(n,e,"refDistance"),Ql(n,e,"rolloffFactor"),n)});var gd;const vd=((t,e,n,s,r,i,o)=>class extends t{constructor(t,a){const c=r(t),l={...mu,...a},u=n(c,l),h=i(c);super(t,!1,u,h?s():null),this._nativePannerNode=u,this._orientationX=e(this,h,u.orientationX,rl,sl),this._orientationY=e(this,h,u.orientationY,rl,sl),this._orientationZ=e(this,h,u.orientationZ,rl,sl),this._positionX=e(this,h,u.positionX,rl,sl),this._positionY=e(this,h,u.positionY,rl,sl),this._positionZ=e(this,h,u.positionZ,rl,sl),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(oh,kh,_d,((t,e,n,s,r,i,o,a,c,l)=>()=>{const u=new WeakMap;let h=null;return{render(d,p,f){const m=u.get(p);return void 0!==m?Promise.resolve(m):(async(d,p,f)=>{let m=null,_=i(d);const g={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},v={...g,coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor},y=Jc(_,p);if("bufferSize"in _)m=s(p,{...g,gain:1});else if(!y){const t={...v,orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value};_=r(p,t)}if(u.set(p,null===m?_:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,p.sampleRate),s=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});s.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map(async(e,s)=>{const r=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===s?1:0});return await a(t,e,r.offset,f),r}));for(let t=0;t<6;t+=1)e[t].connect(s,0,t),e[t].start(0);return l(t)})()}const t=await h,i=s(p,{...g,gain:1});await c(d,p,i,f);const u=[];for(let e=0;e<t.numberOfChannels;e+=1)u.push(t.getChannelData(e));let _=[u[0][0],u[1][0],u[2][0]],y=[u[3][0],u[4][0],u[5][0]],w=s(p,{...g,gain:1}),b=r(p,{...v,orientationX:_[0],orientationY:_[1],orientationZ:_[2],positionX:y[0],positionY:y[1],positionZ:y[2]});i.connect(w).connect(b.inputs[0]),b.connect(m);for(let e=128;e<t.length;e+=128){const t=[u[0][e],u[1][e],u[2][e]],n=[u[3][e],u[4][e],u[5][e]];if(t.some((t,e)=>t!==_[e])||n.some((t,e)=>t!==y[e])){_=t,y=n;const o=e/p.sampleRate;w.gain.setValueAtTime(0,o),w=s(p,{...g,gain:0}),b=r(p,{...v,orientationX:_[0],orientationY:_[1],orientationZ:_[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),w.gain.setValueAtTime(1,o),i.connect(w).connect(b.inputs[0]),b.connect(m)}}return m}return y?(await t(p,d.orientationX,_.orientationX,f),await t(p,d.orientationY,_.orientationY,f),await t(p,d.orientationZ,_.orientationZ,f),await t(p,d.positionX,_.positionX,f),await t(p,d.positionY,_.positionY,f),await t(p,d.positionZ,_.positionZ,f)):(await a(p,d.orientationX,_.orientationX,f),await a(p,d.orientationY,_.orientationY,f),await a(p,d.orientationZ,_.orientationZ,f),await a(p,d.positionX,_.positionX,f),await a(p,d.positionY,_.positionY,f),await a(p,d.positionZ,_.positionZ,f)),_l(_)?await c(d,p,_.inputs[0],f):await c(d,p,_,f),_})(d,p,f)}}})(wh,Zh,Uh,cu,_d,Tl,Yu,xh,Hu,nd),Gu,Xu,Mh),yd=((t,e,n,s)=>class s{constructor(s,r){const i=e(s),o=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}})({..._u,...r}),a=t(i,o);return n.add(a),a}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===s.prototype||n.has(t)}})((t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a})(tl),Gu,new WeakSet),wd=((t,e)=>(n,s)=>{const r=s.channelCountMode;if("clamped-max"===r)throw e();if(void 0===n.createStereoPanner)return t(n,s);const i=n.createStereoPanner();return Jl(i,s),tu(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:t=>{if(t!==r)throw e()}}),i})(((t,e,n,s,r,i)=>{const o=new Float32Array([1,1]),a=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...c,oversample:"none"},u=(t,i,u,h,d)=>{if(1===i)return((t,e,r,i)=>{const u=new Float32Array(16385),h=new Float32Array(16385);for(let n=0;n<16385;n+=1){const t=n/16384*a;u[n]=Math.cos(t),h[n]=Math.sin(t)}const d=n(t,{...c,gain:0}),p=s(t,{...l,curve:u}),f=s(t,{...l,curve:o}),m=n(t,{...c,gain:0}),_=s(t,{...l,curve:h});return{connectGraph(){e.connect(d),e.connect(void 0===f.inputs?f:f.inputs[0]),e.connect(m),f.connect(r),r.connect(void 0===p.inputs?p:p.inputs[0]),r.connect(void 0===_.inputs?_:_.inputs[0]),p.connect(d.gain),_.connect(m.gain),d.connect(i,0,0),m.connect(i,0,1)},disconnectGraph(){e.disconnect(d),e.disconnect(void 0===f.inputs?f:f.inputs[0]),e.disconnect(m),f.disconnect(r),r.disconnect(void 0===p.inputs?p:p.inputs[0]),r.disconnect(void 0===_.inputs?_:_.inputs[0]),p.disconnect(d.gain),_.disconnect(m.gain),d.disconnect(i,0,0),m.disconnect(i,0,1)}}})(t,u,h,d);if(2===i)return((t,r,i,u)=>{const h=new Float32Array(16385),d=new Float32Array(16385),p=new Float32Array(16385),f=new Float32Array(16385),m=Math.floor(8192.5);for(let e=0;e<16385;e+=1)if(e>m){const t=(e-m)/(16384-m)*a;h[e]=Math.cos(t),d[e]=Math.sin(t),p[e]=0,f[e]=1}else{const t=e/(16384-m)*a;h[e]=1,d[e]=0,p[e]=Math.cos(t),f[e]=Math.sin(t)}const _=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),g=n(t,{...c,gain:0}),v=s(t,{...l,curve:h}),y=n(t,{...c,gain:0}),w=s(t,{...l,curve:d}),b=s(t,{...l,curve:o}),T=n(t,{...c,gain:0}),x=s(t,{...l,curve:p}),C=n(t,{...c,gain:0}),k=s(t,{...l,curve:f});return{connectGraph(){r.connect(_),r.connect(void 0===b.inputs?b:b.inputs[0]),_.connect(g,0),_.connect(y,0),_.connect(T,1),_.connect(C,1),b.connect(i),i.connect(void 0===v.inputs?v:v.inputs[0]),i.connect(void 0===w.inputs?w:w.inputs[0]),i.connect(void 0===x.inputs?x:x.inputs[0]),i.connect(void 0===k.inputs?k:k.inputs[0]),v.connect(g.gain),w.connect(y.gain),x.connect(T.gain),k.connect(C.gain),g.connect(u,0,0),T.connect(u,0,0),y.connect(u,0,1),C.connect(u,0,1)},disconnectGraph(){r.disconnect(_),r.disconnect(void 0===b.inputs?b:b.inputs[0]),_.disconnect(g,0),_.disconnect(y,0),_.disconnect(T,1),_.disconnect(C,1),b.disconnect(i),i.disconnect(void 0===v.inputs?v:v.inputs[0]),i.disconnect(void 0===w.inputs?w:w.inputs[0]),i.disconnect(void 0===x.inputs?x:x.inputs[0]),i.disconnect(void 0===k.inputs?k:k.inputs[0]),v.disconnect(g.gain),w.disconnect(y.gain),x.disconnect(T.gain),k.disconnect(C.gain),g.disconnect(u,0,0),T.disconnect(u,0,0),y.disconnect(u,0,1),C.disconnect(u,0,1)}}})(t,u,h,d);throw r()};return(e,{channelCount:s,channelCountMode:o,pan:a,...c})=>{if("max"===o)throw r();const l=t(e,{...c,channelCount:1,channelCountMode:o,numberOfInputs:2}),h=n(e,{...c,channelCount:s,channelCountMode:o,gain:1}),d=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:p,disconnectGraph:f}=u(e,s,h,d,l);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return h.channelCount},set channelCount(t){h.channelCount!==t&&(_&&f(),({connectGraph:p,disconnectGraph:f}=u(e,t,h,d,l)),_&&p()),h.channelCount=t},get channelCountMode(){return h.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw r();h.channelCountMode=t},get channelInterpretation(){return h.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t},get context(){return h.context},get inputs(){return[h]},get numberOfInputs(){return h.numberOfInputs},get numberOfOutputs(){return h.numberOfOutputs},get pan(){return d.gain},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};let _=!1;return i(ou(m,l),()=>{p(),_=!0},()=>{f(),_=!1})}})(Zh,iu,cu,fd,du,Lh),du),bd=((t,e,n,s,r,i)=>class extends t{constructor(t,o){const a=r(t),c={...gu,...o},l=n(a,c),u=i(a);super(t,!1,l,u?s():null),this._pan=e(this,u,l.pan)}get pan(){return this._pan}})(oh,kh,wd,((t,e,n,s,r)=>()=>{const i=new WeakMap;return{render(o,a,c){const l=i.get(a);return void 0!==l?Promise.resolve(l):(async(o,a,c)=>{let l=n(o);const u=Jc(l,a);return u||(l=e(a,{channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value})),i.set(a,l),u?await t(a,o.pan,l.pan,c):await s(a,o.pan,l.pan,c),_l(l)?await r(o,a,l.inputs[0],c):await r(o,a,l,c),l})(o,a,c)}}})(wh,wd,Tl,xh,Hu),Gu,Xu),Td=((t,e,n)=>()=>{const s=new WeakMap;return{render(r,i,o){const a=s.get(i);return void 0!==a?Promise.resolve(a):(async(r,i,o)=>{let a=e(r);return Jc(a,i)||(a=t(i,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample})),s.set(i,a),_l(a)?await n(r,i,a.inputs[0],o):await n(r,i,a,o),a})(r,i,o)}}})(fd,Tl,Hu),xd=((t,e,n,s,r,i,o)=>class extends t{constructor(t,e){const a=r(t),c={...vu,...e},l=n(a,c);super(t,!0,l,i(a)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=l,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(oh,Wl,fd,Td,Gu,Xu,Mh),Cd=(t=>null!==t&&t.isSecureContext)(Vu),kd=(t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return s()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(Vu),Sd=new WeakMap,Ad=((t,e)=>n=>{let s=t.get(n);if(void 0!==s)return s;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,8e3),t.set(n,s),s})(Sd,Yu),Ed=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(Vu),Od=Cd?((t,e,n,s,r,i,o,a,c,l,u,h)=>(d,p,f={credentials:"omit"})=>{const m=i(d);if(void 0!==m.audioWorklet)return Promise.all([r(p),Promise.resolve(t(u,u))]).then(([[t,e],n])=>{const[s,r]=Lc(t,e),i=n?r:r.replace(/\s+extends\s+AudioWorkletProcessor\s*{/," extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}){"),c=new Blob([`${s};(registerProcessor=>{${i}\n})((n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:"application/javascript; charset=utf-8"}),l=URL.createObjectURL(c);return m.audioWorklet.addModule(l,f).then(()=>{if(!a(m))return o(m).audioWorklet.addModule(l,f)}).finally(()=>URL.revokeObjectURL(l))});const _=l.get(d);if(void 0!==_&&_.has(p))return Promise.resolve();const g=c.get(d);if(void 0!==g){const t=g.get(p);if(void 0!==t)return t}const v=r(p).then(([t,e])=>{const[s,r]=Lc(t,e);return n(`${s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${r}\n})})(window,'_AWGS')`)}).then(()=>{const t=h._AWGS.pop();if(void 0===t)throw new SyntaxError;s(m.currentTime,m.sampleRate,()=>t(class{},void 0,(t,n)=>{if(""===t.trim())throw e();const s=Vc.get(m);if(void 0!==s){if(s.has(t))throw e();Hc(n),zc(n.parameterDescriptors),s.set(t,n)}else Hc(n),zc(n.parameterDescriptors),Vc.set(m,new Map([[t,n]]))},m.sampleRate,void 0,void 0))});return void 0===g?c.set(d,new Map([[p,v]])):g.set(p,v),v.then(()=>{const t=l.get(d);void 0===t?l.set(d,new Set([p])):t.add(p)}).finally(()=>{const t=c.get(d);void 0!==t&&t.delete(p)}),v})(Nu,du,(t=>e=>new Promise((n,s)=>{if(null===t)return void s(new SyntaxError);const r=t.document.head;if(null===r)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),c=t.onerror,l=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(e,n,r,i,o)=>n===a||n===t.location.href&&1===r&&1===i?(l(),s(o),!1):null!==c?c(e,n,r,i,o):void 0,i.onerror=()=>{l(),s(new SyntaxError)},i.onload=()=>{l(),n()},i.src=a,i.type="module",r.appendChild(i)}}))(Vu),kd,async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")},Gu,Ad,Xu,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,8e3),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const e=new t(s,"a",{numberOfOutputs:0}),n=s.createOscillator();e.port.onmessage=()=>i=!0,e.onprocessorerror=()=>o=!0,n.connect(e),await s.startRendering()}catch{}finally{URL.revokeObjectURL(r)}return i&&!o})(Ed,Yu),Vu):void 0,Md=((t,e)=>n=>t(n)||e(n))(nh,Xu),Dd=((t,e,n,s,r,i,o,a,c,l,u)=>(n,s)=>{const h=o(n)?n:i(n);if(r.has(s)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{r.add(s)}catch{}return e(c,()=>c(h))?h.decodeAudioData(s).then(n=>(e(a,()=>a(n))||u(n),t.add(n),n)):new Promise((e,n)=>{const r=()=>{try{(t=>{const{port1:e}=new MessageChannel;e.postMessage(t,[t])})(s)}catch{}},i=t=>{n(t),r()};try{h.decodeAudioData(s,n=>{"function"!=typeof n.copyFromChannel&&(l(n),el(n)),t.add(n),r(),e(n)},t=>{i(null===t?new DOMException("","EncodingError"):t)})}catch(o){i(o)}})})(lh,Nu,0,0,new WeakSet,Gu,Md,Kc,Xl,ph,fh),Id=((t,e,n,s,r,i,o,a,c,l,u,h,d,p,f,m,_,g,v,y)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(t,e,s){return new n({length:e,numberOfChannels:t,sampleRate:s})}createBufferSource(){return new s(this)}createChannelMerger(t=6){return new i(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(t=1){return new u(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new p(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new _(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new g(this,{...n,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return l(this._nativeContext,t).then(t=>("function"==typeof e&&e(t),t)).catch(t=>{throw"function"==typeof n&&n(t),t})}})(Od,ch,mh,Ah,Dh,Bh,Wh,Gh,Yh,Dd,Xh,Kh,td,id,cd,ud,vd,yd,bd,xd),Nd=((t,e,n,s)=>class extends t{constructor(t,e){const r=n(t),i=((t,e)=>t.createMediaElementSource(e.mediaElement))(r,e);if(s(r))throw TypeError();super(t,!0,i,null),this._nativeMediaElementAudioSourceNode=i}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(oh,0,Gu,Xu),Pd=((t,e,n,s)=>class extends t{constructor(t,e){const r=n(t);if(s(r))throw new TypeError;const i=((t,e)=>{const n=t.createMediaStreamDestination();return Jl(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(r,{...Yl,...e});super(t,!1,i,null),this._nativeMediaStreamAudioDestinationNode=i}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(oh,0,Gu,Xu),Rd=((t,e,n,s)=>class extends t{constructor(t,e){const r=n(t),i=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((t,e)=>t.id<e.id?-1:t.id>e.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r})(r,e);if(s(r))throw new TypeError;super(t,!0,i,null),this._nativeMediaStreamAudioSourceNode=i}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(oh,0,Gu,Xu),Vd=((t,e,n)=>class extends t{constructor(t,s){const r=n(t);super(t,!0,e(r,s),null)}})(oh,((t,e)=>(n,{mediaStreamTrack:s})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if("audio"!==s.kind)throw t();if(e(n))throw new TypeError;return i})(Wl,Xu),Gu),jd=((t,e,n,s,r,i,o,a,c)=>class extends t{constructor(t={}){if(null===c)throw new Error("Missing the native AudioContext constructor.");const e=new c(t);if(null===e)throw s();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:r}=t,{sampleRate:i}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===r?512/i:"interactive"===r||void 0===r?256/i:"playback"===r?1024/i:128*Math.max(2,Math.min(128,Math.round(r*i/128)))/i,this._nativeAudioContext=e,"webkitAudioContext"===c.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ul(this)}))}createMediaElementSource(t){return new r(this,{mediaElement:t})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)}):this._nativeAudioContext.resume().catch(t=>{if(void 0===t||15===t.code)throw e();throw t})}suspend(){return this._nativeAudioContext.suspend().catch(t=>{if(void 0===t)throw e();throw t})}})(Id,Wl,du,()=>new DOMException("","UnknownError"),Nd,Pd,Rd,Vd,eh),Fd=(qd=ad,t=>{const e=qd.get(t);if(void 0===e)throw new Error("The context has no set of AudioWorkletNodes.");return e});var qd;const Ld=(zd=Fd,(t,e)=>{zd(t).add(e)});var zd;const Hd=(t=>(e,n,s=0,r=0)=>{const i=e[s];if(void 0===i)throw t();return El(n)?i.connect(n,0,r):i.connect(n,0)})(tl),Zd=(t=>(e,n)=>{t(e).delete(n)})(Fd),Bd=(t=>(e,n,s,r=0)=>void 0===n?e.forEach(t=>t.disconnect()):"number"==typeof n?Hl(t,e,n).disconnect():El(n)?void 0===s?e.forEach(t=>t.disconnect(n)):void 0===r?Hl(t,e,s).disconnect(n,0):Hl(t,e,s).disconnect(n,0,r):void 0===s?e.forEach(t=>t.disconnect(n)):Hl(t,e,s).disconnect(n,0))(tl),Wd=new WeakMap,Ud=((t,e)=>n=>e(t,n))(Wd,Zc),Gd=((t,e,n,s,r,i,o,a,c,l,u,h,d)=>(p,f,m,_)=>{if(0===_.numberOfInputs&&0===_.numberOfOutputs)throw c();const g=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(g.some(t=>t<1))throw c();if(g.length!==_.numberOfOutputs)throw e();if("explicit"!==_.channelCountMode)throw c();const v=_.channelCount*_.numberOfInputs,y=g.reduce((t,e)=>t+e,0),w=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(v+w>6||y>6)throw c();const b=new MessageChannel,T=[],x=[];for(let t=0;t<_.numberOfInputs;t+=1)T.push(o(p,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),x.push(r(p,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const C=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:s}of m.parameterDescriptors){const r=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==_.parameterData[s]?_.parameterData[s]:void 0===t?0:t});Object.defineProperties(r.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?rl:e},minValue:{get:()=>void 0===n?sl:n}}),C.push(r)}const k=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+w)}),S=su(f,p.sampleRate),A=a(p,S,v+w,Math.max(1,y)),E=r(p,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),O=[];for(let t=0;t<_.numberOfOutputs;t+=1)O.push(s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[t]}));for(let t=0;t<_.numberOfInputs;t+=1){T[t].connect(x[t]);for(let e=0;e<_.channelCount;e+=1)x[t].connect(k,e,t*_.channelCount+e)}const M=new Dl(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(({name:t},e)=>{const n=C[e];return n.connect(k,0,v+e),n.start(0),[t,n.offset]}));k.connect(A);let D=_.channelInterpretation,I=null;const N=0===_.numberOfOutputs?[A]:O,P={get bufferSize(){return S},get channelCount(){return _.channelCount},set channelCount(t){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return D},set channelInterpretation(t){for(const e of T)e.channelInterpretation=t;D=t},get context(){return A.context},get inputs(){return T},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return I},set onprocessorerror(t){"function"==typeof I&&P.removeEventListener("processorerror",I),I="function"==typeof t?t:null,"function"==typeof I&&P.addEventListener("processorerror",I)},get parameters(){return M},get port(){return b.port2},addEventListener:(...t)=>A.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,N),disconnect:l.bind(null,N),dispatchEvent:(...t)=>A.dispatchEvent(t[0]),removeEventListener:(...t)=>A.removeEventListener(t[0],t[1],t[2])},R=new Map;var V,j;b.port1.addEventListener=(V=b.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=R.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{u(p.currentTime,p.sampleRate,()=>e(t))},R.set(e,t[1]))}}return V.call(b.port1,t[0],t[1],t[2])}),b.port1.removeEventListener=(j=b.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=R.get(t[1]);void 0!==e&&(R.delete(t[1]),t[1]=e)}return j.call(b.port1,t[0],t[1],t[2])});let F=null;Object.defineProperty(b.port1,"onmessage",{get:()=>F,set:t=>{"function"==typeof F&&b.port1.removeEventListener("message",F),F="function"==typeof t?t:null,"function"==typeof F&&(b.port1.addEventListener("message",F),b.port1.start())}}),m.prototype.port=b.port1;let q=null;((t,e,n,s)=>{let r=jc.get(t);void 0===r&&(r=new WeakMap,jc.set(t,r));const i=(async(t,e)=>new t(await(t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:t})=>{s.close(),r.close(),e(t)},s.onmessageerror=({data:t})=>{s.close(),r.close(),n(t)},r.postMessage(t)}))(e)))(n,s);return r.set(e,i),i})(p,P,m,_).then(t=>q=t);const L=Rl(_.numberOfInputs,_.channelCount),z=Rl(_.numberOfOutputs,g),H=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce((t,{name:e})=>({...t,[e]:new Float32Array(128)}),{});let Z=!0;const B=()=>{_.numberOfOutputs>0&&A.disconnect(E);for(let t=0,e=0;t<_.numberOfOutputs;t+=1){const n=O[t];for(let s=0;s<g[t];s+=1)E.disconnect(n,e+s,s);e+=g[t]}},W=new Map;A.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==q){const s=h(P);for(let r=0;r<S;r+=128){for(let e=0;e<_.numberOfInputs;e+=1)for(let n=0;n<_.channelCount;n+=1)Nl(t,L[e],n,n,r);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(({name:e},n)=>{Nl(t,H,e,v+n,r)});for(let t=0;t<_.numberOfInputs;t+=1)for(let e=0;e<g[t];e+=1)0===z[t][e].byteLength&&(z[t][e]=new Float32Array(128));try{const t=L.map((t,e)=>{if(s[e].size>0)return W.set(e,S/128),t;const n=W.get(e);return void 0===n?[]:(t.every(t=>t.every(t=>0===t))&&(1===n?W.delete(e):W.set(e,n-1)),t)}),n=u(p.currentTime+r/p.sampleRate,p.sampleRate,()=>q.process(t,z,H));Z=n;for(let s=0,i=0;s<_.numberOfOutputs;s+=1){for(let t=0;t<g[s];t+=1)Pl(e,z[s],t,i+t,r);i+=g[s]}}catch(n){Z=!1,P.dispatchEvent(new ErrorEvent("processorerror",{colno:n.colno,filename:n.filename,lineno:n.lineno,message:n.message}))}if(!Z){for(let t=0;t<_.numberOfInputs;t+=1){T[t].disconnect(x[t]);for(let e=0;e<_.channelCount;e+=1)x[r].disconnect(k,e,t*_.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=C[e];t.disconnect(k,0,v+e),t.stop()}}k.disconnect(A),A.onaudioprocess=null,U?B():Y();break}}}};let U=!1;const G=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),$=()=>A.connect(G).connect(p.destination),Y=()=>{A.disconnect(G),G.disconnect()};return $(),d(P,()=>{if(Z){Y(),_.numberOfOutputs>0&&A.connect(E);for(let t=0,e=0;t<_.numberOfOutputs;t+=1){const n=O[t];for(let s=0;s<g[t];s+=1)E.connect(n,e+s,s);e+=g[t]}}U=!0},()=>{Z&&($(),B()),U=!1})})(Hd,tl,Wl,Zh,iu,Uh,cu,hu,du,Bd,kd,Ud,Lh),$d=((t,e,n,s,r)=>(i,o,a,c,l,u)=>{if(null!==a)try{const e=new a(i,c,u),s=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"==typeof o&&e.removeEventListener("processorerror",o),o="function"==typeof t?t:null,"function"==typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(d=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=s.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},s.set(e,t[1]))}}return d.call(e,"error",t[1],t[2]),d.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=s.get(t[1]);void 0!==e&&(s.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==u.numberOfOutputs){const t=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return e.connect(t).connect(i.destination),r(e,()=>t.disconnect(),()=>t.connect(i.destination))}return e}catch(p){if(11===p.code)throw s();throw p}var h,d;if(void 0===l)throw s();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(u),e(i,o,l,u)})(Wl,Gd,cu,du,Lh),Yd=((t,e,n,s,r,i,o,a,c,l,u,h,d,p,f,m)=>(_,g,v)=>{const y=new WeakMap;let w=null;return{render(b,T,x){a(T,b);const C=y.get(T);return void 0!==C?Promise.resolve(C):(async(a,b,T)=>{let x=u(a),C=null;const k=Jc(x,b),S=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(null===h){const t=S.reduce((t,e)=>t+e,0),n=r(b,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),i=[];for(let e=0;e<a.numberOfOutputs;e+=1)i.push(s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:S[e]}));const l=o(b,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});l.connect=e.bind(null,i),l.disconnect=c.bind(null,i),C=[n,i,l]}else k||(x=new h(b,_));if(y.set(b,null===C?x:C[2]),null!==C){if(null===w){if(void 0===v)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,n=t+e,c=async()=>{const c=new d(n,128*Math.ceil(a.context.length/128),b.sampleRate),l=[],u=[];for(let t=0;t<g.numberOfInputs;t+=1)l.push(o(c,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),u.push(r(c,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map(async t=>{const e=i(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await p(c,t,e.offset,T),e})),_=s(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<g.numberOfInputs;t+=1){l[t].connect(u[t]);for(let e=0;e<g.channelCount;e+=1)u[t].connect(_,e,t*g.channelCount+e)}for(const[e,n]of h.entries())n.connect(_,0,t+e),n.start(0);return _.connect(c.destination),await Promise.all(l.map(t=>f(a,c,t,T))),m(c)};w=(async(t,e,n,s,r,i,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,c=s.channelCount*s.numberOfInputs,l=r.reduce((t,e)=>t+e,0),u=0===l?null:n.createBuffer(l,a,n.sampleRate);if(void 0===i)throw new Error("Missing the processor constructor.");const h=al(t),d=await((t,e)=>{const n=Zc(jc,t),s=Tl(e);return Zc(n,s)})(n,t),p=Rl(s.numberOfInputs,s.channelCount),f=Rl(s.numberOfOutputs,r),m=Array.from(t.parameters.keys()).reduce((t,e)=>({...t,[e]:new Float32Array(128)}),{});for(let g=0;g<a;g+=128){if(s.numberOfInputs>0&&null!==e)for(let t=0;t<s.numberOfInputs;t+=1)for(let n=0;n<s.channelCount;n+=1)Nl(e,p[t],n,n,g);void 0!==i.parameterDescriptors&&null!==e&&i.parameterDescriptors.forEach(({name:t},n)=>{Nl(e,m,t,c+n,g)});for(let t=0;t<s.numberOfInputs;t+=1)for(let e=0;e<r[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=p.map((t,e)=>0===h.activeInputs[e].size?[]:t),e=o(g/n.sampleRate,n.sampleRate,()=>d.process(t,f,m));if(null!==u)for(let n=0,i=0;n<s.numberOfOutputs;n+=1){for(let t=0;t<r[n];t+=1)Pl(u,f[n],t,i+t,g);i+=r[n]}if(!e)break}catch(_){t.dispatchEvent(new ErrorEvent("processorerror",{colno:_.colno,filename:_.filename,lineno:_.lineno,message:_.message}));break}}return u})(a,0===n?null:await c(),b,g,S,v,l)}const t=await w,e=n(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[c,u,h]=C;null!==t&&(e.buffer=t,e.start(0)),e.connect(c);for(let n=0,s=0;n<a.numberOfOutputs;n+=1){const t=u[n];for(let e=0;e<S[n];e+=1)c.connect(t,s+e,e);s+=S[n]}return h}if(k)for(const[e,n]of a.parameters.entries())await t(b,n,x.parameters.get(e),T);else for(const[t,e]of a.parameters.entries())await p(b,e,x.parameters.get(t),T);return await f(a,b,x,T),x})(b,T,x)}}})(wh,Hd,bh,Zh,iu,Uh,cu,Zd,Bd,kd,Tl,Ed,Yu,xh,Hu,nd),Xd=(t=>e=>t.get(e))(Sd),Qd=(t=>(e,n)=>{t.set(e,n)})(Wd),Jd=Cd?((t,e,n,s,r,i,o,a,c,l,u,h,d)=>class extends e{constructor(e,u,d){var p;const f=a(e),m=c(f),_=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}))({...Il,...d}),g=Vc.get(f),v=null==g?void 0:g.get(u),y=m||"closed"!==f.state?f:null!==(p=o(f))&&void 0!==p?p:f,w=r(y,m?null:e.baseLatency,l,u,v,_);super(e,!0,w,m?s(u,_,v):null);const b=[];w.parameters.forEach((t,e)=>{const s=n(this,m,t);b.push([e,s])}),this._nativeAudioWorkletNode=w,this._onprocessorerror=null,this._parameters=new Dl(b),m&&t(f,this);const{activeInputs:T}=i(this);h(w,T)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?d(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(Ld,oh,kh,Yd,$d,al,Xd,Gu,Xu,Ed,0,Qd,Su):void 0,Kd=((t,e)=>(n,s,r)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){if("SyntaxError"===i.name)throw t();throw i}})(du,Yu),tp=((t,e,n,s,r,i,o,a)=>{const c=[];return(l,u)=>n(l).render(l,u,c).then(()=>Promise.all(Array.from(s(u)).map(t=>n(t).render(t,u,c)))).then(()=>r(u)).then(n=>("function"!=typeof n.copyFromChannel?(o(n),el(n)):e(i,()=>i(n))||a(n),t.add(n),n))})(lh,Nu,Lu,Fd,nd,Kc,ph,fh),ep=((t,e,n,s,r)=>class extends t{constructor(t,n,r){let i;if("number"==typeof t&&void 0!==n&&void 0!==r)i={length:n,numberOfChannels:t,sampleRate:r};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");i=t}const{length:o,numberOfChannels:a,sampleRate:c}={...pu,...i},l=s(a,o,c);e(Xl,()=>Xl(l))||l.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(l.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(l,a),this._length=o,this._nativeOfflineAudioContext=l,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,ul(this)}))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout(()=>this._waitForThePromiseToSettle(t))}})(Id,Nu,Wl,Kd,tp),np=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(Nc,nh),sp=(rp=Mc,ip=rh,t=>rp.has(t)||ip(t));var rp,ip;const op=(ap=Ic,cp=ih,t=>ap.has(t)||cp(t));var ap,cp;const lp=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(Nc,Xu);function up(t,e){if(!t)throw new Error(e)}function hp(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function dp(t){t.isOffline||"running"===t.state||fp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let pp=console;function fp(...t){pp.warn(...t)}function mp(t){return void 0===t}function _p(t){return!mp(t)}function gp(t){return"number"==typeof t}function vp(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function yp(t){return Array.isArray(t)}function wp(t){return"string"==typeof t}function bp(t){return wp(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const Tp="object"==typeof self?self:null,xp=Tp&&(Tp.hasOwnProperty("AudioContext")||Tp.hasOwnProperty("webkitAudioContext"));function Cp(t,e,n,s){var r,i=arguments.length,o=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(i<3?r(o):i>3?r(e,n,o):r(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function kp(t,e,n,s){return new(n||(n=Promise))(function(r,i){function o(t){try{c(s.next(t))}catch(e){i(e)}}function a(t){try{c(s.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((s=s.apply(t,e||[])).next())})}class Sp{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Ap(t){return op(t)}function Ep(t){return sp(t)}function Op(t){return lp(t)}function Mp(t){return np(t)}function Dp(t){return t instanceof mh}function Ip(t,e){return"value"===t||Ap(e)||Ep(e)||Dp(e)}function Np(t,...e){if(!e.length)return t;const n=e.shift();if(vp(t)&&vp(n))for(const s in n)Ip(s,n[s])?t[s]=n[s]:vp(n[s])?(t[s]||Object.assign(t,{[s]:{}}),Np(t[s],n[s])):Object.assign(t,{[s]:n[s]});return Np(t,...e)}function Pp(t,e,n=[],s){const r={},i=Array.from(e);if(vp(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(e=>Reflect.has(t,e))||(Np(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),1===i.length&&vp(i[0]))Np(r,i[0]);else for(let o=0;o<n.length;o++)_p(i[o])&&(r[n[o]]=i[o]);return Np(t,r)}function Rp(t,e){return mp(t)?e:t}function Vp(t,e){return e.forEach(e=>{Reflect.has(t,e)&&delete t[e]}),t}class jp{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Tp&&this.toString()===Tp.TONE_DEBUG_CLASS)&&function(...t){pp.log(...t)}(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}function Fp(t,e){return t>e+1e-6}function qp(t,e){return Fp(t,e)||zp(t,e)}function Lp(t,e){return t+1e-6<e}function zp(t,e){return Math.abs(t-e)<1e-6}jp.version="14.8.9";class Hp extends jp{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Pp(Hp.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(up(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length)up(qp(t.time,this._timeline[this.length-1].time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t);else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}return this.length>this.memory&&this._timeline.splice(0,this.length-this.memory),this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(zp(this._timeline[e].time,t)){for(let n=e;n>=0&&zp(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&qp(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const s=this._timeline.length;let r=s;if(s>0&&this._timeline[s-1][e]<=t)return s-1;for(;n<r;){let s=Math.floor(n+(r-n)/2);const i=this._timeline[s],o=this._timeline[s+1];if(zp(i[e],t)){for(let n=s;n<this._timeline.length&&zp(this._timeline[n][e],t);n++)s=n;return s}if(Lp(i[e],t)&&Fp(o[e],t))return s;Fp(i[e],t)?r=s:n=s+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let s=this._search(t),r=this._search(e);return-1!==s&&-1!==r?(this._timeline[s].time!==t&&(s+=1),this._timeline[r].time===e&&(r-=1),this._iterate(n,s,r)):-1===s&&this._iterate(n,0,r),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&zp(this._timeline[n].time,t)){let s=n;for(let e=n;e>=0&&zp(this._timeline[e].time,t);e--)s=e;this._iterate(t=>{e(t)},s,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Zp=[];function Bp(t){Zp.push(t)}const Wp=[];function Up(t){Wp.push(t)}class Gp extends jp{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach(t=>{mp(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)}),this}once(t,e){const n=(...s)=>{e(...s),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach(t=>{if(mp(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(mp(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}}),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,s=n.length;t<s;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach(e=>{const n=Object.getOwnPropertyDescriptor(Gp.prototype,e);Object.defineProperty(t.prototype,e,n)})}dispose(){return super.dispose(),this._events=void 0,this}}class $p extends Gp{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Yp extends $p{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Hp,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=Pp(Yp.getDefaults(),arguments,["context"]);this._context=t.context?t.context:function(t){return new jd(t)}({latencyHint:t.latencyHint}),this._ticker=new Sp(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,Zp.forEach(e=>e(t)),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return up(Mp(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return up(Mp(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return up(Mp(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){up(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){up(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){up(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){up(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return up(_p(Jd),"This node only works in a secure context (https or localhost)"),new Jd(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return kp(this,void 0,void 0,function*(){up(_p(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)})}workletsAreReady(){return kp(this,void 0,void 0,function*(){const t=[];this._workletModules.forEach(e=>t.push(e)),yield Promise.all(t)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,wp(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Mp(this._context)?this._context.resume():Promise.resolve()}close(){return kp(this,void 0,void 0,function*(){var t;Mp(this._context)&&(yield this._context.close()),this._initialized&&(t=this,Wp.forEach(e=>e(t)))})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let r=0;r<n.length;r++)n[r]=t;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants.set(t,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(e=>{e.id===t&&this._timeouts.remove(e)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,s=()=>{const r=this.now();this._timeouts.add({callback:()=>{t(),s()},id:n,time:r+e})};return s(),n}}function Xp(t,e){yp(e)?e.forEach(e=>Xp(t,e)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Qp(t,e){yp(e)?e.forEach(e=>Qp(t,e)):Object.defineProperty(t,e,{writable:!0})}const Jp=()=>{};class Kp extends jp{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Jp;const t=Pp(Kp.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&Dp(t.url)||t.url instanceof Kp?this.set(t.url):wp(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:Jp,onload:Jp,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:sf().sampleRate}set(t){return t instanceof Kp?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return kp(this,void 0,void 0,function*(){const e=Kp.load(t).then(t=>{this.set(t),this.onload(this)});Kp.downloads.push(e);try{yield e}finally{const t=Kp.downloads.indexOf(e);Kp.downloads.splice(t,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=yp(t)&&t[0].length>0,n=e?t.length:1,s=e?t[0].length:t.length,r=sf(),i=r.createBuffer(n,s,r.sampleRate),o=e||1!==n?t:[t];for(let a=0;a<n;a++)i.copyToChannel(o[a],a);return this._buffer=i,this}toMono(t){if(gp(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map(t=>t/e),this.fromArray(t)}return this}toArray(t){if(gp(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),s=Math.floor(e*this.sampleRate);up(n<s,"The start time must be less than the end time");const r=s-n,i=sf().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)i.copyToChannel(this.getChannelData(o).subarray(n,s),o);return new Kp(i)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Kp).fromArray(t)}static fromUrl(t){return kp(this,void 0,void 0,function*(){const e=new Kp;return yield e.load(t)})}static load(t){return kp(this,void 0,void 0,function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let s=n[0];for(const t of n)if(Kp.supportsType(t)){s=t;break}t=t.replace(e[0],s)}const n=""===Kp.baseUrl||Kp.baseUrl.endsWith("/")?Kp.baseUrl:Kp.baseUrl+"/",s=yield fetch(n+t);if(!s.ok)throw new Error("could not load url: "+t);const r=yield s.arrayBuffer();return yield sf().decodeAudioData(r)})}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return kp(this,void 0,void 0,function*(){for(yield Promise.resolve();Kp.downloads.length;)yield Kp.downloads[0]})}}Kp.baseUrl="",Kp.downloads=[];class tf extends Yp{constructor(){var t,e,n;super({clockSource:"offline",context:Op(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new ep(t,e,n)),lookAhead:0,updateInterval:Op(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Op(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return kp(this,void 0,void 0,function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise(t=>setTimeout(t,1)))}})}render(t=!0){return kp(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Kp(e)})}close(){return Promise.resolve()}}const ef=new class extends $p{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return kp(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let nf=ef;function sf(){return nf===ef&&xp&&(t=new Yp,nf=Mp(t)?new Yp(t):Op(t)?new tf(t):t),nf;var t}function rf(t){return Math.pow(2,t/12)}Tp&&!Tp.TONE_SILENCE_LOGGING&&console.log("%c * Tone.js v14.8.9 * ","background: #000; color: #fff");let of=440;function af(t){return Math.round(cf(t))}function cf(t){return 69+12*Math.log2(t/of)}class lf extends jp{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),s="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/n)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let s=0;return t&&"0"!==t&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof lf&&this.fromType(this._val),mp(this._val))return this._noArg();if(wp(this._val)&&mp(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(vp(this._val)){let t=0;for(const e in this._val)if(_p(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(_p(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return wp(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class uf extends lf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new uf(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),s=this.valueOf();return s+(Math.round(s/n)*n-s)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let r=1;r<9;r++){const t=Math.pow(2,r);e.push(t+"n."),e.push(t+"n"),e.push(t+"t")}e.push("0");let n=e[0],s=new uf(this.context,e[0]).toSeconds();return e.forEach(e=>{const r=new uf(this.context,e).toSeconds();Math.abs(r-t)<Math.abs(s-t)&&(n=e,s=r)}),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let s=e%1*4;e=Math.floor(e)%this._getTimeSignature();const r=s.toString();return r.length>3&&(s=parseFloat(parseFloat(r).toFixed(3))),[n,e,s].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return af(this.toFrequency())}_now(){return this.context.now()}}class hf extends uf{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return of}static set A4(t){!function(t){of=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:hf.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=df[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:hf.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let s=1;return t&&"0"!==t&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n)/4)),s}}})}transpose(t){return new hf(this.context,this.valueOf()*rf(t))}harmonize(t){return t.map(t=>this.transpose(t))}toMidi(){return af(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/hf.A4);let n=Math.round(12*e)+57;const s=Math.floor(n/12);return s<0&&(n+=-12*s),pf[n%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return function(t){return of*Math.pow(2,(t-69)/12)}(t)}static ftom(t){return af(t)}}const df={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},pf=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ff extends uf{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class mf extends jp{constructor(){super();const t=Pp(mf.getDefaults(),arguments,["context"]);this.context=this.defaultContext?this.defaultContext:t.context}static getDefaults(){return{context:sf()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new uf(this.context,t).toSeconds()}toFrequency(t){return new hf(this.context,t).toFrequency()}toTicks(t){return new ff(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach(n=>{mp(t[n])&&delete e[n]}),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach(e=>{if(Reflect.has(this,e)){const n=this[e];_p(n)&&_p(n.value)&&_p(n.setValueAtTime)?t[e]=n.value:n instanceof mf?t[e]=n._getPartialProperties(t[e]):yp(n)||gp(n)||wp(n)||"boolean"==typeof n?t[e]=n:delete t[e]}}),t}set(t){return Object.keys(t).forEach(e=>{Reflect.has(this,e)&&_p(this[e])&&(this[e]&&_p(this[e].value)&&_p(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof mf?this[e].set(t[e]):this[e]=t[e])}),this}}class _f extends Hp{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return hp(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let s=n;s<this._timeline.length;s++){const e=this._timeline[s];if(e.state===t)return e}}}class gf extends mf{constructor(){super(Pp(gf.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Pp(gf.getDefaults(),arguments,["param","units","convert"]);for(up(_p(t.param)&&(Ap(t.param)||t.param instanceof gf),"param must be an AudioParam");!Ap(t.param);)t.param=t.param._param;this._swappable=!!_p(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Hp(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,_p(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(mf.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return _p(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return _p(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return _p(this.maxValue)&&_p(this.minValue)&&hp(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Math.pow(10,t/20):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?Math.log(t)/Math.LN10*20:t}setValueAtTime(t,e){const n=this.toSeconds(e),s=this._fromType(t);return up(isFinite(s)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),s=this._events.get(e);let r=this._initialValue;if(null===s)r=this._initialValue;else if("setTargetAtTime"!==s.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)r=s.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=s.value;if("setTargetAtTime"===s.type){const e=this._events.getBefore(s.time);t=null===e?this._initialValue:e.value}r="linearRampToValueAtTime"===n.type?this._linearInterpolate(s.time,t,n.time,n.value,e):this._exponentialInterpolate(s.time,t,n.time,n.value,e)}else r=s.value;else{const t=this._events.getBefore(s.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===s.type&&(r=this._exponentialApproach(s.time,n,s.value,s.constant,e))}return this._toType(r)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),s=this.toSeconds(e);return up(isFinite(n)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:s,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,s),this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=zp(n,0)?this._minOutput:n,this._assertRange(n);const s=this.toSeconds(e);return up(isFinite(n)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,s),this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const s=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,s),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const s=this._fromType(t);up(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const r=this.toSeconds(e);return this._assertRange(s),up(isFinite(s)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:r,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",t,r,n),this._param.setTargetAtTime(s,r,n),this}setValueCurveAtTime(t,e,n,s=1){n=this.toSeconds(n),e=this.toSeconds(e);const r=this._fromType(t[0])*s;this.setValueAtTime(this._toType(r),e);const i=n/(t.length-1);for(let o=1;o<t.length;o++){const n=this._fromType(t[o])*s;this.linearRampToValueAtTime(this._toType(n),e+o*i)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return up(isFinite(e),"Invalid argument to cancelScheduledValues: "+JSON.stringify(t)),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));up(isFinite(e),"Invalid argument to cancelAndHoldAtTime: "+JSON.stringify(t)),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const s=this._events.get(e),r=this._events.getAfter(e);return s&&zp(s.time,e)?r?(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):r&&(this._param.cancelScheduledValues(r.time),this._events.cancel(r.time),"linearRampToValueAtTime"===r.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===r.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const s=this._events.getAfter(n.time),r=s?s.time:e+2,i=(r-e)/10;for(let n=e;n<r;n+=i)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)}),this}setParam(t){up(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,s,r){return n+(e-n)*Math.exp(-(r-t)/s)}_linearInterpolate(t,e,n,s,r){return e+(r-t)/(n-t)*(s-e)}_exponentialInterpolate(t,e,n,s,r){return e*Math.pow(s/e,(r-t)/(n-t))}}class vf extends mf{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return _p(this.input)?Ap(this.input)||this.input instanceof gf?1:this.input.numberOfInputs:0}get numberOfOutputs(){return _p(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return _p(t)&&(t instanceof vf||Ep(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();up(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return wf(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return fp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return function(t,e,n=0,s=0){if(_p(e))for(;e instanceof vf;)e=e.input;for(;!Ep(t);)_p(t.output)&&(t=t.output);Ap(e)?t.disconnect(e,n):Ep(e)?t.disconnect(e,n,s):t.disconnect()}(this,t,e,n),this}chain(...t){return yf(this,...t),this}fan(...t){return t.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),_p(this.input)&&(this.input instanceof vf?this.input.dispose():Ep(this.input)&&this.input.disconnect()),_p(this.output)&&(this.output instanceof vf?this.output.dispose():Ep(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function yf(...t){const e=t.shift();t.reduce((t,e)=>(t instanceof vf?t.connect(e):Ep(t)&&wf(t,e),e),e)}function wf(t,e,n=0,s=0){for(up(_p(t),"Cannot connect from undefined node"),up(_p(e),"Cannot connect to undefined node"),(e instanceof vf||Ep(e))&&up(e.numberOfInputs>0,"Cannot connect to node with no inputs"),up(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof vf||e instanceof gf;)_p(e.input)&&(e=e.input);for(;t instanceof vf;)_p(t.output)&&(t=t.output);Ap(e)?t.connect(e,n):t.connect(e,n,s)}class bf extends vf{constructor(){super(Pp(bf.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Pp(bf.getDefaults(),arguments,["gain","units"]);this.gain=new gf({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Xp(this,"gain")}static getDefaults(){return Object.assign(vf.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Tf extends vf{constructor(t){super(t),this.onended=Jp,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new bf({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(vf.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Jp})}_startGain(t,e=1){up(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){up(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Jp&&(this.onended(this),this.onended=Jp,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),up(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class xf extends Tf{constructor(){super(Pp(xf.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=Pp(xf.getDefaults(),arguments,["offset"]);wf(this._source,this._gainNode),this.offset=new gf({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Tf.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Cf extends vf{constructor(){super(Pp(Cf.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=Pp(Cf.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new xf({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(vf.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return kf(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,s){return this._param.setValueCurveAtTime(t,e,n,s),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function kf(t,e,n,s){(e instanceof gf||Ap(e)||e instanceof Cf&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Cf&&(e.overridden=!0)),wf(t,e,n,s)}class Sf extends gf{constructor(){super(Pp(Sf.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Hp(1/0),this._multiplier=1;const t=Pp(Sf.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(gf.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const s=this._fromType(t),r=this._events.get(e),i=Math.round(Math.max(1/n,1));for(let o=0;o<=i;o++){const t=n*o+e,i=this._exponentialApproach(r.time,r.value,s,n,t);this.linearRampToValueAtTime(this._toType(i),t)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const s=this._events.get(n),r=this._events.previousEvent(s),i=this._getTicksUntilEvent(r,n);return s.ticks=Math.max(i,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const s=this._events.get(n),r=this._events.previousEvent(s),i=this._getTicksUntilEvent(r,n);return s.ticks=Math.max(i,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),s=this._events.get(e),r=Math.round(Math.max(10*(e-s.time),1)),i=(e-s.time)/r;for(let o=0;o<=r;o++){const t=i*o+s.time,r=this._exponentialInterpolate(s.time,s.value,e,n,t);this.linearRampToValueAtTime(this._toType(r),t)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(mp(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let s=this._fromType(this.getValueAtTime(e));const r=this._events.get(e);return r&&r.time===e&&"setValueAtTime"===r.type&&(s=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+s)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(e);return this.getTimeOfTick(s+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const s=this._fromType(this.getValueAtTime(e.time)),r=(this._fromType(this.getValueAtTime(n.time))-s)/(n.time-e.time),i=Math.sqrt(Math.pow(s,2)-2*r*(e.ticks-t)),o=(-s+i)/r,a=(-s-i)/r;return(o>0?o:a)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),s=this.toSeconds(t),r=this.getTicksAtTime(n);return this.getTicksAtTime(n+s)-r}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Af extends Cf{constructor(){super(Pp(Af.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=Pp(Af.getDefaults(),arguments,["value"]);this.input=this._param=new Sf({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Cf.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Ef extends mf{constructor(){super(Pp(Ef.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new _f,this._tickOffset=new Hp;const t=Pp(Ef.getDefaults(),arguments,["frequency"]);this.frequency=new Af({context:this.context,units:t.units,value:t.frequency}),Xp(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},mf.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),_p(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);let r=n,i=0;return this._state.forEachBetween(n.time,e+this.sampleTime,t=>{let e=r.time;const n=this._tickOffset.get(t.time);n&&n.time>=r.time&&(i=n.ticks,e=n.time),"started"===r.state&&"started"!==t.state&&(i+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),r=t}),this._state.remove(s),i}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let s=e,r=0;return this._state.forEachBetween(e.time,t+this.sampleTime,t=>{let e=s.time;const n=this._tickOffset.get(t.time);n&&n.time>=s.time&&(r=n.seconds,e=n.time),"started"===s.state&&"started"!==t.state&&(r+=t.time-e),s=t}),this._state.remove(n),r}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),s=this._state.get(e),r=Math.max(n.time,s.time),i=this.frequency.getTicksAtTime(r)+t-n.ticks;return this.frequency.getTimeOfTick(i)}forEachTickBetween(t,e,n){let s=this._state.get(t);this._state.forEachBetween(t,e,e=>{s&&"started"===s.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(s.time,t),e.time-this.sampleTime,n),s=e});let r=null;if(s&&"started"===s.state){const o=Math.max(s.time,t),a=this.frequency.getTicksAtTime(o),c=a-this.frequency.getTicksAtTime(s.time);let l=Math.ceil(c)-c;l=zp(l,1)?0:l;let u=this.frequency.getTimeOfTick(a+l);for(;u<e;){try{n(u,Math.round(this.getTicksAtTime(u)))}catch(i){r=i;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(r)throw r;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Of extends mf{constructor(){super(Pp(Of.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Jp,this._lastUpdate=0,this._state=new _f("stopped"),this._boundLoop=this._loop.bind(this);const t=Pp(Of.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Ef({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Xp(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(mf.getDefaults(),{callback:Jp,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){dp(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(s+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}}),this._tickSource.forEachTickBetween(t,e,(t,e)=>{this.callback(t,e)}))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Gp.mixin(Of);class Mf extends jp{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Pp(Mf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(e=>{this._loadingCount++,this.add(e,t.urls[e],this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Jp,onload:Jp,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return up(this.has(t),"ToneAudioBuffers has no buffer named: "+t),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,e])=>e.loaded)}add(t,e,n=Jp,s=Jp){return wp(e)?this._buffers.set(t.toString(),new Kp(this.baseUrl+e,n,s)):this._buffers.set(t.toString(),new Kp(e,n,s)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Df extends ff{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class If extends mf{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Hp,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Bp(t=>{t.draw=new If({context:t})}),Up(t=>{t.draw.dispose()});class Nf extends jp{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){up(_p(t.time),"Events must have a time property"),up(_p(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new Pf(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,t=>this.remove(t)),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),s=t.right;s&&(t.right=s.left,s.left=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),s=t.left;s&&(t.left=s.right,s.right=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse(t=>e.push(t)),e.forEach(e=>{e.event&&t(e.event)})}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach(t=>{t.event&&e(t.event)})}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach(t=>{t.event&&e(t.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class Pf{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){this.height=null!==this.left&&null!==this.right?Math.max(this.left.height,this.right.height)+1:null!==this.right?this.right.height+1:null!==this.left?this.left.height+1:0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Rf extends vf{constructor(){super(Pp(Rf.getDefaults(),arguments,["volume"])),this.name="Volume";const t=Pp(Rf.getDefaults(),arguments,["volume"]);this.input=this.output=new bf({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Xp(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(vf.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Vf extends vf{constructor(){super(Pp(Vf.getDefaults(),arguments)),this.name="Destination",this.input=new Rf({context:this.context}),this.output=new bf({context:this.context}),this.volume=this.input.volume;const t=Pp(Vf.getDefaults(),arguments);yf(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(vf.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),yf(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Bp(t=>{t.destination=new Vf({context:t})}),Up(t=>{t.destination.dispose()});class jf extends jp{constructor(t){super(),this.name="TimelineValue",this._timeline=new Hp({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Ff{constructor(t,e){this.id=Ff._eventId++,this._remainderTime=0;const n=Object.assign(Ff.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:Jp,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Ff._eventId=0;class qf extends Ff{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(qf.getDefaults(),e);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ff.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return Lp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Df(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){Lp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Df(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);Fp(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Lf extends mf{constructor(){super(Pp(Lf.getDefaults(),arguments)),this.name="Transport",this._loop=new jf(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Hp,this._repeatedEvents=new Nf,this._syncedSignals=[],this._swingAmount=0;const t=Pp(Lf.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new Of({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Xp(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(mf.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=Math.sin(e%(2*this._swingTicks)/(2*this._swingTicks)*Math.PI)*this._swingAmount;t+=new Df(this.context,2*this._swingTicks/3).toSeconds()*n}this._timeline.forEachAtTime(e,e=>e.invoke(t))}schedule(t,e){const n=new Ff(this,{callback:t,time:new ff(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,s=1/0){const r=new qf(this,{callback:t,duration:new uf(this.context,s).toTicks(),interval:new uf(this.context,e).toTicks(),time:new ff(this.context,n).toTicks()});return this._addEvent(r,this._repeatedEvents)}scheduleOnce(t,e){const n=new Ff(this,{callback:t,once:!0,time:new ff(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(e,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on("start",(t,e)=>{e=new Df(this.context,e).toSeconds(),this.emit("start",t,e)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return _p(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){yp(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new uf(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new uf(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Df(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new Df(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),s=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",s),this._clock.setTicksAtTime(t,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=this.getTicksAtTime(e);return this._clock.nextTickTime(t-n%t,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const s=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/s}else e=0}const n=new bf(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Qp(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Gp.mixin(Lf),Bp(t=>{t.transport=new Lf({context:t})}),Up(t=>{t.transport.dispose()});class zf extends vf{constructor(t){super(t),this.input=void 0,this._state=new _f("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Jp,this._syncedStop=Jp,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Rf({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Xp(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(vf.getDefaults(),{mute:!1,onstop:Jp,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let s=mp(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const t=this._state.get(s);t&&(t.offset=this.toSeconds(Rp(e,0)),t.duration=n?this.toSeconds(n):void 0);const r=this.context.transport.schedule(t=>{this._start(t,e,n)},s);this._scheduled.push(r),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else dp(this.context),this._start(s,e,n);else up(Fp(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,e,n);return this}stop(t){let e=mp(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||_p(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const s=e-this.toSeconds(n.time);let r;n.duration&&(r=this.toSeconds(n.duration)-s),this._start(t,this.toSeconds(n.offset)+s,r)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Jp,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Hf extends Tf{constructor(){super(Pp(Hf.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Pp(Hf.getDefaults(),arguments,["url","onload"]);wf(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new gf({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Kp(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Tf.getDefaults(),{url:new Kp,loop:!1,loopEnd:0,loopStart:0,onload:Jp,onerror:Jp,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,s=1){up(this.buffer.loaded,"buffer is either not set or not loaded");const r=this.toSeconds(t);this._startGain(r,s),e=Rp(e,this.loop?this.loopStart:0);let i=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;qp(i,t)&&(i=(i-e)%n+e),zp(i,this.buffer.duration)&&(i=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Lp(i,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(r,i)),_p(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(r+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Zf(t,e){return kp(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new tf(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class Bf extends Tf{constructor(){super(Pp(Bf.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Pp(Bf.getDefaults(),arguments,["frequency","type"]);wf(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new gf({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new gf({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Xp(this,["frequency","detune"])}static getDefaults(){return Object.assign(Tf.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Wf extends zf{constructor(){super(Pp(Wf.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Pp(Wf.getDefaults(),arguments,["frequency","type"]);this.frequency=new Cf({context:this.context,units:"frequency",value:t.frequency}),Xp(this,"frequency"),this.detune=new Cf({context:this.context,units:"cents",value:t.detune}),Xp(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(zf.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new Bf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return Wf._periodicWaveCache.find(t=>{return t.phase===this._phase&&(e=t.partials).length===(n=this._partials).length&&e.every((t,e)=>n[e]===t);var e,n});{const t=Wf._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(_p(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),s=this.context.createPeriodicWave(e,n);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Wf._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),Wf._periodicWaveCache.length>100&&Wf._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.type=this.partialCount&&"custom"!==this._type&&"custom"!==t?t+this.partialCount:t}get partialCount(){return this._partialCount}set partialCount(t){hp(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach((t,n)=>e[n]=t),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const s=new Float32Array(n),r=new Float32Array(n);let i=1;if("custom"===t){if(i=this._partials.length+1,this._partialCount=this._partials.length,n=i,0===this._partials.length)return[s,r]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(i=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],i=Math.max(i,2),n=i):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=i?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(s[o]=-a*Math.sin(e*o),r[o]=a*Math.cos(e*o)):(s[o]=0,r[o]=0)}return[s,r]}_inverseFFT(t,e,n){let s=0;const r=t.length;for(let i=0;i<r;i++)s+=t[i]*Math.cos(i*n)+e[i]*Math.sin(i*n);return s}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const s=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(t,e,i/32*s),n);return r=-this._inverseFFT(t,e,this._phase)/n,-1,Math.max(Math.min(r,1),-1);var r}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return kp(this,void 0,void 0,function*(){return Zf(this,t)})}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Wf._periodicWaveCache=[];class Uf extends vf{constructor(){super(Object.assign(Pp(Uf.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return kf(this,t,e,n),this}}class Gf extends Uf{constructor(){super(Object.assign(Pp(Gf.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Pp(Gf.getDefaults(),arguments,["mapping","length"]);yp(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):"function"==typeof t.mapping&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Cf.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let s=0,r=e;s<r;s++)n[s]=t(s/(r-1)*2-1,s);return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){up(["none","2x","4x"].some(e=>e.includes(t)),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class $f extends Uf{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Gf({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Yf extends Cf{constructor(){super(Object.assign(Pp(Yf.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=Pp(Yf.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new bf({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Cf.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Xf extends zf{constructor(){super(Pp(Xf.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new $f({context:this.context}),this._modulationNode=new bf({context:this.context});const t=Pp(Xf.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Wf({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Wf({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Yf({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Xp(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Wf.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return kp(this,void 0,void 0,function*(){return Zf(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Qf extends zf{constructor(){super(Pp(Qf.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new bf({context:this.context,gain:0});const t=Pp(Qf.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Wf({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Cf({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Wf({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Yf({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Yf({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Xp(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Wf.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return kp(this,void 0,void 0,function*(){return Zf(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Jf extends zf{constructor(){super(Pp(Jf.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new bf({context:this.context,gain:0}),this._thresh=new Gf({context:this.context,mapping:t=>t<=0?-1:1});const t=Pp(Jf.getDefaults(),arguments,["frequency","width"]);this.width=new Cf({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Wf({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Xp(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(zf.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return kp(this,void 0,void 0,function*(){return Zf(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Kf extends zf{constructor(){super(Pp(Kf.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=Pp(Kf.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Cf({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Cf({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Xp(this,["frequency","detune"])}static getDefaults(){return Object.assign(Wf.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(e=>e.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(e=>e.stop(t))}_restart(t){this._forEach(e=>e.restart(t))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach(e=>e.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach((t,s)=>t.detune.value=e+n*s)}}get count(){return this._oscillators.length}set count(t){if(hp(t,1),this._oscillators.length!==t){this._forEach(t=>t.dispose()),this._oscillators=[];for(let e=0;e<t;e++){const n=new Wf({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):Jp});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((t,e)=>t.phase=this._phase+e/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(e=>e.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(e=>e.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(e=>e.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return kp(this,void 0,void 0,function*(){return Zf(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class tm extends zf{constructor(){super(Pp(tm.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Yf({context:this.context,value:2});const t=Pp(tm.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Jf({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Wf({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Xp(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(zf.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return kp(this,void 0,void 0,function*(){return Zf(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const em={am:Xf,fat:Kf,fm:Qf,oscillator:Wf,pulse:Jf,pwm:tm};class nm extends zf{constructor(){super(Pp(nm.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=Pp(nm.getDefaults(),arguments,["frequency","type"]);this.frequency=new Cf({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Cf({context:this.context,units:"cents",value:t.detune}),Xp(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Wf.getDefaults(),Qf.getDefaults(),Xf.getDefaults(),Kf.getDefaults(),Jf.getDefaults(),tm.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=em[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout(()=>t.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof em[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&gp(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&gp(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&wp(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return kp(this,void 0,void 0,function*(){return Zf(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function sm(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){hp(s,t,e),n.set(this,s)}})}}function rm(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){hp(this.toSeconds(s),t,e),n.set(this,s)}})}}class im extends zf{constructor(){super(Pp(im.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=Pp(im.getDefaults(),arguments,["url","onload"]);this._buffer=new Kp({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(zf.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Jp,onerror:Jp,playbackRate:1,reverse:!1})}load(t){return kp(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=Jp){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=Rp(e,this._loop?this._loopStart:0);const s=this.toSeconds(e),r=n;n=Rp(n,Math.max(this._buffer.duration-s,0));let i=this.toSeconds(n);i/=this._playbackRate,t=this.toSeconds(t);const o=new Hf({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+i),this._state.setStateAtTime("stopped",t+i,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&mp(r)?o.start(t,s):o.start(t,s,i-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(t=>t.stop(e))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&hp(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&hp(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(e=>{e.loop=t}),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach(t=>t.cancelStop())),this._activeSources.forEach(n=>{n.playbackRate.setValueAtTime(t,e)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Cp([rm(0)],im.prototype,"fadeIn",void 0),Cp([rm(0)],im.prototype,"fadeOut",void 0);class om extends vf{constructor(){super(Pp(om.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Cf({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=Pp(om.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(vf.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(wp(t))return t;{let n;for(n in am)if(am[n][e]===t)return n;return t}}_setCurve(t,e,n){if(wp(n)&&Reflect.has(am,n)){const s=am[n];vp(s)?"_decayCurve"!==t&&(this[t]=s[e]):this[t]=s}else{if(!yp(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){up(["linear","exponential"].some(e=>e===t),"Invalid envelope curve: "+t),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),r=this.getValueAtTime(t);if(r>0&&(n=(1-r)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let s=this._attackCurve;for(let t=1;t<s.length;t++)if(s[t-1]<=r&&r<=s[t]){s=this._attackCurve.slice(t),s[0]=r;break}this._sig.setValueCurveAtTime(s,t,n,e)}if(s&&this.sustain<1){const r=e*this.sustain,i=t+n;this.log("decay",i),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(r,s+i):this._sig.exponentialApproachValueAtTime(r,i,s)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(up(yp(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return kf(this,t,e,n),this}asArray(t=1024){return kp(this,void 0,void 0,function*(){const e=t/this.context.sampleRate,n=new tf(1,e,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),r=s+this.toSeconds(this.release),i=.1*r,o=r+i,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(e*(s+i)/o,0),(yield n.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Cp([rm(0)],om.prototype,"attack",void 0),Cp([rm(0)],om.prototype,"decay",void 0),Cp([sm(0,1)],om.prototype,"sustain",void 0),Cp([rm(0)],om.prototype,"release",void 0);const am=(()=>{let t,e;const n=[];for(t=0;t<128;t++)n[t]=Math.sin(t/127*(Math.PI/2));const s=[];for(t=0;t<127;t++){e=t/127;const n=Math.sin(e*(2*Math.PI)*6.4-Math.PI/2)+1;s[t]=n/10+.83*e}s[127]=1;const r=[];for(t=0;t<128;t++)r[t]=Math.ceil(t/127*5)/5;const i=[];for(t=0;t<128;t++)e=t/127,i[t]=.5*(1-Math.cos(Math.PI*e));const o=[];for(t=0;t<128;t++){e=t/127;const n=4*Math.pow(e,3)+.2,s=Math.cos(n*Math.PI*2*e);o[t]=Math.abs(s*(1-e))}function a(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:a(o),Out:o},cosine:{In:n,Out:(c=n,c.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:s,Out:a(s)},sine:{In:i,Out:a(i)},step:{In:r,Out:a(r)}};var c})();class cm extends vf{constructor(){super(Pp(cm.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=Pp(cm.getDefaults(),arguments);this._volume=this.output=new Rf({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Xp(this,"volume")}static getDefaults(){return Object.assign(vf.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const s=this.context.transport.schedule(s=>{t[e]=s,n.apply(this,t)},t[e]);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,s){const r=this.toSeconds(n),i=this.toSeconds(e);return this.triggerAttack(t,r,s),this.triggerRelease(r+i),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class lm extends cm{constructor(){super(Pp(lm.getDefaults(),arguments));const t=Pp(lm.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(cm.getDefaults(),{detune:0,onsilence:Jp,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const s=this.toSeconds(e);return this._triggerEnvelopeAttack(s,n),this.setNote(t,s),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),s=t instanceof hf?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,t,n)}else this.frequency.setValueAtTime(s,n);return this}}Cp([rm(0)],lm.prototype,"portamento",void 0);class um extends om{constructor(){super(Pp(um.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new bf({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class hm extends lm{constructor(){super(Pp(hm.getDefaults(),arguments)),this.name="Synth";const t=Pp(hm.getDefaults(),arguments);this.oscillator=new nm(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new um(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Xp(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(lm.getDefaults(),{envelope:Object.assign(Vp(om.getDefaults(),Object.keys(vf.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Vp(nm.getDefaults(),[...Object.keys(zf.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class dm extends hm{constructor(){super(Pp(dm.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=Pp(dm.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Xp(this,["oscillator","envelope"])}static getDefaults(){return Np(lm.getDefaults(),hm.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),s=this.toFrequency(t instanceof hf?t.toFrequency():t);return this.oscillator.frequency.setValueAtTime(s*this.octaves,n),this.oscillator.frequency.exponentialRampToValueAtTime(s,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Cp([sm(0)],dm.prototype,"octaves",void 0),Cp([rm(0)],dm.prototype,"pitchDecay",void 0);const pm=new Set;function fm(t){pm.add(t)}function mm(t,e){pm.add(`registerProcessor("${t}", ${e})`)}fm('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),fm("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),fm("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n"),mm("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class _m extends cm{constructor(){super(Pp(_m.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=Pp(_m.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach(n=>{const s=parseInt(n,10);if(up(bp(n)||gp(s)&&isFinite(s),"url key is neither a note or midi pitch: "+n),bp(n)){const s=new hf(this.context,n).toMidi();e[s]=t.urls[n]}else gp(s)&&isFinite(s)&&(e[s]=t.urls[s])}),this._buffers=new Mf({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(cm.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Jp,onerror:Jp,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error("No available buffers for note: "+t)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach(t=>{const s=cf(new hf(this.context,t).toFrequency()),r=Math.round(s),i=s-r,o=this._findClosest(r),a=this._buffers.get(r-o),c=rf(o+i),l=new Hf({url:a,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:c}).connect(this.output);l.start(e,0,a.duration/c,n),yp(this._activeSources.get(r))||this._activeSources.set(r,[]),this._activeSources.get(r).push(l),l.onended=()=>{if(this._activeSources&&this._activeSources.has(r)){const t=this._activeSources.get(r),e=t.indexOf(l);-1!==e&&t.splice(e,1)}}}),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach(t=>{const n=new hf(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach(t=>{t.stop(e)}),this._activeSources.set(n,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(t=>{for(;t.length;)t.shift().stop(e)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,s=1){const r=this.toSeconds(n);return this.triggerAttack(t,r,s),yp(e)?(up(yp(t),"notes must be an array when duration is array"),t.forEach((t,n)=>{const s=e[Math.min(n,e.length-1)];this.triggerRelease(t,r+this.toSeconds(s))})):this.triggerRelease(t,r+this.toSeconds(e)),this}add(t,e,n){if(up(bp(t)||isFinite(t),"note must be a pitch or midi: "+t),bp(t)){const s=new hf(this.context,t).toMidi();this._buffers.add(s,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}Cp([rm(0)],_m.prototype,"attack",void 0),Cp([rm(0)],_m.prototype,"release",void 0);class gm extends vf{constructor(){super(Object.assign(Pp(gm.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=Pp(gm.getDefaults(),arguments,["pan"]);this.pan=new gf({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Xp(this,"pan")}static getDefaults(){return Object.assign(vf.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}mm("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class vm extends vf{constructor(){super(Pp(vm.getDefaults(),arguments,["solo"])),this.name="Solo";const t=Pp(vm.getDefaults(),arguments,["solo"]);this.input=this.output=new bf({context:this.context}),vm._allSolos.has(this.context)||vm._allSolos.set(this.context,new Set),vm._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(vf.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),vm._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){vm._soloed.has(this.context)||vm._soloed.set(this.context,new Set),vm._soloed.get(this.context).add(this)}_removeSolo(){vm._soloed.has(this.context)&&vm._soloed.get(this.context).delete(this)}_isSoloed(){return vm._soloed.has(this.context)&&vm._soloed.get(this.context).has(this)}_noSolos(){return!vm._soloed.has(this.context)||vm._soloed.has(this.context)&&0===vm._soloed.get(this.context).size}_updateSolo(){this.input.gain.value=this._isSoloed()||this._noSolos()?1:0}dispose(){return super.dispose(),vm._allSolos.get(this.context).delete(this),this._removeSolo(),this}}vm._allSolos=new Map,vm._soloed=new Map;class ym extends vf{constructor(){super(Pp(ym.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=Pp(ym.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new gm({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Rf({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Xp(this,["pan","volume"])}static getDefaults(){return Object.assign(vf.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class wm extends vf{constructor(){super(Pp(wm.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=Pp(wm.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new vm({solo:t.solo,context:this.context}),this._panVol=this.output=new ym({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Xp(this,["pan","volume"])}static getDefaults(){return Object.assign(vf.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return wm.buses.has(t)||wm.buses.set(t,new bf({context:this.context})),wm.buses.get(t)}send(t,e=0){const n=this._getBus(t),s=new bf({context:this.context,units:"decibels",gain:e});return this.connect(s),s.connect(n),s}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}wm.buses=new Map;class bm extends vf{constructor(){super(...arguments),this.name="Listener",this.positionX=new gf({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new gf({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new gf({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new gf({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new gf({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new gf({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new gf({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new gf({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new gf({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(vf.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Bp(t=>{t.listener=new bm({context:t})}),Up(t=>{t.listener.dispose()}),sf(),sf(),sf(),sf(),sf(),sf();const Tm={upDown:{name:"\u0412\u0432\u0435\u0440\u0445 \u0438\u043b\u0438 \u0432\u043d\u0438\u0437?",type:"upDown"},note:{name:"\u041a\u0430\u043a\u0430\u044f \u043d\u043e\u0442\u0430?",type:"whichNote"}},xm=new Map([[!0,"\u0432\u0432\u0435\u0440\u0445"],[!1,"\u0432\u043d\u0438\u0437"]]);var Cm=function(t){return t[t.C=0]="C",t[t["C#"]=1]="C#",t[t.D=2]="D",t[t["D#"]=3]="D#",t[t.E=4]="E",t[t.F=5]="F",t[t["F#"]=6]="F#",t[t.G=7]="G",t[t["G#"]=8]="G#",t[t.A=9]="A",t[t["A#"]=10]="A#",t[t.B=11]="B",t}({});const km=[0,1,2,3,4,5,6,7,8,9,10,11],Sm=t=>{let e=Math.floor(11*Math.random());return e=t===e?(e+1)%11:e,{note:""+Cm[e]+4,high:4,tone:e,duration:"8n"}},Am=["exerciseUpDown"],Em=["whichNote"];function Om(t,e){1&t&&ni(0)}const Mm=function(t){return{$implicit:t}};function Dm(t,e){if(1&t&&(ti(0),Gr(1,Om,1,0,"ng-container",11),ei()),2&t){const t=e.$implicit;ci();const r=re(de.lFrame.contextLView,34);Os(1),Yr("ngTemplateOutlet",r)("ngTemplateOutletContext",(2,n=Mm,s=t.value,Do(fe(),Ce(),2,n,s,undefined)))}var n,s}function Im(t,e){1&t&&ni(0)}function Nm(t,e){if(1&t&&(Qr(0,"div",12),Qr(1,"p"),gi(2,"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432: "),Qr(3,"span",13),gi(4),Jr(),gi(5," \u0438\u0437 "),Qr(6,"span"),gi(7),Jr(),Jr(),Jr()),2&t){const t=ci();Os(4),vi(t.counter.correct),Os(3),vi(t.counter.total)}}function Pm(t,e){if(1&t){const t=si();Qr(0,"button",14),ii("click",function(){_e(t);const n=e.$implicit;return ci().chooseExercise(n)}),gi(1),Jr()}if(2&t){const t=e.$implicit;Os(1),yi(" ",t.name," ")}}function Rm(t,e){if(1&t){const t=si();Qr(0,"div",15),Qr(1,"div"),Qr(2,"div",16),Qr(3,"p",17),gi(4,"\u041a\u0443\u0434\u0430 \u0438\u0434\u0451\u0442 \u043c\u0435\u043b\u043e\u0434\u0438\u044f?"),Jr(),Qr(5,"div",18),Qr(6,"button",19),ii("click",function(){return _e(t),ci().checkCorrectUpDown(!0)}),gi(7,"\u0412\u0432\u0435\u0440\u0445"),Jr(),Qr(8,"button",19),ii("click",function(){return _e(t),ci().checkCorrectUpDown(!1)}),gi(9,"\u0412\u043d\u0438\u0437"),Jr(),Jr(),Jr(),Jr(),Qr(10,"section",20),Qr(11,"button",21),ii("click",function(){return _e(t),ci().repeat()}),gi(12,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"),Jr(),Qr(13,"button",21),ii("click",function(){return _e(t),ci().upDownExercise()}),gi(14,"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043c\u0435\u043b\u043e\u0434\u0438\u044f"),Jr(),Jr(),Qr(15,"section",22),gi(16),Jr(),Jr()}if(2&t){const t=ci();Os(6),di("_disabled",t.answeredAtLeastOnce),Os(2),di("_disabled",t.answeredAtLeastOnce),Os(3),di("_active",t.answeredAtLeastOnce),Os(2),di("_active",t.answeredAtLeastOnce),Os(2),di("_correct",t.isCorrect),Os(1),yi(" ",t.answer," ")}}function Vm(t,e){if(1&t){const t=si();Qr(0,"button",24),ii("click",function(){_e(t);const n=e.$implicit;return ci(2).checkCorrectWhichNote(n)}),gi(1),Jr()}if(2&t){const t=e.$implicit,n=ci(2);di("_disabled",n.answeredAtLeastOnce),Os(1),vi(n.getNoteName(t))}}function jm(t,e){if(1&t){const t=si();Qr(0,"div",15),Qr(1,"div"),Qr(2,"div",16),Qr(3,"p",17),gi(4,"\u041a\u0430\u043a\u0430\u044f \u044d\u0442\u043e \u043d\u043e\u0442\u0430?"),Jr(),Qr(5,"div",18),Gr(6,Vm,2,3,"button",23),Jr(),Jr(),Jr(),Qr(7,"section",20),Qr(8,"button",21),ii("click",function(){return _e(t),ci().repeat()}),gi(9,"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"),Jr(),Qr(10,"button",21),ii("click",function(){return _e(t),ci().whichNoteExercise()}),gi(11,"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043d\u043e\u0442\u0430"),Jr(),Jr(),Qr(12,"section",22),gi(13),Jr(),Jr()}if(2&t){const t=ci();Os(6),Yr("ngForOf",t.allNotes),Os(2),di("_active",t.answeredAtLeastOnce),Os(2),di("_active",t.answeredAtLeastOnce),Os(2),di("_correct",t.isCorrect),Os(1),yi(" ",t.answer," ")}}function Fm(t,e){1&t&&(de.lFrame.currentNamespace="http://www.w3.org/2000/svg",Qr(0,"svg",25),Qr(1,"g",26),Kr(2,"path",27),Kr(3,"path",28),Kr(4,"path",29),Kr(5,"path",30),Kr(6,"path",31),Kr(7,"path",32),Kr(8,"path",33),Kr(9,"path",34),Kr(10,"path",35),Kr(11,"path",36),Kr(12,"path",37),Kr(13,"path",38),Kr(14,"path",39),Kr(15,"path",40),Kr(16,"path",41),Kr(17,"path",42),Kr(18,"path",43),Kr(19,"path",44),Kr(20,"path",45),Kr(21,"path",46),Kr(22,"path",47),Jr(),Jr())}let qm=(()=>{class t{constructor(t){this.cdr=t,this.today=Date.now(),this.exercises=Tm,this.answer="",this.isCorrect=!1,this.counter={correct:0,total:0},this.answeredAtLeastOnce=!1,this.allNotes=km}get classApp(){return!0}ngOnInit(){this.synth=(new hm).toDestination()}ngAfterViewInit(){this.chooseExercise(Tm.note)}getNoteName(t){return Cm[t]}checkCorrectUpDown(t){const e=xm.get(this.correctAnswer);this.isCorrect=this.correctAnswer===t,this.answer=this.isCorrect?"\u0412\u0435\u0440\u043d\u043e!":"\u041d\u0435\u0432\u0435\u0440\u043d\u043e.",this.answer+=` \u041c\u0435\u043b\u043e\u0434\u0438\u044f \u0438\u0434\u0451\u0442 ${e}. \u042d\u0442\u043e \u0431\u044b\u043b\u0438 \u043d\u043e\u0442\u044b ${this.toPlay.map(({note:t})=>t).join(", ")}`,this.updateCounter(),this.cdr.markForCheck()}checkCorrectWhichNote(t){this.isCorrect=this.correctAnswer===t,this.answer=this.isCorrect?"\u0412\u0435\u0440\u043d\u043e!":"\u041d\u0435\u0432\u0435\u0440\u043d\u043e.",this.answer+="\u042d\u0442\u043e \u0431\u044b\u043b\u0430 \u043d\u043e\u0442\u0430 "+Cm[this.toPlay[0].tone],this.updateCounter(),this.cdr.markForCheck()}chooseExercise(t){switch(t.type){case"upDown":this.exercise=this.exerciseUpDown,this.upDownExercise();break;case"whichNote":this.exercise=this.whichNote,this.whichNoteExercise()}this.cdr.markForCheck()}updateCounter(){this.answeredAtLeastOnce||(this.counter.correct+=this.isCorrect?1:0,this.counter.total++,this.answeredAtLeastOnce=!0)}upDownExercise(){this.answer="";const t=Sm();var e,n;this.toPlay=[t,Sm(t.tone)],this.correctAnswer=(e=this.toPlay[1]).high>(n=this.toPlay[0]).high||e.high===n.high&&e.tone>n.tone,this.repeat(),this.answeredAtLeastOnce=!1,this.cdr.markForCheck()}whichNoteExercise(){this.answer="",this.toPlay=[Sm()],this.correctAnswer=this.toPlay[0].tone,this.repeat(),this.answeredAtLeastOnce=!1,this.cdr.markForCheck()}repeat(){let t=sf().now();this.toPlay.forEach(e=>{this.playNote(e,t),t+=.5})}playNote({note:t,duration:e},n){this.synth.triggerAttackRelease(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)($r(so))},t.\u0275cmp=(e={type:t,selectors:[["my-app"]],viewQuery:function(t,e){if(1&t&&($o(Am,1),$o(Em,1)),2&t){let t;Go(t=Yo())&&(e.exerciseUpDown=t.first),Go(t=Yo())&&(e.whichNote=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&di("app",e.classApp)},decls:21,vars:9,consts:[[1,"app-header"],[1,"app-nav"],[4,"ngFor","ngForOf"],[1,"app-main"],[4,"ngTemplateOutlet"],["class","app-aside",4,"ngIf"],[1,"app-footer"],["taskCard",""],["exerciseUpDown",""],["whichNote",""],["piano",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"app-aside"],[1,"_important"],[1,"app__exrcs-card",3,"click"],[1,"app__exrcs"],[1,"app__exrcs-question-area"],[1,"app__exrcs-question"],[1,"app__exrcs-answers"],[1,"btn","btn-answer",3,"click"],[1,"app__exrcs-rule-buttons"],[1,"btn",3,"click"],[1,"app_exrcs-answer"],["class","btn btn-answer  _small",3,"_disabled","click",4,"ngFor","ngForOf"],[1,"btn","btn-answer","_small",3,"click"],["xmlns","http://www.w3.org/2000/svg","version","1.0","width","300px","height","300px","viewBox","0 0 572.000000 358.000000","preserveAspectRatio","xMidYMid meet"],["transform","translate(0.000000,358.000000) scale(0.100000,-0.100000)","fill","#000000","stroke","none"],["d","M450 2565 l0 -1015 165 0 165 0 2 -772 3 -773 5 770 5 770 73 3 72 3 0 1014 0 1015 -245 0 -245 0 0 -1015z m354 -208 c2 -44 -1 -77 -6 -77 -5 0 -7 -9 -3 -20 3 -11 2 -28 -4 -37 -9 -15 -10 -12 -11 16 0 29 -2 32 -15 21 -8 -7 -15 -26 -15 -43 0 -24 -3 -28 -12 -19 -15 15 -15 199 0 214 9 9 12 6 12 -15 0 -17 5 -27 15 -27 11 0 15 11 15 42 0 74 21 27 24 -55z m-104 47 c0 -13 -7 -15 -29 -11 -15 3 -37 4 -48 1 -19 -5 -53 -61 -53 -88 0 -27 43 -66 88 -80 l47 -15 -43 0 c-100 -2 -149 67 -107 149 19 37 59 59 108 60 28 0 37 -4 37 -16z"],["d","M757 2343 c-4 -3 -7 -20 -7 -36 0 -25 2 -28 15 -17 8 7 15 23 15 36 0 23 -10 31 -23 17z"],["d","M1410 2565 l0 -1014 83 -3 82 -3 5 -770 5 -770 3 773 2 772 155 0 155 0 0 1015 0 1015 -245 0 -245 0 0 -1015z m354 -208 c2 -44 -1 -77 -6 -77 -5 0 -7 -9 -3 -20 3 -11 2 -28 -4 -37 -9 -15 -10 -12 -11 16 0 29 -2 32 -15 21 -8 -7 -15 -26 -15 -43 0 -24 -3 -28 -12 -19 -7 7 -11 47 -11 107 0 60 4 100 11 107 9 9 12 6 12 -15 0 -17 5 -27 15 -27 11 0 15 11 15 42 0 74 21 27 24 -55z m-134 53 c28 -15 40 -62 27 -106 -13 -43 -74 -87 -115 -82 -26 3 -27 6 -30 68 -2 36 0 80 3 98 6 30 8 32 51 32 25 0 54 -4 64 -10z"],["d","M1717 2343 c-4 -3 -7 -20 -7 -36 0 -25 2 -28 15 -17 8 7 15 23 15 36 0 23 -10 31 -23 17z"],["d","M1556 2385 c-12 -31 -7 -135 7 -135 18 1 48 26 62 52 9 19 5 62 -9 85 -1 1 -13 4 -27 8 -19 5 -28 2 -33 -10z"],["d","M2405 1795 c0 -984 1 -1386 2 -892 2 494 2 1300 0 1790 -1 491 -2 87 -2 -898z"],["d","M2850 2565 l0 -1015 195 0 195 0 2 -772 3 -773 5 770 5 770 43 3 42 3 0 1015 0 1014 -245 0 -245 0 0 -1015z m363 -217 c-3 -16 0 -34 6 -42 8 -10 9 -16 1 -21 -5 -3 -10 -20 -10 -36 0 -18 -4 -28 -10 -24 -5 3 -10 15 -10 26 0 11 -4 17 -10 14 -5 -3 -10 -19 -10 -35 0 -16 -4 -32 -10 -35 -10 -6 -15 35 -11 94 1 20 -3 37 -11 42 -10 7 -10 11 0 21 6 6 12 25 12 41 0 16 4 26 10 22 6 -3 10 -15 10 -26 0 -10 5 -19 10 -19 6 0 10 15 10 33 0 19 3 37 8 41 10 10 21 -63 15 -96z m-98 62 c4 -6 -13 -10 -45 -10 l-51 0 3 -32 c2 -27 8 -34 28 -36 42 -6 47 -22 7 -22 -35 0 -37 -2 -37 -32 0 -18 -5 -40 -10 -48 -17 -26 -30 8 -30 80 0 106 3 110 71 110 32 0 61 -4 64 -10z"],["d","M3178 2344 c-5 -4 -8 -21 -8 -38 0 -21 3 -27 11 -19 6 6 9 23 7 38 -2 15 -6 23 -10 19z"],["d","M3810 2565 l0 -1015 135 0 135 0 2 -772 3 -773 5 770 5 770 103 3 102 3 0 1014 0 1015 -245 0 -245 0 0 -1015z m384 -208 c2 -43 -1 -77 -5 -77 -5 0 -7 -11 -3 -24 3 -13 1 -27 -5 -30 -7 -5 -11 3 -11 20 0 22 -2 25 -15 14 -8 -7 -15 -26 -15 -43 0 -24 -3 -28 -12 -19 -7 7 -11 47 -11 107 0 60 4 100 11 107 9 9 12 6 12 -15 0 -17 5 -27 15 -27 11 0 15 11 15 42 0 74 21 27 24 -55z m-104 47 c0 -13 -7 -15 -37 -11 -48 8 -84 -9 -96 -46 -14 -44 -1 -76 38 -93 49 -20 55 -18 55 21 0 24 5 35 15 35 11 0 15 -12 15 -45 l0 -45 -46 0 c-84 0 -130 49 -115 121 10 47 59 79 122 79 39 0 49 -3 49 -16z"],["d","M4147 2343 c-4 -3 -7 -20 -7 -36 0 -25 2 -28 15 -17 8 7 15 23 15 36 0 23 -10 31 -23 17z"],["d","M4770 2566 l0 -1015 53 -3 52 -3 5 -770 5 -770 3 773 2 772 185 0 185 0 0 1015 0 1015 -245 0 -245 0 0 -1014z m414 -209 c2 -43 -1 -77 -5 -77 -5 0 -7 -11 -3 -24 3 -13 1 -27 -5 -30 -7 -5 -11 3 -11 20 0 22 -2 25 -15 14 -8 -7 -15 -26 -15 -43 0 -24 -3 -28 -12 -19 -7 7 -11 47 -11 107 0 60 4 100 11 107 9 9 12 6 12 -15 0 -17 5 -27 15 -27 11 0 15 11 15 42 0 74 21 27 24 -55z m-144 -21 c22 -47 40 -92 40 -101 0 -30 -32 -11 -44 25 -9 30 -16 35 -46 37 -40 3 -60 -10 -77 -49 -8 -17 -20 -28 -33 -28 -17 0 -11 14 41 100 34 55 65 100 70 100 5 0 27 -38 49 -84z"],["d","M5137 2343 c-4 -3 -7 -20 -7 -36 0 -25 2 -28 15 -17 8 7 15 23 15 36 0 23 -10 31 -23 17z"],["d","M4967 2342 c-24 -26 -21 -32 13 -32 31 0 35 6 24 34 -8 21 -17 20 -37 -2z"],["d","M317 696 c-44 -16 -53 -23 -44 -33 4 -4 13 -1 19 5 17 17 90 15 116 -4 20 -14 23 -14 28 1 4 9 3 20 -2 25 -17 17 -79 20 -117 6z"],["d","M1045 702 c-3 -3 -5 -90 -5 -194 l0 -189 23 7 c48 15 133 64 158 91 50 55 63 86 63 144 1 102 -62 152 -183 148 -28 -1 -53 -4 -56 -7z m155 -38 c77 -46 82 -160 10 -235 -21 -22 -80 -55 -112 -63 -25 -6 -28 -3 -34 31 -8 41 1 256 11 273 10 16 94 12 125 -6z"],["d","M1892 702 c-9 -7 -12 -51 -10 -188 l3 -179 75 -3 c89 -4 120 3 120 24 0 14 -11 15 -84 9 -81 -6 -83 -6 -89 17 -8 29 -8 76 -1 106 5 19 13 22 54 22 27 0 55 3 64 6 32 12 15 24 -36 24 -74 0 -82 8 -83 77 l0 58 84 5 c55 3 86 9 89 18 3 9 -18 12 -85 12 -48 0 -94 -4 -101 -8z"],["d","M2733 703 c-16 -6 -19 -363 -3 -363 6 0 10 28 10 63 0 102 4 107 65 107 35 0 57 5 65 15 11 13 5 15 -41 15 -30 0 -60 4 -67 8 -16 11 -27 73 -18 106 6 25 9 26 91 26 69 0 85 3 85 15 0 12 -16 15 -87 14 -49 0 -94 -3 -100 -6z"],["d","M3675 704 c-105 -25 -161 -82 -172 -175 -7 -62 9 -101 58 -140 38 -30 125 -59 179 -59 39 0 50 23 50 109 0 93 -18 92 -22 -1 l-3 -73 -50 0 c-58 1 -138 37 -168 77 -25 34 -26 104 -2 153 28 56 82 85 162 85 34 0 64 -4 67 -9 3 -5 15 -11 26 -14 15 -4 20 0 20 13 0 12 -10 20 -27 24 -55 11 -98 14 -118 10z"],["d","M4474 678 c-9 -18 -20 -35 -24 -38 -10 -7 -51 -74 -100 -165 -24 -44 -52 -93 -63 -109 -16 -23 -17 -30 -6 -37 14 -9 39 14 39 36 0 17 38 88 52 97 7 4 57 8 110 8 l98 0 20 -40 c11 -21 20 -51 20 -65 0 -27 6 -30 29 -16 11 7 7 24 -26 93 -82 168 -94 194 -104 230 -12 47 -23 48 -45 6z m54 -86 c18 -37 32 -73 32 -80 0 -8 -24 -12 -85 -12 -78 0 -85 2 -85 20 0 11 4 20 8 20 4 0 24 27 43 60 18 33 39 60 45 60 6 0 25 -30 42 -68z"],["d","M5160 527 c0 -104 4 -188 9 -192 12 -7 96 13 138 32 40 19 67 72 58 114 -10 43 -76 83 -133 80 l-43 -3 3 59 c3 57 3 58 35 61 43 4 83 -23 83 -56 0 -24 1 -25 16 -10 20 20 11 53 -19 73 -12 7 -50 17 -84 21 l-63 7 0 -186z m140 -14 c33 -22 40 -33 40 -64 0 -36 -40 -76 -84 -84 -61 -12 -66 -5 -66 85 l0 80 43 0 c24 0 54 -8 67 -17z"],["d","M212 614 c-74 -111 -47 -224 65 -271 63 -27 173 -38 173 -19 0 11 -15 13 -65 11 -36 -2 -65 1 -65 6 0 5 -8 9 -17 9 -18 1 -58 31 -82 62 -37 48 -31 152 11 209 12 16 19 31 16 34 -3 3 -19 -15 -36 -41z"]],template:function(t,e){1&t&&(Qr(0,"header",0),Qr(1,"h1"),gi(2,"\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f \u043d\u0430 \u043c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043b\u0443\u0445"),Jr(),Jr(),Qr(3,"nav",1),ti(4),Gr(5,Dm,2,4,"ng-container",2),Io(6,"keyvalue"),ei(),Jr(),Qr(7,"main",3),Gr(8,Im,1,0,"ng-container",4),Jr(),Gr(9,Nm,8,2,"div",5),Qr(10,"footer",6),gi(11),Io(12,"date"),Jr(),Gr(13,Pm,2,1,"ng-template",null,7,Qo),Gr(15,Rm,17,11,"ng-template",null,8,Qo),Gr(17,jm,14,8,"ng-template",null,9,Qo),Gr(19,Fm,23,0,"ng-template",null,10,Qo)),2&t&&(Os(5),Yr("ngForOf",function(t,e,n){const s=fe(),r=re(s,26);return Po(s,No(s,26)?Do(s,Ce(),4,r.transform,n,r):r.transform(n))}(0,0,e.exercises)),Os(3),Yr("ngTemplateOutlet",e.exercise),Os(1),Yr("ngIf",e.counter.total),Os(2),yi("(c) ",function(t,e,n,s){const r=fe(),i=re(r,32);return Po(r,No(r,32)?function(t,e,n,s,r,i,o){const a=e+n;return function(t,e,n,s){const r=Ur(t,e,n);return Ur(t,e+1,s)||r}(t,a,r,i)?Wr(t,a+2,o?s.call(o,r,i):s(r,i)):Mo(t,a+2)}(r,Ce(),6,i.transform,n,"YYYY",i):i.transform(n,"YYYY"))}(0,0,e.today),""))},styles:['[_nghost-%COMP%]{display:grid;grid-gap:5px;height:100%;min-height:100vh;grid-template-areas:"header" "nav" "sidebar" "main" "footer";grid-template-columns:1fr;grid-template-rows:var(--header-height) var(--nav-size) var(--sidebar-size) auto var(--header-height);--header-height:50px;--header-padding:10px;--nav-size:clamp(50px,70px,20vh);--sidebar-size:clamp(25px,45px,15vh);--header-color:#d7e6ed;--footer-colot:#d7e6ed;--main-color:#fff;--bg-color:#f5f5ef;--button-color:#cddefb;--answer-button-color:#fff;--answer-button-bg-color:#90ee90}.app-header[_ngcontent-%COMP%]{height:var(--header-height);word-wrap:break-word;grid-area:header;background-color:var(--header-color);display:flex;justify-content:space-around;align-items:center}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1rem,.4512rem + 2.439vw,3.5rem)}.app-nav[_ngcontent-%COMP%]{grid-area:nav;display:flex;justify-content:space-around;flex-direction:row}.app-aside[_ngcontent-%COMP%]{grid-area:sidebar;display:flex;align-items:center;justify-content:flex-end;padding:10px;font-size:.8em;color:#2e8b57}.app-aside[_ngcontent-%COMP%]   ._important[_ngcontent-%COMP%]{font-weight:700}.app-main[_ngcontent-%COMP%]{flex-grow:1;grid-area:main;background-color:var(--main-color)}.app-footer[_ngcontent-%COMP%]{height:var(--header-height);padding:var(--header-padding);grid-area:footer;background-color:var(--footer-colot);justify-content:flex-end}.app-footer[_ngcontent-%COMP%], .app__exrcs-card[_ngcontent-%COMP%]{display:flex;align-items:center}.app__exrcs-card[_ngcontent-%COMP%]{background-color:var(--button-color);justify-content:center;padding:10px;border-radius:15px;flex:0 0 30%;cursor:pointer;text-align:center}.btn[_ngcontent-%COMP%]{line-height:30px;cursor:pointer;margin:5px;max-width:200px;position:relative;text-decoration:none;text-transform:uppercase;width:100%;border-radius:15px;border:1px solid}.btn._active[_ngcontent-%COMP%]{background-color:#20b2aa;color:#fff}.btn[_ngcontent-%COMP%]:hover{border:1px solid}.btn[_ngcontent-%COMP%]:focus{border:1 solid;outline:none}.btn._disabled[_ngcontent-%COMP%]{background-color:grey;pointer-events:none;cursor:default}.btn-answer[_ngcontent-%COMP%]{transition-property:all;transition-duration:.6s;transition-timing-function:ease;font-size:16px;font-weight:400;line-height:45px;color:var(--answer-button-color);background-color:var(--answer-button-bg-color);box-shadow:inset 0 0 20px hsla(0,0%,100%,0);outline:1px solid;outline-color:hsla(0,0%,100%,.5);outline-offset:0;text-shadow:none;transition:all 1.25s cubic-bezier(.19,1,.22,1)}.btn-answer._small[_ngcontent-%COMP%]{line-height:25px;max-width:50px}.btn-answer[_ngcontent-%COMP%]:hover{border:1px solid;box-shadow:inset 0 0 20px hsla(0,0%,100%,.5),0 0 20px hsla(0,0%,100%,.2);outline-color:hsla(0,0%,100%,0);outline-offset:15px;text-shadow:1px 1px 2px #427388}.app__exrcs[_ngcontent-%COMP%]{height:100%;display:flex;margin:0 auto;max-width:500px;flex-direction:column;align-items:center}.app__exrcs-question-area[_ngcontent-%COMP%], .app__exrcs-rule-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:10px;width:100%}.app__exrcs-question[_ngcontent-%COMP%]{margin:auto 20px auto 0;font-weight:700;font-size:1em}.app__exrcs-question[_ngcontent-%COMP%], .app_exrcs-answer[_ngcontent-%COMP%]{letter-spacing:2px;line-height:1.5em;font-style:oblique}.app_exrcs-answer[_ngcontent-%COMP%]{font-size:.8em;text-align:center;padding:10px;color:brown}.app_exrcs-answer._correct[_ngcontent-%COMP%]{color:green}'],changeDetection:0},ht(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||wt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||pt.Emulated,id:"c",styles:e.styles||wt,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,r=e.features,i=e.pipes;return n.id+=Et++,n.inputs=Nt(e.inputs,t),n.outputs=Nt(e.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=s?()=>("function"==typeof s?s():s).map(Ot):null,n.pipeDefs=i?()=>("function"==typeof i?i():i).map(Mt):null,n})),t;var e})(),Lm=(()=>{class t{}return t.\u0275mod=It({type:t,bootstrap:[qm]}),t.\u0275inj=K({factory:function(e){return new(e||t)},imports:[[xc,Sc]]}),t})();bc().bootstrapModule(Lm).then(t=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=t}).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);